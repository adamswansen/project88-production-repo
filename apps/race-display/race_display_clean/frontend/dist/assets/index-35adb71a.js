function TO(o,r){for(var t=0;t<r.length;t++){const e=r[t];if(typeof e!="string"&&!Array.isArray(e)){for(const n in e)if(n!=="default"&&!(n in o)){const i=Object.getOwnPropertyDescriptor(e,n);i&&Object.defineProperty(o,n,i.get?i:{enumerable:!0,get:()=>e[n]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))e(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&e(s)}).observe(document,{childList:!0,subtree:!0});function t(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function e(n){if(n.ep)return;n.ep=!0;const i=t(n);fetch(n.href,i)}})();function EO(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var aC={exports:{}},vp={},sC={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dc=Symbol.for("react.element"),PO=Symbol.for("react.portal"),kO=Symbol.for("react.fragment"),AO=Symbol.for("react.strict_mode"),MO=Symbol.for("react.profiler"),LO=Symbol.for("react.provider"),DO=Symbol.for("react.context"),jO=Symbol.for("react.forward_ref"),NO=Symbol.for("react.suspense"),IO=Symbol.for("react.memo"),RO=Symbol.for("react.lazy"),C0=Symbol.iterator;function FO(o){return o===null||typeof o!="object"?null:(o=C0&&o[C0]||o["@@iterator"],typeof o=="function"?o:null)}var lC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uC=Object.assign,cC={};function bl(o,r,t){this.props=o,this.context=r,this.refs=cC,this.updater=t||lC}bl.prototype.isReactComponent={};bl.prototype.setState=function(o,r){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,o,r,"setState")};bl.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function fC(){}fC.prototype=bl.prototype;function Hg(o,r,t){this.props=o,this.context=r,this.refs=cC,this.updater=t||lC}var Bg=Hg.prototype=new fC;Bg.constructor=Hg;uC(Bg,bl.prototype);Bg.isPureReactComponent=!0;var b0=Array.isArray,dC=Object.prototype.hasOwnProperty,zg={current:null},pC={key:!0,ref:!0,__self:!0,__source:!0};function hC(o,r,t){var e,n={},i=null,s=null;if(r!=null)for(e in r.ref!==void 0&&(s=r.ref),r.key!==void 0&&(i=""+r.key),r)dC.call(r,e)&&!pC.hasOwnProperty(e)&&(n[e]=r[e]);var u=arguments.length-2;if(u===1)n.children=t;else if(1<u){for(var c=Array(u),f=0;f<u;f++)c[f]=arguments[f+2];n.children=c}if(o&&o.defaultProps)for(e in u=o.defaultProps,u)n[e]===void 0&&(n[e]=u[e]);return{$$typeof:dc,type:o,key:i,ref:s,props:n,_owner:zg.current}}function VO(o,r){return{$$typeof:dc,type:o.type,key:r,ref:o.ref,props:o.props,_owner:o._owner}}function Wg(o){return typeof o=="object"&&o!==null&&o.$$typeof===dc}function UO(o){var r={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(t){return r[t]})}var x0=/\/+/g;function gh(o,r){return typeof o=="object"&&o!==null&&o.key!=null?UO(""+o.key):r.toString(36)}function kf(o,r,t,e,n){var i=typeof o;(i==="undefined"||i==="boolean")&&(o=null);var s=!1;if(o===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(o.$$typeof){case dc:case PO:s=!0}}if(s)return s=o,n=n(s),o=e===""?"."+gh(s,0):e,b0(n)?(t="",o!=null&&(t=o.replace(x0,"$&/")+"/"),kf(n,r,t,"",function(f){return f})):n!=null&&(Wg(n)&&(n=VO(n,t+(!n.key||s&&s.key===n.key?"":(""+n.key).replace(x0,"$&/")+"/")+o)),r.push(n)),1;if(s=0,e=e===""?".":e+":",b0(o))for(var u=0;u<o.length;u++){i=o[u];var c=e+gh(i,u);s+=kf(i,r,t,c,n)}else if(c=FO(o),typeof c=="function")for(o=c.call(o),u=0;!(i=o.next()).done;)i=i.value,c=e+gh(i,u++),s+=kf(i,r,t,c,n);else if(i==="object")throw r=String(o),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return s}function rf(o,r,t){if(o==null)return o;var e=[],n=0;return kf(o,e,"","",function(i){return r.call(t,i,n++)}),e}function HO(o){if(o._status===-1){var r=o._result;r=r(),r.then(function(t){(o._status===0||o._status===-1)&&(o._status=1,o._result=t)},function(t){(o._status===0||o._status===-1)&&(o._status=2,o._result=t)}),o._status===-1&&(o._status=0,o._result=r)}if(o._status===1)return o._result.default;throw o._result}var An={current:null},Af={transition:null},BO={ReactCurrentDispatcher:An,ReactCurrentBatchConfig:Af,ReactCurrentOwner:zg};function vC(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:rf,forEach:function(o,r,t){rf(o,function(){r.apply(this,arguments)},t)},count:function(o){var r=0;return rf(o,function(){r++}),r},toArray:function(o){return rf(o,function(r){return r})||[]},only:function(o){if(!Wg(o))throw Error("React.Children.only expected to receive a single React element child.");return o}};je.Component=bl;je.Fragment=kO;je.Profiler=MO;je.PureComponent=Hg;je.StrictMode=AO;je.Suspense=NO;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BO;je.act=vC;je.cloneElement=function(o,r,t){if(o==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+o+".");var e=uC({},o.props),n=o.key,i=o.ref,s=o._owner;if(r!=null){if(r.ref!==void 0&&(i=r.ref,s=zg.current),r.key!==void 0&&(n=""+r.key),o.type&&o.type.defaultProps)var u=o.type.defaultProps;for(c in r)dC.call(r,c)&&!pC.hasOwnProperty(c)&&(e[c]=r[c]===void 0&&u!==void 0?u[c]:r[c])}var c=arguments.length-2;if(c===1)e.children=t;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];e.children=u}return{$$typeof:dc,type:o.type,key:n,ref:i,props:e,_owner:s}};je.createContext=function(o){return o={$$typeof:DO,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},o.Provider={$$typeof:LO,_context:o},o.Consumer=o};je.createElement=hC;je.createFactory=function(o){var r=hC.bind(null,o);return r.type=o,r};je.createRef=function(){return{current:null}};je.forwardRef=function(o){return{$$typeof:jO,render:o}};je.isValidElement=Wg;je.lazy=function(o){return{$$typeof:RO,_payload:{_status:-1,_result:o},_init:HO}};je.memo=function(o,r){return{$$typeof:IO,type:o,compare:r===void 0?null:r}};je.startTransition=function(o){var r=Af.transition;Af.transition={};try{o()}finally{Af.transition=r}};je.unstable_act=vC;je.useCallback=function(o,r){return An.current.useCallback(o,r)};je.useContext=function(o){return An.current.useContext(o)};je.useDebugValue=function(){};je.useDeferredValue=function(o){return An.current.useDeferredValue(o)};je.useEffect=function(o,r){return An.current.useEffect(o,r)};je.useId=function(){return An.current.useId()};je.useImperativeHandle=function(o,r,t){return An.current.useImperativeHandle(o,r,t)};je.useInsertionEffect=function(o,r){return An.current.useInsertionEffect(o,r)};je.useLayoutEffect=function(o,r){return An.current.useLayoutEffect(o,r)};je.useMemo=function(o,r){return An.current.useMemo(o,r)};je.useReducer=function(o,r,t){return An.current.useReducer(o,r,t)};je.useRef=function(o){return An.current.useRef(o)};je.useState=function(o){return An.current.useState(o)};je.useSyncExternalStore=function(o,r,t){return An.current.useSyncExternalStore(o,r,t)};je.useTransition=function(){return An.current.useTransition()};je.version="18.3.1";sC.exports=je;var Gt=sC.exports;const gC=EO(Gt),zO=TO({__proto__:null,default:gC},[Gt]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WO=Gt,KO=Symbol.for("react.element"),$O=Symbol.for("react.fragment"),GO=Object.prototype.hasOwnProperty,YO=WO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XO={key:!0,ref:!0,__self:!0,__source:!0};function mC(o,r,t){var e,n={},i=null,s=null;t!==void 0&&(i=""+t),r.key!==void 0&&(i=""+r.key),r.ref!==void 0&&(s=r.ref);for(e in r)GO.call(r,e)&&!XO.hasOwnProperty(e)&&(n[e]=r[e]);if(o&&o.defaultProps)for(e in r=o.defaultProps,r)n[e]===void 0&&(n[e]=r[e]);return{$$typeof:KO,type:o,key:i,ref:s,props:n,_owner:YO.current}}vp.Fragment=$O;vp.jsx=mC;vp.jsxs=mC;aC.exports=vp;var ye=aC.exports,_v={},yC={exports:{}},vo={},_C={exports:{}},wC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(o){function r(nt,Ct){var Dt=nt.length;nt.push(Ct);t:for(;0<Dt;){var st=Dt-1>>>1,Ot=nt[st];if(0<n(Ot,Ct))nt[st]=Ct,nt[Dt]=Ot,Dt=st;else break t}}function t(nt){return nt.length===0?null:nt[0]}function e(nt){if(nt.length===0)return null;var Ct=nt[0],Dt=nt.pop();if(Dt!==Ct){nt[0]=Dt;t:for(var st=0,Ot=nt.length,Vt=Ot>>>1;st<Vt;){var Tt=2*(st+1)-1,te=nt[Tt],pt=Tt+1,bt=nt[pt];if(0>n(te,Dt))pt<Ot&&0>n(bt,te)?(nt[st]=bt,nt[pt]=Dt,st=pt):(nt[st]=te,nt[Tt]=Dt,st=Tt);else if(pt<Ot&&0>n(bt,Dt))nt[st]=bt,nt[pt]=Dt,st=pt;else break t}}return Ct}function n(nt,Ct){var Dt=nt.sortIndex-Ct.sortIndex;return Dt!==0?Dt:nt.id-Ct.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;o.unstable_now=function(){return i.now()}}else{var s=Date,u=s.now();o.unstable_now=function(){return s.now()-u}}var c=[],f=[],h=1,g=null,m=3,y=!1,w=!1,b=!1,O=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(nt){for(var Ct=t(f);Ct!==null;){if(Ct.callback===null)e(f);else if(Ct.startTime<=nt)e(f),Ct.sortIndex=Ct.expirationTime,r(c,Ct);else break;Ct=t(f)}}function j(nt){if(b=!1,T(nt),!w)if(t(c)!==null)w=!0,L(X);else{var Ct=t(f);Ct!==null&&_t(j,Ct.startTime-nt)}}function X(nt,Ct){w=!1,b&&(b=!1,S(Q),Q=-1),y=!0;var Dt=m;try{for(T(Ct),g=t(c);g!==null&&(!(g.expirationTime>Ct)||nt&&!H());){var st=g.callback;if(typeof st=="function"){g.callback=null,m=g.priorityLevel;var Ot=st(g.expirationTime<=Ct);Ct=o.unstable_now(),typeof Ot=="function"?g.callback=Ot:g===t(c)&&e(c),T(Ct)}else e(c);g=t(c)}if(g!==null)var Vt=!0;else{var Tt=t(f);Tt!==null&&_t(j,Tt.startTime-Ct),Vt=!1}return Vt}finally{g=null,m=Dt,y=!1}}var at=!1,ft=null,Q=-1,K=5,rt=-1;function H(){return!(o.unstable_now()-rt<K)}function V(){if(ft!==null){var nt=o.unstable_now();rt=nt;var Ct=!0;try{Ct=ft(!0,nt)}finally{Ct?W():(at=!1,ft=null)}}else at=!1}var W;if(typeof P=="function")W=function(){P(V)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,it=z.port2;z.port1.onmessage=V,W=function(){it.postMessage(null)}}else W=function(){O(V,0)};function L(nt){ft=nt,at||(at=!0,W())}function _t(nt,Ct){Q=O(function(){nt(o.unstable_now())},Ct)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(nt){nt.callback=null},o.unstable_continueExecution=function(){w||y||(w=!0,L(X))},o.unstable_forceFrameRate=function(nt){0>nt||125<nt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<nt?Math.floor(1e3/nt):5},o.unstable_getCurrentPriorityLevel=function(){return m},o.unstable_getFirstCallbackNode=function(){return t(c)},o.unstable_next=function(nt){switch(m){case 1:case 2:case 3:var Ct=3;break;default:Ct=m}var Dt=m;m=Ct;try{return nt()}finally{m=Dt}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(nt,Ct){switch(nt){case 1:case 2:case 3:case 4:case 5:break;default:nt=3}var Dt=m;m=nt;try{return Ct()}finally{m=Dt}},o.unstable_scheduleCallback=function(nt,Ct,Dt){var st=o.unstable_now();switch(typeof Dt=="object"&&Dt!==null?(Dt=Dt.delay,Dt=typeof Dt=="number"&&0<Dt?st+Dt:st):Dt=st,nt){case 1:var Ot=-1;break;case 2:Ot=250;break;case 5:Ot=1073741823;break;case 4:Ot=1e4;break;default:Ot=5e3}return Ot=Dt+Ot,nt={id:h++,callback:Ct,priorityLevel:nt,startTime:Dt,expirationTime:Ot,sortIndex:-1},Dt>st?(nt.sortIndex=Dt,r(f,nt),t(c)===null&&nt===t(f)&&(b?(S(Q),Q=-1):b=!0,_t(j,Dt-st))):(nt.sortIndex=Ot,r(c,nt),w||y||(w=!0,L(X))),nt},o.unstable_shouldYield=H,o.unstable_wrapCallback=function(nt){var Ct=m;return function(){var Dt=m;m=Ct;try{return nt.apply(this,arguments)}finally{m=Dt}}}})(wC);_C.exports=wC;var qO=_C.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JO=Gt,ho=qO;function Bt(o){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+o,t=1;t<arguments.length;t++)r+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+o+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var CC=new Set,Wu={};function ss(o,r){dl(o,r),dl(o+"Capture",r)}function dl(o,r){for(Wu[o]=r,o=0;o<r.length;o++)CC.add(r[o])}var Si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wv=Object.prototype.hasOwnProperty,ZO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S0={},O0={};function QO(o){return wv.call(O0,o)?!0:wv.call(S0,o)?!1:ZO.test(o)?O0[o]=!0:(S0[o]=!0,!1)}function tT(o,r,t,e){if(t!==null&&t.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return e?!1:t!==null?!t.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function eT(o,r,t,e){if(r===null||typeof r>"u"||tT(o,r,t,e))return!0;if(e)return!1;if(t!==null)switch(t.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function Mn(o,r,t,e,n,i,s){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=e,this.attributeNamespace=n,this.mustUseProperty=t,this.propertyName=o,this.type=r,this.sanitizeURL=i,this.removeEmptyString=s}var Qr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){Qr[o]=new Mn(o,0,!1,o,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var r=o[0];Qr[r]=new Mn(r,1,!1,o[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(o){Qr[o]=new Mn(o,2,!1,o.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){Qr[o]=new Mn(o,2,!1,o,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){Qr[o]=new Mn(o,3,!1,o.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(o){Qr[o]=new Mn(o,3,!0,o,null,!1,!1)});["capture","download"].forEach(function(o){Qr[o]=new Mn(o,4,!1,o,null,!1,!1)});["cols","rows","size","span"].forEach(function(o){Qr[o]=new Mn(o,6,!1,o,null,!1,!1)});["rowSpan","start"].forEach(function(o){Qr[o]=new Mn(o,5,!1,o.toLowerCase(),null,!1,!1)});var Kg=/[\-:]([a-z])/g;function $g(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var r=o.replace(Kg,$g);Qr[r]=new Mn(r,1,!1,o,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var r=o.replace(Kg,$g);Qr[r]=new Mn(r,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(o){var r=o.replace(Kg,$g);Qr[r]=new Mn(r,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(o){Qr[o]=new Mn(o,1,!1,o.toLowerCase(),null,!1,!1)});Qr.xlinkHref=new Mn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(o){Qr[o]=new Mn(o,1,!1,o.toLowerCase(),null,!0,!0)});function Gg(o,r,t,e){var n=Qr.hasOwnProperty(r)?Qr[r]:null;(n!==null?n.type!==0:e||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(eT(r,t,n,e)&&(t=null),e||n===null?QO(r)&&(t===null?o.removeAttribute(r):o.setAttribute(r,""+t)):n.mustUseProperty?o[n.propertyName]=t===null?n.type===3?!1:"":t:(r=n.attributeName,e=n.attributeNamespace,t===null?o.removeAttribute(r):(n=n.type,t=n===3||n===4&&t===!0?"":""+t,e?o.setAttributeNS(e,r,t):o.setAttribute(r,t))))}var ki=JO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nf=Symbol.for("react.element"),Fs=Symbol.for("react.portal"),Vs=Symbol.for("react.fragment"),Yg=Symbol.for("react.strict_mode"),Cv=Symbol.for("react.profiler"),bC=Symbol.for("react.provider"),xC=Symbol.for("react.context"),Xg=Symbol.for("react.forward_ref"),bv=Symbol.for("react.suspense"),xv=Symbol.for("react.suspense_list"),qg=Symbol.for("react.memo"),Zi=Symbol.for("react.lazy"),SC=Symbol.for("react.offscreen"),T0=Symbol.iterator;function nu(o){return o===null||typeof o!="object"?null:(o=T0&&o[T0]||o["@@iterator"],typeof o=="function"?o:null)}var pr=Object.assign,mh;function vu(o){if(mh===void 0)try{throw Error()}catch(t){var r=t.stack.trim().match(/\n( *(at )?)/);mh=r&&r[1]||""}return`
`+mh+o}var yh=!1;function _h(o,r){if(!o||yh)return"";yh=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(f){var e=f}Reflect.construct(o,[],r)}else{try{r.call()}catch(f){e=f}o.call(r.prototype)}else{try{throw Error()}catch(f){e=f}o()}}catch(f){if(f&&e&&typeof f.stack=="string"){for(var n=f.stack.split(`
`),i=e.stack.split(`
`),s=n.length-1,u=i.length-1;1<=s&&0<=u&&n[s]!==i[u];)u--;for(;1<=s&&0<=u;s--,u--)if(n[s]!==i[u]){if(s!==1||u!==1)do if(s--,u--,0>u||n[s]!==i[u]){var c=`
`+n[s].replace(" at new "," at ");return o.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",o.displayName)),c}while(1<=s&&0<=u);break}}}finally{yh=!1,Error.prepareStackTrace=t}return(o=o?o.displayName||o.name:"")?vu(o):""}function rT(o){switch(o.tag){case 5:return vu(o.type);case 16:return vu("Lazy");case 13:return vu("Suspense");case 19:return vu("SuspenseList");case 0:case 2:case 15:return o=_h(o.type,!1),o;case 11:return o=_h(o.type.render,!1),o;case 1:return o=_h(o.type,!0),o;default:return""}}function Sv(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case Vs:return"Fragment";case Fs:return"Portal";case Cv:return"Profiler";case Yg:return"StrictMode";case bv:return"Suspense";case xv:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case xC:return(o.displayName||"Context")+".Consumer";case bC:return(o._context.displayName||"Context")+".Provider";case Xg:var r=o.render;return o=o.displayName,o||(o=r.displayName||r.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case qg:return r=o.displayName||null,r!==null?r:Sv(o.type)||"Memo";case Zi:r=o._payload,o=o._init;try{return Sv(o(r))}catch{}}return null}function nT(o){var r=o.type;switch(o.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=r.render,o=o.displayName||o.name||"",r.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sv(r);case 8:return r===Yg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function ya(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function OC(o){var r=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function oT(o){var r=OC(o)?"checked":"value",t=Object.getOwnPropertyDescriptor(o.constructor.prototype,r),e=""+o[r];if(!o.hasOwnProperty(r)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var n=t.get,i=t.set;return Object.defineProperty(o,r,{configurable:!0,get:function(){return n.call(this)},set:function(s){e=""+s,i.call(this,s)}}),Object.defineProperty(o,r,{enumerable:t.enumerable}),{getValue:function(){return e},setValue:function(s){e=""+s},stopTracking:function(){o._valueTracker=null,delete o[r]}}}}function of(o){o._valueTracker||(o._valueTracker=oT(o))}function TC(o){if(!o)return!1;var r=o._valueTracker;if(!r)return!0;var t=r.getValue(),e="";return o&&(e=OC(o)?o.checked?"true":"false":o.value),o=e,o!==t?(r.setValue(o),!0):!1}function Kf(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ov(o,r){var t=r.checked;return pr({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??o._wrapperState.initialChecked})}function E0(o,r){var t=r.defaultValue==null?"":r.defaultValue,e=r.checked!=null?r.checked:r.defaultChecked;t=ya(r.value!=null?r.value:t),o._wrapperState={initialChecked:e,initialValue:t,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function EC(o,r){r=r.checked,r!=null&&Gg(o,"checked",r,!1)}function Tv(o,r){EC(o,r);var t=ya(r.value),e=r.type;if(t!=null)e==="number"?(t===0&&o.value===""||o.value!=t)&&(o.value=""+t):o.value!==""+t&&(o.value=""+t);else if(e==="submit"||e==="reset"){o.removeAttribute("value");return}r.hasOwnProperty("value")?Ev(o,r.type,t):r.hasOwnProperty("defaultValue")&&Ev(o,r.type,ya(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(o.defaultChecked=!!r.defaultChecked)}function P0(o,r,t){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var e=r.type;if(!(e!=="submit"&&e!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+o._wrapperState.initialValue,t||r===o.value||(o.value=r),o.defaultValue=r}t=o.name,t!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,t!==""&&(o.name=t)}function Ev(o,r,t){(r!=="number"||Kf(o.ownerDocument)!==o)&&(t==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+t&&(o.defaultValue=""+t))}var gu=Array.isArray;function ol(o,r,t,e){if(o=o.options,r){r={};for(var n=0;n<t.length;n++)r["$"+t[n]]=!0;for(t=0;t<o.length;t++)n=r.hasOwnProperty("$"+o[t].value),o[t].selected!==n&&(o[t].selected=n),n&&e&&(o[t].defaultSelected=!0)}else{for(t=""+ya(t),r=null,n=0;n<o.length;n++){if(o[n].value===t){o[n].selected=!0,e&&(o[n].defaultSelected=!0);return}r!==null||o[n].disabled||(r=o[n])}r!==null&&(r.selected=!0)}}function Pv(o,r){if(r.dangerouslySetInnerHTML!=null)throw Error(Bt(91));return pr({},r,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function k0(o,r){var t=r.value;if(t==null){if(t=r.children,r=r.defaultValue,t!=null){if(r!=null)throw Error(Bt(92));if(gu(t)){if(1<t.length)throw Error(Bt(93));t=t[0]}r=t}r==null&&(r=""),t=r}o._wrapperState={initialValue:ya(t)}}function PC(o,r){var t=ya(r.value),e=ya(r.defaultValue);t!=null&&(t=""+t,t!==o.value&&(o.value=t),r.defaultValue==null&&o.defaultValue!==t&&(o.defaultValue=t)),e!=null&&(o.defaultValue=""+e)}function A0(o){var r=o.textContent;r===o._wrapperState.initialValue&&r!==""&&r!==null&&(o.value=r)}function kC(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kv(o,r){return o==null||o==="http://www.w3.org/1999/xhtml"?kC(r):o==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var af,AC=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,t,e,n){MSApp.execUnsafeLocalFunction(function(){return o(r,t,e,n)})}:o}(function(o,r){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=r;else{for(af=af||document.createElement("div"),af.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=af.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;r.firstChild;)o.appendChild(r.firstChild)}});function Ku(o,r){if(r){var t=o.firstChild;if(t&&t===o.lastChild&&t.nodeType===3){t.nodeValue=r;return}}o.textContent=r}var bu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iT=["Webkit","ms","Moz","O"];Object.keys(bu).forEach(function(o){iT.forEach(function(r){r=r+o.charAt(0).toUpperCase()+o.substring(1),bu[r]=bu[o]})});function MC(o,r,t){return r==null||typeof r=="boolean"||r===""?"":t||typeof r!="number"||r===0||bu.hasOwnProperty(o)&&bu[o]?(""+r).trim():r+"px"}function LC(o,r){o=o.style;for(var t in r)if(r.hasOwnProperty(t)){var e=t.indexOf("--")===0,n=MC(t,r[t],e);t==="float"&&(t="cssFloat"),e?o.setProperty(t,n):o[t]=n}}var aT=pr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Av(o,r){if(r){if(aT[o]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(Bt(137,o));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(Bt(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(Bt(61))}if(r.style!=null&&typeof r.style!="object")throw Error(Bt(62))}}function Mv(o,r){if(o.indexOf("-")===-1)return typeof r.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lv=null;function Jg(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Dv=null,il=null,al=null;function M0(o){if(o=vc(o)){if(typeof Dv!="function")throw Error(Bt(280));var r=o.stateNode;r&&(r=wp(r),Dv(o.stateNode,o.type,r))}}function DC(o){il?al?al.push(o):al=[o]:il=o}function jC(){if(il){var o=il,r=al;if(al=il=null,M0(o),r)for(o=0;o<r.length;o++)M0(r[o])}}function NC(o,r){return o(r)}function IC(){}var wh=!1;function RC(o,r,t){if(wh)return o(r,t);wh=!0;try{return NC(o,r,t)}finally{wh=!1,(il!==null||al!==null)&&(IC(),jC())}}function $u(o,r){var t=o.stateNode;if(t===null)return null;var e=wp(t);if(e===null)return null;t=e[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(e=!e.disabled)||(o=o.type,e=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!e;break t;default:o=!1}if(o)return null;if(t&&typeof t!="function")throw Error(Bt(231,r,typeof t));return t}var jv=!1;if(Si)try{var ou={};Object.defineProperty(ou,"passive",{get:function(){jv=!0}}),window.addEventListener("test",ou,ou),window.removeEventListener("test",ou,ou)}catch{jv=!1}function sT(o,r,t,e,n,i,s,u,c){var f=Array.prototype.slice.call(arguments,3);try{r.apply(t,f)}catch(h){this.onError(h)}}var xu=!1,$f=null,Gf=!1,Nv=null,lT={onError:function(o){xu=!0,$f=o}};function uT(o,r,t,e,n,i,s,u,c){xu=!1,$f=null,sT.apply(lT,arguments)}function cT(o,r,t,e,n,i,s,u,c){if(uT.apply(this,arguments),xu){if(xu){var f=$f;xu=!1,$f=null}else throw Error(Bt(198));Gf||(Gf=!0,Nv=f)}}function ls(o){var r=o,t=o;if(o.alternate)for(;r.return;)r=r.return;else{o=r;do r=o,r.flags&4098&&(t=r.return),o=r.return;while(o)}return r.tag===3?t:null}function FC(o){if(o.tag===13){var r=o.memoizedState;if(r===null&&(o=o.alternate,o!==null&&(r=o.memoizedState)),r!==null)return r.dehydrated}return null}function L0(o){if(ls(o)!==o)throw Error(Bt(188))}function fT(o){var r=o.alternate;if(!r){if(r=ls(o),r===null)throw Error(Bt(188));return r!==o?null:o}for(var t=o,e=r;;){var n=t.return;if(n===null)break;var i=n.alternate;if(i===null){if(e=n.return,e!==null){t=e;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===t)return L0(n),o;if(i===e)return L0(n),r;i=i.sibling}throw Error(Bt(188))}if(t.return!==e.return)t=n,e=i;else{for(var s=!1,u=n.child;u;){if(u===t){s=!0,t=n,e=i;break}if(u===e){s=!0,e=n,t=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===t){s=!0,t=i,e=n;break}if(u===e){s=!0,e=i,t=n;break}u=u.sibling}if(!s)throw Error(Bt(189))}}if(t.alternate!==e)throw Error(Bt(190))}if(t.tag!==3)throw Error(Bt(188));return t.stateNode.current===t?o:r}function VC(o){return o=fT(o),o!==null?UC(o):null}function UC(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var r=UC(o);if(r!==null)return r;o=o.sibling}return null}var HC=ho.unstable_scheduleCallback,D0=ho.unstable_cancelCallback,dT=ho.unstable_shouldYield,pT=ho.unstable_requestPaint,Sr=ho.unstable_now,hT=ho.unstable_getCurrentPriorityLevel,Zg=ho.unstable_ImmediatePriority,BC=ho.unstable_UserBlockingPriority,Yf=ho.unstable_NormalPriority,vT=ho.unstable_LowPriority,zC=ho.unstable_IdlePriority,gp=null,ei=null;function gT(o){if(ei&&typeof ei.onCommitFiberRoot=="function")try{ei.onCommitFiberRoot(gp,o,void 0,(o.current.flags&128)===128)}catch{}}var Wo=Math.clz32?Math.clz32:_T,mT=Math.log,yT=Math.LN2;function _T(o){return o>>>=0,o===0?32:31-(mT(o)/yT|0)|0}var sf=64,lf=4194304;function mu(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Xf(o,r){var t=o.pendingLanes;if(t===0)return 0;var e=0,n=o.suspendedLanes,i=o.pingedLanes,s=t&268435455;if(s!==0){var u=s&~n;u!==0?e=mu(u):(i&=s,i!==0&&(e=mu(i)))}else s=t&~n,s!==0?e=mu(s):i!==0&&(e=mu(i));if(e===0)return 0;if(r!==0&&r!==e&&!(r&n)&&(n=e&-e,i=r&-r,n>=i||n===16&&(i&4194240)!==0))return r;if(e&4&&(e|=t&16),r=o.entangledLanes,r!==0)for(o=o.entanglements,r&=e;0<r;)t=31-Wo(r),n=1<<t,e|=o[t],r&=~n;return e}function wT(o,r){switch(o){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CT(o,r){for(var t=o.suspendedLanes,e=o.pingedLanes,n=o.expirationTimes,i=o.pendingLanes;0<i;){var s=31-Wo(i),u=1<<s,c=n[s];c===-1?(!(u&t)||u&e)&&(n[s]=wT(u,r)):c<=r&&(o.expiredLanes|=u),i&=~u}}function Iv(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function WC(){var o=sf;return sf<<=1,!(sf&4194240)&&(sf=64),o}function Ch(o){for(var r=[],t=0;31>t;t++)r.push(o);return r}function pc(o,r,t){o.pendingLanes|=r,r!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,r=31-Wo(r),o[r]=t}function bT(o,r){var t=o.pendingLanes&~r;o.pendingLanes=r,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=r,o.mutableReadLanes&=r,o.entangledLanes&=r,r=o.entanglements;var e=o.eventTimes;for(o=o.expirationTimes;0<t;){var n=31-Wo(t),i=1<<n;r[n]=0,e[n]=-1,o[n]=-1,t&=~i}}function Qg(o,r){var t=o.entangledLanes|=r;for(o=o.entanglements;t;){var e=31-Wo(t),n=1<<e;n&r|o[e]&r&&(o[e]|=r),t&=~n}}var We=0;function KC(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var $C,tm,GC,YC,XC,Rv=!1,uf=[],ua=null,ca=null,fa=null,Gu=new Map,Yu=new Map,na=[],xT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function j0(o,r){switch(o){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":fa=null;break;case"pointerover":case"pointerout":Gu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yu.delete(r.pointerId)}}function iu(o,r,t,e,n,i){return o===null||o.nativeEvent!==i?(o={blockedOn:r,domEventName:t,eventSystemFlags:e,nativeEvent:i,targetContainers:[n]},r!==null&&(r=vc(r),r!==null&&tm(r)),o):(o.eventSystemFlags|=e,r=o.targetContainers,n!==null&&r.indexOf(n)===-1&&r.push(n),o)}function ST(o,r,t,e,n){switch(r){case"focusin":return ua=iu(ua,o,r,t,e,n),!0;case"dragenter":return ca=iu(ca,o,r,t,e,n),!0;case"mouseover":return fa=iu(fa,o,r,t,e,n),!0;case"pointerover":var i=n.pointerId;return Gu.set(i,iu(Gu.get(i)||null,o,r,t,e,n)),!0;case"gotpointercapture":return i=n.pointerId,Yu.set(i,iu(Yu.get(i)||null,o,r,t,e,n)),!0}return!1}function qC(o){var r=$a(o.target);if(r!==null){var t=ls(r);if(t!==null){if(r=t.tag,r===13){if(r=FC(t),r!==null){o.blockedOn=r,XC(o.priority,function(){GC(t)});return}}else if(r===3&&t.stateNode.current.memoizedState.isDehydrated){o.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Mf(o){if(o.blockedOn!==null)return!1;for(var r=o.targetContainers;0<r.length;){var t=Fv(o.domEventName,o.eventSystemFlags,r[0],o.nativeEvent);if(t===null){t=o.nativeEvent;var e=new t.constructor(t.type,t);Lv=e,t.target.dispatchEvent(e),Lv=null}else return r=vc(t),r!==null&&tm(r),o.blockedOn=t,!1;r.shift()}return!0}function N0(o,r,t){Mf(o)&&t.delete(r)}function OT(){Rv=!1,ua!==null&&Mf(ua)&&(ua=null),ca!==null&&Mf(ca)&&(ca=null),fa!==null&&Mf(fa)&&(fa=null),Gu.forEach(N0),Yu.forEach(N0)}function au(o,r){o.blockedOn===r&&(o.blockedOn=null,Rv||(Rv=!0,ho.unstable_scheduleCallback(ho.unstable_NormalPriority,OT)))}function Xu(o){function r(n){return au(n,o)}if(0<uf.length){au(uf[0],o);for(var t=1;t<uf.length;t++){var e=uf[t];e.blockedOn===o&&(e.blockedOn=null)}}for(ua!==null&&au(ua,o),ca!==null&&au(ca,o),fa!==null&&au(fa,o),Gu.forEach(r),Yu.forEach(r),t=0;t<na.length;t++)e=na[t],e.blockedOn===o&&(e.blockedOn=null);for(;0<na.length&&(t=na[0],t.blockedOn===null);)qC(t),t.blockedOn===null&&na.shift()}var sl=ki.ReactCurrentBatchConfig,qf=!0;function TT(o,r,t,e){var n=We,i=sl.transition;sl.transition=null;try{We=1,em(o,r,t,e)}finally{We=n,sl.transition=i}}function ET(o,r,t,e){var n=We,i=sl.transition;sl.transition=null;try{We=4,em(o,r,t,e)}finally{We=n,sl.transition=i}}function em(o,r,t,e){if(qf){var n=Fv(o,r,t,e);if(n===null)Mh(o,r,e,Jf,t),j0(o,e);else if(ST(n,o,r,t,e))e.stopPropagation();else if(j0(o,e),r&4&&-1<xT.indexOf(o)){for(;n!==null;){var i=vc(n);if(i!==null&&$C(i),i=Fv(o,r,t,e),i===null&&Mh(o,r,e,Jf,t),i===n)break;n=i}n!==null&&e.stopPropagation()}else Mh(o,r,e,null,t)}}var Jf=null;function Fv(o,r,t,e){if(Jf=null,o=Jg(e),o=$a(o),o!==null)if(r=ls(o),r===null)o=null;else if(t=r.tag,t===13){if(o=FC(r),o!==null)return o;o=null}else if(t===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;o=null}else r!==o&&(o=null);return Jf=o,null}function JC(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hT()){case Zg:return 1;case BC:return 4;case Yf:case vT:return 16;case zC:return 536870912;default:return 16}default:return 16}}var ia=null,rm=null,Lf=null;function ZC(){if(Lf)return Lf;var o,r=rm,t=r.length,e,n="value"in ia?ia.value:ia.textContent,i=n.length;for(o=0;o<t&&r[o]===n[o];o++);var s=t-o;for(e=1;e<=s&&r[t-e]===n[i-e];e++);return Lf=n.slice(o,1<e?1-e:void 0)}function Df(o){var r=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&r===13&&(o=13)):o=r,o===10&&(o=13),32<=o||o===13?o:0}function cf(){return!0}function I0(){return!1}function go(o){function r(t,e,n,i,s){this._reactName=t,this._targetInst=n,this.type=e,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var u in o)o.hasOwnProperty(u)&&(t=o[u],this[u]=t?t(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?cf:I0,this.isPropagationStopped=I0,this}return pr(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=cf)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=cf)},persist:function(){},isPersistent:cf}),r}var xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nm=go(xl),hc=pr({},xl,{view:0,detail:0}),PT=go(hc),bh,xh,su,mp=pr({},hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:om,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==su&&(su&&o.type==="mousemove"?(bh=o.screenX-su.screenX,xh=o.screenY-su.screenY):xh=bh=0,su=o),bh)},movementY:function(o){return"movementY"in o?o.movementY:xh}}),R0=go(mp),kT=pr({},mp,{dataTransfer:0}),AT=go(kT),MT=pr({},hc,{relatedTarget:0}),Sh=go(MT),LT=pr({},xl,{animationName:0,elapsedTime:0,pseudoElement:0}),DT=go(LT),jT=pr({},xl,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),NT=go(jT),IT=pr({},xl,{data:0}),F0=go(IT),RT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UT(o){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(o):(o=VT[o])?!!r[o]:!1}function om(){return UT}var HT=pr({},hc,{key:function(o){if(o.key){var r=RT[o.key]||o.key;if(r!=="Unidentified")return r}return o.type==="keypress"?(o=Df(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?FT[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:om,charCode:function(o){return o.type==="keypress"?Df(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Df(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),BT=go(HT),zT=pr({},mp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V0=go(zT),WT=pr({},hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:om}),KT=go(WT),$T=pr({},xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),GT=go($T),YT=pr({},mp,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),XT=go(YT),qT=[9,13,27,32],im=Si&&"CompositionEvent"in window,Su=null;Si&&"documentMode"in document&&(Su=document.documentMode);var JT=Si&&"TextEvent"in window&&!Su,QC=Si&&(!im||Su&&8<Su&&11>=Su),U0=String.fromCharCode(32),H0=!1;function tb(o,r){switch(o){case"keyup":return qT.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eb(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Us=!1;function ZT(o,r){switch(o){case"compositionend":return eb(r);case"keypress":return r.which!==32?null:(H0=!0,U0);case"textInput":return o=r.data,o===U0&&H0?null:o;default:return null}}function QT(o,r){if(Us)return o==="compositionend"||!im&&tb(o,r)?(o=ZC(),Lf=rm=ia=null,Us=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return QC&&r.locale!=="ko"?null:r.data;default:return null}}var tE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function B0(o){var r=o&&o.nodeName&&o.nodeName.toLowerCase();return r==="input"?!!tE[o.type]:r==="textarea"}function rb(o,r,t,e){DC(e),r=Zf(r,"onChange"),0<r.length&&(t=new nm("onChange","change",null,t,e),o.push({event:t,listeners:r}))}var Ou=null,qu=null;function eE(o){pb(o,0)}function yp(o){var r=zs(o);if(TC(r))return o}function rE(o,r){if(o==="change")return r}var nb=!1;if(Si){var Oh;if(Si){var Th="oninput"in document;if(!Th){var z0=document.createElement("div");z0.setAttribute("oninput","return;"),Th=typeof z0.oninput=="function"}Oh=Th}else Oh=!1;nb=Oh&&(!document.documentMode||9<document.documentMode)}function W0(){Ou&&(Ou.detachEvent("onpropertychange",ob),qu=Ou=null)}function ob(o){if(o.propertyName==="value"&&yp(qu)){var r=[];rb(r,qu,o,Jg(o)),RC(eE,r)}}function nE(o,r,t){o==="focusin"?(W0(),Ou=r,qu=t,Ou.attachEvent("onpropertychange",ob)):o==="focusout"&&W0()}function oE(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return yp(qu)}function iE(o,r){if(o==="click")return yp(r)}function aE(o,r){if(o==="input"||o==="change")return yp(r)}function sE(o,r){return o===r&&(o!==0||1/o===1/r)||o!==o&&r!==r}var $o=typeof Object.is=="function"?Object.is:sE;function Ju(o,r){if($o(o,r))return!0;if(typeof o!="object"||o===null||typeof r!="object"||r===null)return!1;var t=Object.keys(o),e=Object.keys(r);if(t.length!==e.length)return!1;for(e=0;e<t.length;e++){var n=t[e];if(!wv.call(r,n)||!$o(o[n],r[n]))return!1}return!0}function K0(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function $0(o,r){var t=K0(o);o=0;for(var e;t;){if(t.nodeType===3){if(e=o+t.textContent.length,o<=r&&e>=r)return{node:t,offset:r-o};o=e}t:{for(;t;){if(t.nextSibling){t=t.nextSibling;break t}t=t.parentNode}t=void 0}t=K0(t)}}function ib(o,r){return o&&r?o===r?!0:o&&o.nodeType===3?!1:r&&r.nodeType===3?ib(o,r.parentNode):"contains"in o?o.contains(r):o.compareDocumentPosition?!!(o.compareDocumentPosition(r)&16):!1:!1}function ab(){for(var o=window,r=Kf();r instanceof o.HTMLIFrameElement;){try{var t=typeof r.contentWindow.location.href=="string"}catch{t=!1}if(t)o=r.contentWindow;else break;r=Kf(o.document)}return r}function am(o){var r=o&&o.nodeName&&o.nodeName.toLowerCase();return r&&(r==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||r==="textarea"||o.contentEditable==="true")}function lE(o){var r=ab(),t=o.focusedElem,e=o.selectionRange;if(r!==t&&t&&t.ownerDocument&&ib(t.ownerDocument.documentElement,t)){if(e!==null&&am(t)){if(r=e.start,o=e.end,o===void 0&&(o=r),"selectionStart"in t)t.selectionStart=r,t.selectionEnd=Math.min(o,t.value.length);else if(o=(r=t.ownerDocument||document)&&r.defaultView||window,o.getSelection){o=o.getSelection();var n=t.textContent.length,i=Math.min(e.start,n);e=e.end===void 0?i:Math.min(e.end,n),!o.extend&&i>e&&(n=e,e=i,i=n),n=$0(t,i);var s=$0(t,e);n&&s&&(o.rangeCount!==1||o.anchorNode!==n.node||o.anchorOffset!==n.offset||o.focusNode!==s.node||o.focusOffset!==s.offset)&&(r=r.createRange(),r.setStart(n.node,n.offset),o.removeAllRanges(),i>e?(o.addRange(r),o.extend(s.node,s.offset)):(r.setEnd(s.node,s.offset),o.addRange(r)))}}for(r=[],o=t;o=o.parentNode;)o.nodeType===1&&r.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<r.length;t++)o=r[t],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var uE=Si&&"documentMode"in document&&11>=document.documentMode,Hs=null,Vv=null,Tu=null,Uv=!1;function G0(o,r,t){var e=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Uv||Hs==null||Hs!==Kf(e)||(e=Hs,"selectionStart"in e&&am(e)?e={start:e.selectionStart,end:e.selectionEnd}:(e=(e.ownerDocument&&e.ownerDocument.defaultView||window).getSelection(),e={anchorNode:e.anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset}),Tu&&Ju(Tu,e)||(Tu=e,e=Zf(Vv,"onSelect"),0<e.length&&(r=new nm("onSelect","select",null,r,t),o.push({event:r,listeners:e}),r.target=Hs)))}function ff(o,r){var t={};return t[o.toLowerCase()]=r.toLowerCase(),t["Webkit"+o]="webkit"+r,t["Moz"+o]="moz"+r,t}var Bs={animationend:ff("Animation","AnimationEnd"),animationiteration:ff("Animation","AnimationIteration"),animationstart:ff("Animation","AnimationStart"),transitionend:ff("Transition","TransitionEnd")},Eh={},sb={};Si&&(sb=document.createElement("div").style,"AnimationEvent"in window||(delete Bs.animationend.animation,delete Bs.animationiteration.animation,delete Bs.animationstart.animation),"TransitionEvent"in window||delete Bs.transitionend.transition);function _p(o){if(Eh[o])return Eh[o];if(!Bs[o])return o;var r=Bs[o],t;for(t in r)if(r.hasOwnProperty(t)&&t in sb)return Eh[o]=r[t];return o}var lb=_p("animationend"),ub=_p("animationiteration"),cb=_p("animationstart"),fb=_p("transitionend"),db=new Map,Y0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ca(o,r){db.set(o,r),ss(r,[o])}for(var Ph=0;Ph<Y0.length;Ph++){var kh=Y0[Ph],cE=kh.toLowerCase(),fE=kh[0].toUpperCase()+kh.slice(1);Ca(cE,"on"+fE)}Ca(lb,"onAnimationEnd");Ca(ub,"onAnimationIteration");Ca(cb,"onAnimationStart");Ca("dblclick","onDoubleClick");Ca("focusin","onFocus");Ca("focusout","onBlur");Ca(fb,"onTransitionEnd");dl("onMouseEnter",["mouseout","mouseover"]);dl("onMouseLeave",["mouseout","mouseover"]);dl("onPointerEnter",["pointerout","pointerover"]);dl("onPointerLeave",["pointerout","pointerover"]);ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ss("onBeforeInput",["compositionend","keypress","textInput","paste"]);ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dE=new Set("cancel close invalid load scroll toggle".split(" ").concat(yu));function X0(o,r,t){var e=o.type||"unknown-event";o.currentTarget=t,cT(e,r,void 0,o),o.currentTarget=null}function pb(o,r){r=(r&4)!==0;for(var t=0;t<o.length;t++){var e=o[t],n=e.event;e=e.listeners;t:{var i=void 0;if(r)for(var s=e.length-1;0<=s;s--){var u=e[s],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==i&&n.isPropagationStopped())break t;X0(n,u,f),i=c}else for(s=0;s<e.length;s++){if(u=e[s],c=u.instance,f=u.currentTarget,u=u.listener,c!==i&&n.isPropagationStopped())break t;X0(n,u,f),i=c}}}if(Gf)throw o=Nv,Gf=!1,Nv=null,o}function rr(o,r){var t=r[Kv];t===void 0&&(t=r[Kv]=new Set);var e=o+"__bubble";t.has(e)||(hb(r,o,2,!1),t.add(e))}function Ah(o,r,t){var e=0;r&&(e|=4),hb(t,o,e,r)}var df="_reactListening"+Math.random().toString(36).slice(2);function Zu(o){if(!o[df]){o[df]=!0,CC.forEach(function(t){t!=="selectionchange"&&(dE.has(t)||Ah(t,!1,o),Ah(t,!0,o))});var r=o.nodeType===9?o:o.ownerDocument;r===null||r[df]||(r[df]=!0,Ah("selectionchange",!1,r))}}function hb(o,r,t,e){switch(JC(r)){case 1:var n=TT;break;case 4:n=ET;break;default:n=em}t=n.bind(null,r,t,o),n=void 0,!jv||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(n=!0),e?n!==void 0?o.addEventListener(r,t,{capture:!0,passive:n}):o.addEventListener(r,t,!0):n!==void 0?o.addEventListener(r,t,{passive:n}):o.addEventListener(r,t,!1)}function Mh(o,r,t,e,n){var i=e;if(!(r&1)&&!(r&2)&&e!==null)t:for(;;){if(e===null)return;var s=e.tag;if(s===3||s===4){var u=e.stateNode.containerInfo;if(u===n||u.nodeType===8&&u.parentNode===n)break;if(s===4)for(s=e.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;s=s.return}for(;u!==null;){if(s=$a(u),s===null)return;if(c=s.tag,c===5||c===6){e=i=s;continue t}u=u.parentNode}}e=e.return}RC(function(){var f=i,h=Jg(t),g=[];t:{var m=db.get(o);if(m!==void 0){var y=nm,w=o;switch(o){case"keypress":if(Df(t)===0)break t;case"keydown":case"keyup":y=BT;break;case"focusin":w="focus",y=Sh;break;case"focusout":w="blur",y=Sh;break;case"beforeblur":case"afterblur":y=Sh;break;case"click":if(t.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=R0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=AT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=KT;break;case lb:case ub:case cb:y=DT;break;case fb:y=GT;break;case"scroll":y=PT;break;case"wheel":y=XT;break;case"copy":case"cut":case"paste":y=NT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=V0}var b=(r&4)!==0,O=!b&&o==="scroll",S=b?m!==null?m+"Capture":null:m;b=[];for(var P=f,T;P!==null;){T=P;var j=T.stateNode;if(T.tag===5&&j!==null&&(T=j,S!==null&&(j=$u(P,S),j!=null&&b.push(Qu(P,j,T)))),O)break;P=P.return}0<b.length&&(m=new y(m,w,null,t,h),g.push({event:m,listeners:b}))}}if(!(r&7)){t:{if(m=o==="mouseover"||o==="pointerover",y=o==="mouseout"||o==="pointerout",m&&t!==Lv&&(w=t.relatedTarget||t.fromElement)&&($a(w)||w[Oi]))break t;if((y||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,y?(w=t.relatedTarget||t.toElement,y=f,w=w?$a(w):null,w!==null&&(O=ls(w),w!==O||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=f),y!==w)){if(b=R0,j="onMouseLeave",S="onMouseEnter",P="mouse",(o==="pointerout"||o==="pointerover")&&(b=V0,j="onPointerLeave",S="onPointerEnter",P="pointer"),O=y==null?m:zs(y),T=w==null?m:zs(w),m=new b(j,P+"leave",y,t,h),m.target=O,m.relatedTarget=T,j=null,$a(h)===f&&(b=new b(S,P+"enter",w,t,h),b.target=T,b.relatedTarget=O,j=b),O=j,y&&w)e:{for(b=y,S=w,P=0,T=b;T;T=Ds(T))P++;for(T=0,j=S;j;j=Ds(j))T++;for(;0<P-T;)b=Ds(b),P--;for(;0<T-P;)S=Ds(S),T--;for(;P--;){if(b===S||S!==null&&b===S.alternate)break e;b=Ds(b),S=Ds(S)}b=null}else b=null;y!==null&&q0(g,m,y,b,!1),w!==null&&O!==null&&q0(g,O,w,b,!0)}}t:{if(m=f?zs(f):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var X=rE;else if(B0(m))if(nb)X=aE;else{X=oE;var at=nE}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(X=iE);if(X&&(X=X(o,f))){rb(g,X,t,h);break t}at&&at(o,m,f),o==="focusout"&&(at=m._wrapperState)&&at.controlled&&m.type==="number"&&Ev(m,"number",m.value)}switch(at=f?zs(f):window,o){case"focusin":(B0(at)||at.contentEditable==="true")&&(Hs=at,Vv=f,Tu=null);break;case"focusout":Tu=Vv=Hs=null;break;case"mousedown":Uv=!0;break;case"contextmenu":case"mouseup":case"dragend":Uv=!1,G0(g,t,h);break;case"selectionchange":if(uE)break;case"keydown":case"keyup":G0(g,t,h)}var ft;if(im)t:{switch(o){case"compositionstart":var Q="onCompositionStart";break t;case"compositionend":Q="onCompositionEnd";break t;case"compositionupdate":Q="onCompositionUpdate";break t}Q=void 0}else Us?tb(o,t)&&(Q="onCompositionEnd"):o==="keydown"&&t.keyCode===229&&(Q="onCompositionStart");Q&&(QC&&t.locale!=="ko"&&(Us||Q!=="onCompositionStart"?Q==="onCompositionEnd"&&Us&&(ft=ZC()):(ia=h,rm="value"in ia?ia.value:ia.textContent,Us=!0)),at=Zf(f,Q),0<at.length&&(Q=new F0(Q,o,null,t,h),g.push({event:Q,listeners:at}),ft?Q.data=ft:(ft=eb(t),ft!==null&&(Q.data=ft)))),(ft=JT?ZT(o,t):QT(o,t))&&(f=Zf(f,"onBeforeInput"),0<f.length&&(h=new F0("onBeforeInput","beforeinput",null,t,h),g.push({event:h,listeners:f}),h.data=ft))}pb(g,r)})}function Qu(o,r,t){return{instance:o,listener:r,currentTarget:t}}function Zf(o,r){for(var t=r+"Capture",e=[];o!==null;){var n=o,i=n.stateNode;n.tag===5&&i!==null&&(n=i,i=$u(o,t),i!=null&&e.unshift(Qu(o,i,n)),i=$u(o,r),i!=null&&e.push(Qu(o,i,n))),o=o.return}return e}function Ds(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function q0(o,r,t,e,n){for(var i=r._reactName,s=[];t!==null&&t!==e;){var u=t,c=u.alternate,f=u.stateNode;if(c!==null&&c===e)break;u.tag===5&&f!==null&&(u=f,n?(c=$u(t,i),c!=null&&s.unshift(Qu(t,c,u))):n||(c=$u(t,i),c!=null&&s.push(Qu(t,c,u)))),t=t.return}s.length!==0&&o.push({event:r,listeners:s})}var pE=/\r\n?/g,hE=/\u0000|\uFFFD/g;function J0(o){return(typeof o=="string"?o:""+o).replace(pE,`
`).replace(hE,"")}function pf(o,r,t){if(r=J0(r),J0(o)!==r&&t)throw Error(Bt(425))}function Qf(){}var Hv=null,Bv=null;function zv(o,r){return o==="textarea"||o==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Wv=typeof setTimeout=="function"?setTimeout:void 0,vE=typeof clearTimeout=="function"?clearTimeout:void 0,Z0=typeof Promise=="function"?Promise:void 0,gE=typeof queueMicrotask=="function"?queueMicrotask:typeof Z0<"u"?function(o){return Z0.resolve(null).then(o).catch(mE)}:Wv;function mE(o){setTimeout(function(){throw o})}function Lh(o,r){var t=r,e=0;do{var n=t.nextSibling;if(o.removeChild(t),n&&n.nodeType===8)if(t=n.data,t==="/$"){if(e===0){o.removeChild(n),Xu(r);return}e--}else t!=="$"&&t!=="$?"&&t!=="$!"||e++;t=n}while(t);Xu(r)}function da(o){for(;o!=null;o=o.nextSibling){var r=o.nodeType;if(r===1||r===3)break;if(r===8){if(r=o.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return o}function Q0(o){o=o.previousSibling;for(var r=0;o;){if(o.nodeType===8){var t=o.data;if(t==="$"||t==="$!"||t==="$?"){if(r===0)return o;r--}else t==="/$"&&r++}o=o.previousSibling}return null}var Sl=Math.random().toString(36).slice(2),ti="__reactFiber$"+Sl,tc="__reactProps$"+Sl,Oi="__reactContainer$"+Sl,Kv="__reactEvents$"+Sl,yE="__reactListeners$"+Sl,_E="__reactHandles$"+Sl;function $a(o){var r=o[ti];if(r)return r;for(var t=o.parentNode;t;){if(r=t[Oi]||t[ti]){if(t=r.alternate,r.child!==null||t!==null&&t.child!==null)for(o=Q0(o);o!==null;){if(t=o[ti])return t;o=Q0(o)}return r}o=t,t=o.parentNode}return null}function vc(o){return o=o[ti]||o[Oi],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function zs(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(Bt(33))}function wp(o){return o[tc]||null}var $v=[],Ws=-1;function ba(o){return{current:o}}function or(o){0>Ws||(o.current=$v[Ws],$v[Ws]=null,Ws--)}function Je(o,r){Ws++,$v[Ws]=o.current,o.current=r}var _a={},pn=ba(_a),Gn=ba(!1),Qa=_a;function pl(o,r){var t=o.type.contextTypes;if(!t)return _a;var e=o.stateNode;if(e&&e.__reactInternalMemoizedUnmaskedChildContext===r)return e.__reactInternalMemoizedMaskedChildContext;var n={},i;for(i in t)n[i]=r[i];return e&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=r,o.__reactInternalMemoizedMaskedChildContext=n),n}function Yn(o){return o=o.childContextTypes,o!=null}function td(){or(Gn),or(pn)}function t_(o,r,t){if(pn.current!==_a)throw Error(Bt(168));Je(pn,r),Je(Gn,t)}function vb(o,r,t){var e=o.stateNode;if(r=r.childContextTypes,typeof e.getChildContext!="function")return t;e=e.getChildContext();for(var n in e)if(!(n in r))throw Error(Bt(108,nT(o)||"Unknown",n));return pr({},t,e)}function ed(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||_a,Qa=pn.current,Je(pn,o),Je(Gn,Gn.current),!0}function e_(o,r,t){var e=o.stateNode;if(!e)throw Error(Bt(169));t?(o=vb(o,r,Qa),e.__reactInternalMemoizedMergedChildContext=o,or(Gn),or(pn),Je(pn,o)):or(Gn),Je(Gn,t)}var yi=null,Cp=!1,Dh=!1;function gb(o){yi===null?yi=[o]:yi.push(o)}function wE(o){Cp=!0,gb(o)}function xa(){if(!Dh&&yi!==null){Dh=!0;var o=0,r=We;try{var t=yi;for(We=1;o<t.length;o++){var e=t[o];do e=e(!0);while(e!==null)}yi=null,Cp=!1}catch(n){throw yi!==null&&(yi=yi.slice(o+1)),HC(Zg,xa),n}finally{We=r,Dh=!1}}return null}var Ks=[],$s=0,rd=null,nd=0,xo=[],So=0,ts=null,wi=1,Ci="";function Va(o,r){Ks[$s++]=nd,Ks[$s++]=rd,rd=o,nd=r}function mb(o,r,t){xo[So++]=wi,xo[So++]=Ci,xo[So++]=ts,ts=o;var e=wi;o=Ci;var n=32-Wo(e)-1;e&=~(1<<n),t+=1;var i=32-Wo(r)+n;if(30<i){var s=n-n%5;i=(e&(1<<s)-1).toString(32),e>>=s,n-=s,wi=1<<32-Wo(r)+n|t<<n|e,Ci=i+o}else wi=1<<i|t<<n|e,Ci=o}function sm(o){o.return!==null&&(Va(o,1),mb(o,1,0))}function lm(o){for(;o===rd;)rd=Ks[--$s],Ks[$s]=null,nd=Ks[--$s],Ks[$s]=null;for(;o===ts;)ts=xo[--So],xo[So]=null,Ci=xo[--So],xo[So]=null,wi=xo[--So],xo[So]=null}var po=null,uo=null,lr=!1,zo=null;function yb(o,r){var t=Oo(5,null,null,0);t.elementType="DELETED",t.stateNode=r,t.return=o,r=o.deletions,r===null?(o.deletions=[t],o.flags|=16):r.push(t)}function r_(o,r){switch(o.tag){case 5:var t=o.type;return r=r.nodeType!==1||t.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(o.stateNode=r,po=o,uo=da(r.firstChild),!0):!1;case 6:return r=o.pendingProps===""||r.nodeType!==3?null:r,r!==null?(o.stateNode=r,po=o,uo=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(t=ts!==null?{id:wi,overflow:Ci}:null,o.memoizedState={dehydrated:r,treeContext:t,retryLane:1073741824},t=Oo(18,null,null,0),t.stateNode=r,t.return=o,o.child=t,po=o,uo=null,!0):!1;default:return!1}}function Gv(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Yv(o){if(lr){var r=uo;if(r){var t=r;if(!r_(o,r)){if(Gv(o))throw Error(Bt(418));r=da(t.nextSibling);var e=po;r&&r_(o,r)?yb(e,t):(o.flags=o.flags&-4097|2,lr=!1,po=o)}}else{if(Gv(o))throw Error(Bt(418));o.flags=o.flags&-4097|2,lr=!1,po=o}}}function n_(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;po=o}function hf(o){if(o!==po)return!1;if(!lr)return n_(o),lr=!0,!1;var r;if((r=o.tag!==3)&&!(r=o.tag!==5)&&(r=o.type,r=r!=="head"&&r!=="body"&&!zv(o.type,o.memoizedProps)),r&&(r=uo)){if(Gv(o))throw _b(),Error(Bt(418));for(;r;)yb(o,r),r=da(r.nextSibling)}if(n_(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Bt(317));t:{for(o=o.nextSibling,r=0;o;){if(o.nodeType===8){var t=o.data;if(t==="/$"){if(r===0){uo=da(o.nextSibling);break t}r--}else t!=="$"&&t!=="$!"&&t!=="$?"||r++}o=o.nextSibling}uo=null}}else uo=po?da(o.stateNode.nextSibling):null;return!0}function _b(){for(var o=uo;o;)o=da(o.nextSibling)}function hl(){uo=po=null,lr=!1}function um(o){zo===null?zo=[o]:zo.push(o)}var CE=ki.ReactCurrentBatchConfig;function lu(o,r,t){if(o=t.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Bt(309));var e=t.stateNode}if(!e)throw Error(Bt(147,o));var n=e,i=""+o;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===i?r.ref:(r=function(s){var u=n.refs;s===null?delete u[i]:u[i]=s},r._stringRef=i,r)}if(typeof o!="string")throw Error(Bt(284));if(!t._owner)throw Error(Bt(290,o))}return o}function vf(o,r){throw o=Object.prototype.toString.call(r),Error(Bt(31,o==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":o))}function o_(o){var r=o._init;return r(o._payload)}function wb(o){function r(S,P){if(o){var T=S.deletions;T===null?(S.deletions=[P],S.flags|=16):T.push(P)}}function t(S,P){if(!o)return null;for(;P!==null;)r(S,P),P=P.sibling;return null}function e(S,P){for(S=new Map;P!==null;)P.key!==null?S.set(P.key,P):S.set(P.index,P),P=P.sibling;return S}function n(S,P){return S=ga(S,P),S.index=0,S.sibling=null,S}function i(S,P,T){return S.index=T,o?(T=S.alternate,T!==null?(T=T.index,T<P?(S.flags|=2,P):T):(S.flags|=2,P)):(S.flags|=1048576,P)}function s(S){return o&&S.alternate===null&&(S.flags|=2),S}function u(S,P,T,j){return P===null||P.tag!==6?(P=Uh(T,S.mode,j),P.return=S,P):(P=n(P,T),P.return=S,P)}function c(S,P,T,j){var X=T.type;return X===Vs?h(S,P,T.props.children,j,T.key):P!==null&&(P.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Zi&&o_(X)===P.type)?(j=n(P,T.props),j.ref=lu(S,P,T),j.return=S,j):(j=Uf(T.type,T.key,T.props,null,S.mode,j),j.ref=lu(S,P,T),j.return=S,j)}function f(S,P,T,j){return P===null||P.tag!==4||P.stateNode.containerInfo!==T.containerInfo||P.stateNode.implementation!==T.implementation?(P=Hh(T,S.mode,j),P.return=S,P):(P=n(P,T.children||[]),P.return=S,P)}function h(S,P,T,j,X){return P===null||P.tag!==7?(P=Za(T,S.mode,j,X),P.return=S,P):(P=n(P,T),P.return=S,P)}function g(S,P,T){if(typeof P=="string"&&P!==""||typeof P=="number")return P=Uh(""+P,S.mode,T),P.return=S,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case nf:return T=Uf(P.type,P.key,P.props,null,S.mode,T),T.ref=lu(S,null,P),T.return=S,T;case Fs:return P=Hh(P,S.mode,T),P.return=S,P;case Zi:var j=P._init;return g(S,j(P._payload),T)}if(gu(P)||nu(P))return P=Za(P,S.mode,T,null),P.return=S,P;vf(S,P)}return null}function m(S,P,T,j){var X=P!==null?P.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return X!==null?null:u(S,P,""+T,j);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case nf:return T.key===X?c(S,P,T,j):null;case Fs:return T.key===X?f(S,P,T,j):null;case Zi:return X=T._init,m(S,P,X(T._payload),j)}if(gu(T)||nu(T))return X!==null?null:h(S,P,T,j,null);vf(S,T)}return null}function y(S,P,T,j,X){if(typeof j=="string"&&j!==""||typeof j=="number")return S=S.get(T)||null,u(P,S,""+j,X);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case nf:return S=S.get(j.key===null?T:j.key)||null,c(P,S,j,X);case Fs:return S=S.get(j.key===null?T:j.key)||null,f(P,S,j,X);case Zi:var at=j._init;return y(S,P,T,at(j._payload),X)}if(gu(j)||nu(j))return S=S.get(T)||null,h(P,S,j,X,null);vf(P,j)}return null}function w(S,P,T,j){for(var X=null,at=null,ft=P,Q=P=0,K=null;ft!==null&&Q<T.length;Q++){ft.index>Q?(K=ft,ft=null):K=ft.sibling;var rt=m(S,ft,T[Q],j);if(rt===null){ft===null&&(ft=K);break}o&&ft&&rt.alternate===null&&r(S,ft),P=i(rt,P,Q),at===null?X=rt:at.sibling=rt,at=rt,ft=K}if(Q===T.length)return t(S,ft),lr&&Va(S,Q),X;if(ft===null){for(;Q<T.length;Q++)ft=g(S,T[Q],j),ft!==null&&(P=i(ft,P,Q),at===null?X=ft:at.sibling=ft,at=ft);return lr&&Va(S,Q),X}for(ft=e(S,ft);Q<T.length;Q++)K=y(ft,S,Q,T[Q],j),K!==null&&(o&&K.alternate!==null&&ft.delete(K.key===null?Q:K.key),P=i(K,P,Q),at===null?X=K:at.sibling=K,at=K);return o&&ft.forEach(function(H){return r(S,H)}),lr&&Va(S,Q),X}function b(S,P,T,j){var X=nu(T);if(typeof X!="function")throw Error(Bt(150));if(T=X.call(T),T==null)throw Error(Bt(151));for(var at=X=null,ft=P,Q=P=0,K=null,rt=T.next();ft!==null&&!rt.done;Q++,rt=T.next()){ft.index>Q?(K=ft,ft=null):K=ft.sibling;var H=m(S,ft,rt.value,j);if(H===null){ft===null&&(ft=K);break}o&&ft&&H.alternate===null&&r(S,ft),P=i(H,P,Q),at===null?X=H:at.sibling=H,at=H,ft=K}if(rt.done)return t(S,ft),lr&&Va(S,Q),X;if(ft===null){for(;!rt.done;Q++,rt=T.next())rt=g(S,rt.value,j),rt!==null&&(P=i(rt,P,Q),at===null?X=rt:at.sibling=rt,at=rt);return lr&&Va(S,Q),X}for(ft=e(S,ft);!rt.done;Q++,rt=T.next())rt=y(ft,S,Q,rt.value,j),rt!==null&&(o&&rt.alternate!==null&&ft.delete(rt.key===null?Q:rt.key),P=i(rt,P,Q),at===null?X=rt:at.sibling=rt,at=rt);return o&&ft.forEach(function(V){return r(S,V)}),lr&&Va(S,Q),X}function O(S,P,T,j){if(typeof T=="object"&&T!==null&&T.type===Vs&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case nf:t:{for(var X=T.key,at=P;at!==null;){if(at.key===X){if(X=T.type,X===Vs){if(at.tag===7){t(S,at.sibling),P=n(at,T.props.children),P.return=S,S=P;break t}}else if(at.elementType===X||typeof X=="object"&&X!==null&&X.$$typeof===Zi&&o_(X)===at.type){t(S,at.sibling),P=n(at,T.props),P.ref=lu(S,at,T),P.return=S,S=P;break t}t(S,at);break}else r(S,at);at=at.sibling}T.type===Vs?(P=Za(T.props.children,S.mode,j,T.key),P.return=S,S=P):(j=Uf(T.type,T.key,T.props,null,S.mode,j),j.ref=lu(S,P,T),j.return=S,S=j)}return s(S);case Fs:t:{for(at=T.key;P!==null;){if(P.key===at)if(P.tag===4&&P.stateNode.containerInfo===T.containerInfo&&P.stateNode.implementation===T.implementation){t(S,P.sibling),P=n(P,T.children||[]),P.return=S,S=P;break t}else{t(S,P);break}else r(S,P);P=P.sibling}P=Hh(T,S.mode,j),P.return=S,S=P}return s(S);case Zi:return at=T._init,O(S,P,at(T._payload),j)}if(gu(T))return w(S,P,T,j);if(nu(T))return b(S,P,T,j);vf(S,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,P!==null&&P.tag===6?(t(S,P.sibling),P=n(P,T),P.return=S,S=P):(t(S,P),P=Uh(T,S.mode,j),P.return=S,S=P),s(S)):t(S,P)}return O}var vl=wb(!0),Cb=wb(!1),od=ba(null),id=null,Gs=null,cm=null;function fm(){cm=Gs=id=null}function dm(o){var r=od.current;or(od),o._currentValue=r}function Xv(o,r,t){for(;o!==null;){var e=o.alternate;if((o.childLanes&r)!==r?(o.childLanes|=r,e!==null&&(e.childLanes|=r)):e!==null&&(e.childLanes&r)!==r&&(e.childLanes|=r),o===t)break;o=o.return}}function ll(o,r){id=o,cm=Gs=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&r&&($n=!0),o.firstContext=null)}function Po(o){var r=o._currentValue;if(cm!==o)if(o={context:o,memoizedValue:r,next:null},Gs===null){if(id===null)throw Error(Bt(308));Gs=o,id.dependencies={lanes:0,firstContext:o}}else Gs=Gs.next=o;return r}var Ga=null;function pm(o){Ga===null?Ga=[o]:Ga.push(o)}function bb(o,r,t,e){var n=r.interleaved;return n===null?(t.next=t,pm(r)):(t.next=n.next,n.next=t),r.interleaved=t,Ti(o,e)}function Ti(o,r){o.lanes|=r;var t=o.alternate;for(t!==null&&(t.lanes|=r),t=o,o=o.return;o!==null;)o.childLanes|=r,t=o.alternate,t!==null&&(t.childLanes|=r),t=o,o=o.return;return t.tag===3?t.stateNode:null}var Qi=!1;function hm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xb(o,r){o=o.updateQueue,r.updateQueue===o&&(r.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function bi(o,r){return{eventTime:o,lane:r,tag:0,payload:null,callback:null,next:null}}function pa(o,r,t){var e=o.updateQueue;if(e===null)return null;if(e=e.shared,Re&2){var n=e.pending;return n===null?r.next=r:(r.next=n.next,n.next=r),e.pending=r,Ti(o,t)}return n=e.interleaved,n===null?(r.next=r,pm(e)):(r.next=n.next,n.next=r),e.interleaved=r,Ti(o,t)}function jf(o,r,t){if(r=r.updateQueue,r!==null&&(r=r.shared,(t&4194240)!==0)){var e=r.lanes;e&=o.pendingLanes,t|=e,r.lanes=t,Qg(o,t)}}function i_(o,r){var t=o.updateQueue,e=o.alternate;if(e!==null&&(e=e.updateQueue,t===e)){var n=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var s={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};i===null?n=i=s:i=i.next=s,t=t.next}while(t!==null);i===null?n=i=r:i=i.next=r}else n=i=r;t={baseState:e.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:e.shared,effects:e.effects},o.updateQueue=t;return}o=t.lastBaseUpdate,o===null?t.firstBaseUpdate=r:o.next=r,t.lastBaseUpdate=r}function ad(o,r,t,e){var n=o.updateQueue;Qi=!1;var i=n.firstBaseUpdate,s=n.lastBaseUpdate,u=n.shared.pending;if(u!==null){n.shared.pending=null;var c=u,f=c.next;c.next=null,s===null?i=f:s.next=f,s=c;var h=o.alternate;h!==null&&(h=h.updateQueue,u=h.lastBaseUpdate,u!==s&&(u===null?h.firstBaseUpdate=f:u.next=f,h.lastBaseUpdate=c))}if(i!==null){var g=n.baseState;s=0,h=f=c=null,u=i;do{var m=u.lane,y=u.eventTime;if((e&m)===m){h!==null&&(h=h.next={eventTime:y,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});t:{var w=o,b=u;switch(m=r,y=t,b.tag){case 1:if(w=b.payload,typeof w=="function"){g=w.call(y,g,m);break t}g=w;break t;case 3:w.flags=w.flags&-65537|128;case 0:if(w=b.payload,m=typeof w=="function"?w.call(y,g,m):w,m==null)break t;g=pr({},g,m);break t;case 2:Qi=!0}}u.callback!==null&&u.lane!==0&&(o.flags|=64,m=n.effects,m===null?n.effects=[u]:m.push(u))}else y={eventTime:y,lane:m,tag:u.tag,payload:u.payload,callback:u.callback,next:null},h===null?(f=h=y,c=g):h=h.next=y,s|=m;if(u=u.next,u===null){if(u=n.shared.pending,u===null)break;m=u,u=m.next,m.next=null,n.lastBaseUpdate=m,n.shared.pending=null}}while(1);if(h===null&&(c=g),n.baseState=c,n.firstBaseUpdate=f,n.lastBaseUpdate=h,r=n.shared.interleaved,r!==null){n=r;do s|=n.lane,n=n.next;while(n!==r)}else i===null&&(n.shared.lanes=0);rs|=s,o.lanes=s,o.memoizedState=g}}function a_(o,r,t){if(o=r.effects,r.effects=null,o!==null)for(r=0;r<o.length;r++){var e=o[r],n=e.callback;if(n!==null){if(e.callback=null,e=t,typeof n!="function")throw Error(Bt(191,n));n.call(e)}}}var gc={},ri=ba(gc),ec=ba(gc),rc=ba(gc);function Ya(o){if(o===gc)throw Error(Bt(174));return o}function vm(o,r){switch(Je(rc,r),Je(ec,o),Je(ri,gc),o=r.nodeType,o){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:kv(null,"");break;default:o=o===8?r.parentNode:r,r=o.namespaceURI||null,o=o.tagName,r=kv(r,o)}or(ri),Je(ri,r)}function gl(){or(ri),or(ec),or(rc)}function Sb(o){Ya(rc.current);var r=Ya(ri.current),t=kv(r,o.type);r!==t&&(Je(ec,o),Je(ri,t))}function gm(o){ec.current===o&&(or(ri),or(ec))}var fr=ba(0);function sd(o){for(var r=o;r!==null;){if(r.tag===13){var t=r.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break;for(;r.sibling===null;){if(r.return===null||r.return===o)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var jh=[];function mm(){for(var o=0;o<jh.length;o++)jh[o]._workInProgressVersionPrimary=null;jh.length=0}var Nf=ki.ReactCurrentDispatcher,Nh=ki.ReactCurrentBatchConfig,es=0,dr=null,Br=null,Kr=null,ld=!1,Eu=!1,nc=0,bE=0;function sn(){throw Error(Bt(321))}function ym(o,r){if(r===null)return!1;for(var t=0;t<r.length&&t<o.length;t++)if(!$o(o[t],r[t]))return!1;return!0}function _m(o,r,t,e,n,i){if(es=i,dr=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Nf.current=o===null||o.memoizedState===null?TE:EE,o=t(e,n),Eu){i=0;do{if(Eu=!1,nc=0,25<=i)throw Error(Bt(301));i+=1,Kr=Br=null,r.updateQueue=null,Nf.current=PE,o=t(e,n)}while(Eu)}if(Nf.current=ud,r=Br!==null&&Br.next!==null,es=0,Kr=Br=dr=null,ld=!1,r)throw Error(Bt(300));return o}function wm(){var o=nc!==0;return nc=0,o}function Jo(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kr===null?dr.memoizedState=Kr=o:Kr=Kr.next=o,Kr}function ko(){if(Br===null){var o=dr.alternate;o=o!==null?o.memoizedState:null}else o=Br.next;var r=Kr===null?dr.memoizedState:Kr.next;if(r!==null)Kr=r,Br=o;else{if(o===null)throw Error(Bt(310));Br=o,o={memoizedState:Br.memoizedState,baseState:Br.baseState,baseQueue:Br.baseQueue,queue:Br.queue,next:null},Kr===null?dr.memoizedState=Kr=o:Kr=Kr.next=o}return Kr}function oc(o,r){return typeof r=="function"?r(o):r}function Ih(o){var r=ko(),t=r.queue;if(t===null)throw Error(Bt(311));t.lastRenderedReducer=o;var e=Br,n=e.baseQueue,i=t.pending;if(i!==null){if(n!==null){var s=n.next;n.next=i.next,i.next=s}e.baseQueue=n=i,t.pending=null}if(n!==null){i=n.next,e=e.baseState;var u=s=null,c=null,f=i;do{var h=f.lane;if((es&h)===h)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),e=f.hasEagerState?f.eagerState:o(e,f.action);else{var g={lane:h,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(u=c=g,s=e):c=c.next=g,dr.lanes|=h,rs|=h}f=f.next}while(f!==null&&f!==i);c===null?s=e:c.next=u,$o(e,r.memoizedState)||($n=!0),r.memoizedState=e,r.baseState=s,r.baseQueue=c,t.lastRenderedState=e}if(o=t.interleaved,o!==null){n=o;do i=n.lane,dr.lanes|=i,rs|=i,n=n.next;while(n!==o)}else n===null&&(t.lanes=0);return[r.memoizedState,t.dispatch]}function Rh(o){var r=ko(),t=r.queue;if(t===null)throw Error(Bt(311));t.lastRenderedReducer=o;var e=t.dispatch,n=t.pending,i=r.memoizedState;if(n!==null){t.pending=null;var s=n=n.next;do i=o(i,s.action),s=s.next;while(s!==n);$o(i,r.memoizedState)||($n=!0),r.memoizedState=i,r.baseQueue===null&&(r.baseState=i),t.lastRenderedState=i}return[i,e]}function Ob(){}function Tb(o,r){var t=dr,e=ko(),n=r(),i=!$o(e.memoizedState,n);if(i&&(e.memoizedState=n,$n=!0),e=e.queue,Cm(kb.bind(null,t,e,o),[o]),e.getSnapshot!==r||i||Kr!==null&&Kr.memoizedState.tag&1){if(t.flags|=2048,ic(9,Pb.bind(null,t,e,n,r),void 0,null),$r===null)throw Error(Bt(349));es&30||Eb(t,r,n)}return n}function Eb(o,r,t){o.flags|=16384,o={getSnapshot:r,value:t},r=dr.updateQueue,r===null?(r={lastEffect:null,stores:null},dr.updateQueue=r,r.stores=[o]):(t=r.stores,t===null?r.stores=[o]:t.push(o))}function Pb(o,r,t,e){r.value=t,r.getSnapshot=e,Ab(r)&&Mb(o)}function kb(o,r,t){return t(function(){Ab(r)&&Mb(o)})}function Ab(o){var r=o.getSnapshot;o=o.value;try{var t=r();return!$o(o,t)}catch{return!0}}function Mb(o){var r=Ti(o,1);r!==null&&Ko(r,o,1,-1)}function s_(o){var r=Jo();return typeof o=="function"&&(o=o()),r.memoizedState=r.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oc,lastRenderedState:o},r.queue=o,o=o.dispatch=OE.bind(null,dr,o),[r.memoizedState,o]}function ic(o,r,t,e){return o={tag:o,create:r,destroy:t,deps:e,next:null},r=dr.updateQueue,r===null?(r={lastEffect:null,stores:null},dr.updateQueue=r,r.lastEffect=o.next=o):(t=r.lastEffect,t===null?r.lastEffect=o.next=o:(e=t.next,t.next=o,o.next=e,r.lastEffect=o)),o}function Lb(){return ko().memoizedState}function If(o,r,t,e){var n=Jo();dr.flags|=o,n.memoizedState=ic(1|r,t,void 0,e===void 0?null:e)}function bp(o,r,t,e){var n=ko();e=e===void 0?null:e;var i=void 0;if(Br!==null){var s=Br.memoizedState;if(i=s.destroy,e!==null&&ym(e,s.deps)){n.memoizedState=ic(r,t,i,e);return}}dr.flags|=o,n.memoizedState=ic(1|r,t,i,e)}function l_(o,r){return If(8390656,8,o,r)}function Cm(o,r){return bp(2048,8,o,r)}function Db(o,r){return bp(4,2,o,r)}function jb(o,r){return bp(4,4,o,r)}function Nb(o,r){if(typeof r=="function")return o=o(),r(o),function(){r(null)};if(r!=null)return o=o(),r.current=o,function(){r.current=null}}function Ib(o,r,t){return t=t!=null?t.concat([o]):null,bp(4,4,Nb.bind(null,r,o),t)}function bm(){}function Rb(o,r){var t=ko();r=r===void 0?null:r;var e=t.memoizedState;return e!==null&&r!==null&&ym(r,e[1])?e[0]:(t.memoizedState=[o,r],o)}function Fb(o,r){var t=ko();r=r===void 0?null:r;var e=t.memoizedState;return e!==null&&r!==null&&ym(r,e[1])?e[0]:(o=o(),t.memoizedState=[o,r],o)}function Vb(o,r,t){return es&21?($o(t,r)||(t=WC(),dr.lanes|=t,rs|=t,o.baseState=!0),r):(o.baseState&&(o.baseState=!1,$n=!0),o.memoizedState=t)}function xE(o,r){var t=We;We=t!==0&&4>t?t:4,o(!0);var e=Nh.transition;Nh.transition={};try{o(!1),r()}finally{We=t,Nh.transition=e}}function Ub(){return ko().memoizedState}function SE(o,r,t){var e=va(o);if(t={lane:e,action:t,hasEagerState:!1,eagerState:null,next:null},Hb(o))Bb(r,t);else if(t=bb(o,r,t,e),t!==null){var n=Pn();Ko(t,o,e,n),zb(t,r,e)}}function OE(o,r,t){var e=va(o),n={lane:e,action:t,hasEagerState:!1,eagerState:null,next:null};if(Hb(o))Bb(r,n);else{var i=o.alternate;if(o.lanes===0&&(i===null||i.lanes===0)&&(i=r.lastRenderedReducer,i!==null))try{var s=r.lastRenderedState,u=i(s,t);if(n.hasEagerState=!0,n.eagerState=u,$o(u,s)){var c=r.interleaved;c===null?(n.next=n,pm(r)):(n.next=c.next,c.next=n),r.interleaved=n;return}}catch{}finally{}t=bb(o,r,n,e),t!==null&&(n=Pn(),Ko(t,o,e,n),zb(t,r,e))}}function Hb(o){var r=o.alternate;return o===dr||r!==null&&r===dr}function Bb(o,r){Eu=ld=!0;var t=o.pending;t===null?r.next=r:(r.next=t.next,t.next=r),o.pending=r}function zb(o,r,t){if(t&4194240){var e=r.lanes;e&=o.pendingLanes,t|=e,r.lanes=t,Qg(o,t)}}var ud={readContext:Po,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},TE={readContext:Po,useCallback:function(o,r){return Jo().memoizedState=[o,r===void 0?null:r],o},useContext:Po,useEffect:l_,useImperativeHandle:function(o,r,t){return t=t!=null?t.concat([o]):null,If(4194308,4,Nb.bind(null,r,o),t)},useLayoutEffect:function(o,r){return If(4194308,4,o,r)},useInsertionEffect:function(o,r){return If(4,2,o,r)},useMemo:function(o,r){var t=Jo();return r=r===void 0?null:r,o=o(),t.memoizedState=[o,r],o},useReducer:function(o,r,t){var e=Jo();return r=t!==void 0?t(r):r,e.memoizedState=e.baseState=r,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:r},e.queue=o,o=o.dispatch=SE.bind(null,dr,o),[e.memoizedState,o]},useRef:function(o){var r=Jo();return o={current:o},r.memoizedState=o},useState:s_,useDebugValue:bm,useDeferredValue:function(o){return Jo().memoizedState=o},useTransition:function(){var o=s_(!1),r=o[0];return o=xE.bind(null,o[1]),Jo().memoizedState=o,[r,o]},useMutableSource:function(){},useSyncExternalStore:function(o,r,t){var e=dr,n=Jo();if(lr){if(t===void 0)throw Error(Bt(407));t=t()}else{if(t=r(),$r===null)throw Error(Bt(349));es&30||Eb(e,r,t)}n.memoizedState=t;var i={value:t,getSnapshot:r};return n.queue=i,l_(kb.bind(null,e,i,o),[o]),e.flags|=2048,ic(9,Pb.bind(null,e,i,t,r),void 0,null),t},useId:function(){var o=Jo(),r=$r.identifierPrefix;if(lr){var t=Ci,e=wi;t=(e&~(1<<32-Wo(e)-1)).toString(32)+t,r=":"+r+"R"+t,t=nc++,0<t&&(r+="H"+t.toString(32)),r+=":"}else t=bE++,r=":"+r+"r"+t.toString(32)+":";return o.memoizedState=r},unstable_isNewReconciler:!1},EE={readContext:Po,useCallback:Rb,useContext:Po,useEffect:Cm,useImperativeHandle:Ib,useInsertionEffect:Db,useLayoutEffect:jb,useMemo:Fb,useReducer:Ih,useRef:Lb,useState:function(){return Ih(oc)},useDebugValue:bm,useDeferredValue:function(o){var r=ko();return Vb(r,Br.memoizedState,o)},useTransition:function(){var o=Ih(oc)[0],r=ko().memoizedState;return[o,r]},useMutableSource:Ob,useSyncExternalStore:Tb,useId:Ub,unstable_isNewReconciler:!1},PE={readContext:Po,useCallback:Rb,useContext:Po,useEffect:Cm,useImperativeHandle:Ib,useInsertionEffect:Db,useLayoutEffect:jb,useMemo:Fb,useReducer:Rh,useRef:Lb,useState:function(){return Rh(oc)},useDebugValue:bm,useDeferredValue:function(o){var r=ko();return Br===null?r.memoizedState=o:Vb(r,Br.memoizedState,o)},useTransition:function(){var o=Rh(oc)[0],r=ko().memoizedState;return[o,r]},useMutableSource:Ob,useSyncExternalStore:Tb,useId:Ub,unstable_isNewReconciler:!1};function Ho(o,r){if(o&&o.defaultProps){r=pr({},r),o=o.defaultProps;for(var t in o)r[t]===void 0&&(r[t]=o[t]);return r}return r}function qv(o,r,t,e){r=o.memoizedState,t=t(e,r),t=t==null?r:pr({},r,t),o.memoizedState=t,o.lanes===0&&(o.updateQueue.baseState=t)}var xp={isMounted:function(o){return(o=o._reactInternals)?ls(o)===o:!1},enqueueSetState:function(o,r,t){o=o._reactInternals;var e=Pn(),n=va(o),i=bi(e,n);i.payload=r,t!=null&&(i.callback=t),r=pa(o,i,n),r!==null&&(Ko(r,o,n,e),jf(r,o,n))},enqueueReplaceState:function(o,r,t){o=o._reactInternals;var e=Pn(),n=va(o),i=bi(e,n);i.tag=1,i.payload=r,t!=null&&(i.callback=t),r=pa(o,i,n),r!==null&&(Ko(r,o,n,e),jf(r,o,n))},enqueueForceUpdate:function(o,r){o=o._reactInternals;var t=Pn(),e=va(o),n=bi(t,e);n.tag=2,r!=null&&(n.callback=r),r=pa(o,n,e),r!==null&&(Ko(r,o,e,t),jf(r,o,e))}};function u_(o,r,t,e,n,i,s){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(e,i,s):r.prototype&&r.prototype.isPureReactComponent?!Ju(t,e)||!Ju(n,i):!0}function Wb(o,r,t){var e=!1,n=_a,i=r.contextType;return typeof i=="object"&&i!==null?i=Po(i):(n=Yn(r)?Qa:pn.current,e=r.contextTypes,i=(e=e!=null)?pl(o,n):_a),r=new r(t,i),o.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=xp,o.stateNode=r,r._reactInternals=o,e&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=n,o.__reactInternalMemoizedMaskedChildContext=i),r}function c_(o,r,t,e){o=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(t,e),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(t,e),r.state!==o&&xp.enqueueReplaceState(r,r.state,null)}function Jv(o,r,t,e){var n=o.stateNode;n.props=t,n.state=o.memoizedState,n.refs={},hm(o);var i=r.contextType;typeof i=="object"&&i!==null?n.context=Po(i):(i=Yn(r)?Qa:pn.current,n.context=pl(o,i)),n.state=o.memoizedState,i=r.getDerivedStateFromProps,typeof i=="function"&&(qv(o,r,i,t),n.state=o.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(r=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),r!==n.state&&xp.enqueueReplaceState(n,n.state,null),ad(o,t,n,e),n.state=o.memoizedState),typeof n.componentDidMount=="function"&&(o.flags|=4194308)}function ml(o,r){try{var t="",e=r;do t+=rT(e),e=e.return;while(e);var n=t}catch(i){n=`
Error generating stack: `+i.message+`
`+i.stack}return{value:o,source:r,stack:n,digest:null}}function Fh(o,r,t){return{value:o,source:null,stack:t??null,digest:r??null}}function Zv(o,r){try{console.error(r.value)}catch(t){setTimeout(function(){throw t})}}var kE=typeof WeakMap=="function"?WeakMap:Map;function Kb(o,r,t){t=bi(-1,t),t.tag=3,t.payload={element:null};var e=r.value;return t.callback=function(){fd||(fd=!0,lg=e),Zv(o,r)},t}function $b(o,r,t){t=bi(-1,t),t.tag=3;var e=o.type.getDerivedStateFromError;if(typeof e=="function"){var n=r.value;t.payload=function(){return e(n)},t.callback=function(){Zv(o,r)}}var i=o.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(t.callback=function(){Zv(o,r),typeof e!="function"&&(ha===null?ha=new Set([this]):ha.add(this));var s=r.stack;this.componentDidCatch(r.value,{componentStack:s!==null?s:""})}),t}function f_(o,r,t){var e=o.pingCache;if(e===null){e=o.pingCache=new kE;var n=new Set;e.set(r,n)}else n=e.get(r),n===void 0&&(n=new Set,e.set(r,n));n.has(t)||(n.add(t),o=zE.bind(null,o,r,t),r.then(o,o))}function d_(o){do{var r;if((r=o.tag===13)&&(r=o.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return o;o=o.return}while(o!==null);return null}function p_(o,r,t,e,n){return o.mode&1?(o.flags|=65536,o.lanes=n,o):(o===r?o.flags|=65536:(o.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(r=bi(-1,1),r.tag=2,pa(t,r,1))),t.lanes|=1),o)}var AE=ki.ReactCurrentOwner,$n=!1;function On(o,r,t,e){r.child=o===null?Cb(r,null,t,e):vl(r,o.child,t,e)}function h_(o,r,t,e,n){t=t.render;var i=r.ref;return ll(r,n),e=_m(o,r,t,e,i,n),t=wm(),o!==null&&!$n?(r.updateQueue=o.updateQueue,r.flags&=-2053,o.lanes&=~n,Ei(o,r,n)):(lr&&t&&sm(r),r.flags|=1,On(o,r,e,n),r.child)}function v_(o,r,t,e,n){if(o===null){var i=t.type;return typeof i=="function"&&!Am(i)&&i.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(r.tag=15,r.type=i,Gb(o,r,i,e,n)):(o=Uf(t.type,null,e,r,r.mode,n),o.ref=r.ref,o.return=r,r.child=o)}if(i=o.child,!(o.lanes&n)){var s=i.memoizedProps;if(t=t.compare,t=t!==null?t:Ju,t(s,e)&&o.ref===r.ref)return Ei(o,r,n)}return r.flags|=1,o=ga(i,e),o.ref=r.ref,o.return=r,r.child=o}function Gb(o,r,t,e,n){if(o!==null){var i=o.memoizedProps;if(Ju(i,e)&&o.ref===r.ref)if($n=!1,r.pendingProps=e=i,(o.lanes&n)!==0)o.flags&131072&&($n=!0);else return r.lanes=o.lanes,Ei(o,r,n)}return Qv(o,r,t,e,n)}function Yb(o,r,t){var e=r.pendingProps,n=e.children,i=o!==null?o.memoizedState:null;if(e.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(Xs,so),so|=t;else{if(!(t&1073741824))return o=i!==null?i.baseLanes|t:t,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:o,cachePool:null,transitions:null},r.updateQueue=null,Je(Xs,so),so|=o,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},e=i!==null?i.baseLanes:t,Je(Xs,so),so|=e}else i!==null?(e=i.baseLanes|t,r.memoizedState=null):e=t,Je(Xs,so),so|=e;return On(o,r,n,t),r.child}function Xb(o,r){var t=r.ref;(o===null&&t!==null||o!==null&&o.ref!==t)&&(r.flags|=512,r.flags|=2097152)}function Qv(o,r,t,e,n){var i=Yn(t)?Qa:pn.current;return i=pl(r,i),ll(r,n),t=_m(o,r,t,e,i,n),e=wm(),o!==null&&!$n?(r.updateQueue=o.updateQueue,r.flags&=-2053,o.lanes&=~n,Ei(o,r,n)):(lr&&e&&sm(r),r.flags|=1,On(o,r,t,n),r.child)}function g_(o,r,t,e,n){if(Yn(t)){var i=!0;ed(r)}else i=!1;if(ll(r,n),r.stateNode===null)Rf(o,r),Wb(r,t,e),Jv(r,t,e,n),e=!0;else if(o===null){var s=r.stateNode,u=r.memoizedProps;s.props=u;var c=s.context,f=t.contextType;typeof f=="object"&&f!==null?f=Po(f):(f=Yn(t)?Qa:pn.current,f=pl(r,f));var h=t.getDerivedStateFromProps,g=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";g||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==e||c!==f)&&c_(r,s,e,f),Qi=!1;var m=r.memoizedState;s.state=m,ad(r,e,s,n),c=r.memoizedState,u!==e||m!==c||Gn.current||Qi?(typeof h=="function"&&(qv(r,t,h,e),c=r.memoizedState),(u=Qi||u_(r,t,u,e,m,c,f))?(g||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(r.flags|=4194308)):(typeof s.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=e,r.memoizedState=c),s.props=e,s.state=c,s.context=f,e=u):(typeof s.componentDidMount=="function"&&(r.flags|=4194308),e=!1)}else{s=r.stateNode,xb(o,r),u=r.memoizedProps,f=r.type===r.elementType?u:Ho(r.type,u),s.props=f,g=r.pendingProps,m=s.context,c=t.contextType,typeof c=="object"&&c!==null?c=Po(c):(c=Yn(t)?Qa:pn.current,c=pl(r,c));var y=t.getDerivedStateFromProps;(h=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==g||m!==c)&&c_(r,s,e,c),Qi=!1,m=r.memoizedState,s.state=m,ad(r,e,s,n);var w=r.memoizedState;u!==g||m!==w||Gn.current||Qi?(typeof y=="function"&&(qv(r,t,y,e),w=r.memoizedState),(f=Qi||u_(r,t,f,e,m,w,c)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(e,w,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(e,w,c)),typeof s.componentDidUpdate=="function"&&(r.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===o.memoizedProps&&m===o.memoizedState||(r.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===o.memoizedProps&&m===o.memoizedState||(r.flags|=1024),r.memoizedProps=e,r.memoizedState=w),s.props=e,s.state=w,s.context=c,e=f):(typeof s.componentDidUpdate!="function"||u===o.memoizedProps&&m===o.memoizedState||(r.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===o.memoizedProps&&m===o.memoizedState||(r.flags|=1024),e=!1)}return tg(o,r,t,e,i,n)}function tg(o,r,t,e,n,i){Xb(o,r);var s=(r.flags&128)!==0;if(!e&&!s)return n&&e_(r,t,!1),Ei(o,r,i);e=r.stateNode,AE.current=r;var u=s&&typeof t.getDerivedStateFromError!="function"?null:e.render();return r.flags|=1,o!==null&&s?(r.child=vl(r,o.child,null,i),r.child=vl(r,null,u,i)):On(o,r,u,i),r.memoizedState=e.state,n&&e_(r,t,!0),r.child}function qb(o){var r=o.stateNode;r.pendingContext?t_(o,r.pendingContext,r.pendingContext!==r.context):r.context&&t_(o,r.context,!1),vm(o,r.containerInfo)}function m_(o,r,t,e,n){return hl(),um(n),r.flags|=256,On(o,r,t,e),r.child}var eg={dehydrated:null,treeContext:null,retryLane:0};function rg(o){return{baseLanes:o,cachePool:null,transitions:null}}function Jb(o,r,t){var e=r.pendingProps,n=fr.current,i=!1,s=(r.flags&128)!==0,u;if((u=s)||(u=o!==null&&o.memoizedState===null?!1:(n&2)!==0),u?(i=!0,r.flags&=-129):(o===null||o.memoizedState!==null)&&(n|=1),Je(fr,n&1),o===null)return Yv(r),o=r.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(r.mode&1?o.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(s=e.children,o=e.fallback,i?(e=r.mode,i=r.child,s={mode:"hidden",children:s},!(e&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Tp(s,e,0,null),o=Za(o,e,t,null),i.return=r,o.return=r,i.sibling=o,r.child=i,r.child.memoizedState=rg(t),r.memoizedState=eg,o):xm(r,s));if(n=o.memoizedState,n!==null&&(u=n.dehydrated,u!==null))return ME(o,r,s,e,u,n,t);if(i){i=e.fallback,s=r.mode,n=o.child,u=n.sibling;var c={mode:"hidden",children:e.children};return!(s&1)&&r.child!==n?(e=r.child,e.childLanes=0,e.pendingProps=c,r.deletions=null):(e=ga(n,c),e.subtreeFlags=n.subtreeFlags&14680064),u!==null?i=ga(u,i):(i=Za(i,s,t,null),i.flags|=2),i.return=r,e.return=r,e.sibling=i,r.child=e,e=i,i=r.child,s=o.child.memoizedState,s=s===null?rg(t):{baseLanes:s.baseLanes|t,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=o.childLanes&~t,r.memoizedState=eg,e}return i=o.child,o=i.sibling,e=ga(i,{mode:"visible",children:e.children}),!(r.mode&1)&&(e.lanes=t),e.return=r,e.sibling=null,o!==null&&(t=r.deletions,t===null?(r.deletions=[o],r.flags|=16):t.push(o)),r.child=e,r.memoizedState=null,e}function xm(o,r){return r=Tp({mode:"visible",children:r},o.mode,0,null),r.return=o,o.child=r}function gf(o,r,t,e){return e!==null&&um(e),vl(r,o.child,null,t),o=xm(r,r.pendingProps.children),o.flags|=2,r.memoizedState=null,o}function ME(o,r,t,e,n,i,s){if(t)return r.flags&256?(r.flags&=-257,e=Fh(Error(Bt(422))),gf(o,r,s,e)):r.memoizedState!==null?(r.child=o.child,r.flags|=128,null):(i=e.fallback,n=r.mode,e=Tp({mode:"visible",children:e.children},n,0,null),i=Za(i,n,s,null),i.flags|=2,e.return=r,i.return=r,e.sibling=i,r.child=e,r.mode&1&&vl(r,o.child,null,s),r.child.memoizedState=rg(s),r.memoizedState=eg,i);if(!(r.mode&1))return gf(o,r,s,null);if(n.data==="$!"){if(e=n.nextSibling&&n.nextSibling.dataset,e)var u=e.dgst;return e=u,i=Error(Bt(419)),e=Fh(i,e,void 0),gf(o,r,s,e)}if(u=(s&o.childLanes)!==0,$n||u){if(e=$r,e!==null){switch(s&-s){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(e.suspendedLanes|s)?0:n,n!==0&&n!==i.retryLane&&(i.retryLane=n,Ti(o,n),Ko(e,o,n,-1))}return km(),e=Fh(Error(Bt(421))),gf(o,r,s,e)}return n.data==="$?"?(r.flags|=128,r.child=o.child,r=WE.bind(null,o),n._reactRetry=r,null):(o=i.treeContext,uo=da(n.nextSibling),po=r,lr=!0,zo=null,o!==null&&(xo[So++]=wi,xo[So++]=Ci,xo[So++]=ts,wi=o.id,Ci=o.overflow,ts=r),r=xm(r,e.children),r.flags|=4096,r)}function y_(o,r,t){o.lanes|=r;var e=o.alternate;e!==null&&(e.lanes|=r),Xv(o.return,r,t)}function Vh(o,r,t,e,n){var i=o.memoizedState;i===null?o.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:e,tail:t,tailMode:n}:(i.isBackwards=r,i.rendering=null,i.renderingStartTime=0,i.last=e,i.tail=t,i.tailMode=n)}function Zb(o,r,t){var e=r.pendingProps,n=e.revealOrder,i=e.tail;if(On(o,r,e.children,t),e=fr.current,e&2)e=e&1|2,r.flags|=128;else{if(o!==null&&o.flags&128)t:for(o=r.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&y_(o,t,r);else if(o.tag===19)y_(o,t,r);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break t;for(;o.sibling===null;){if(o.return===null||o.return===r)break t;o=o.return}o.sibling.return=o.return,o=o.sibling}e&=1}if(Je(fr,e),!(r.mode&1))r.memoizedState=null;else switch(n){case"forwards":for(t=r.child,n=null;t!==null;)o=t.alternate,o!==null&&sd(o)===null&&(n=t),t=t.sibling;t=n,t===null?(n=r.child,r.child=null):(n=t.sibling,t.sibling=null),Vh(r,!1,n,t,i);break;case"backwards":for(t=null,n=r.child,r.child=null;n!==null;){if(o=n.alternate,o!==null&&sd(o)===null){r.child=n;break}o=n.sibling,n.sibling=t,t=n,n=o}Vh(r,!0,t,null,i);break;case"together":Vh(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Rf(o,r){!(r.mode&1)&&o!==null&&(o.alternate=null,r.alternate=null,r.flags|=2)}function Ei(o,r,t){if(o!==null&&(r.dependencies=o.dependencies),rs|=r.lanes,!(t&r.childLanes))return null;if(o!==null&&r.child!==o.child)throw Error(Bt(153));if(r.child!==null){for(o=r.child,t=ga(o,o.pendingProps),r.child=t,t.return=r;o.sibling!==null;)o=o.sibling,t=t.sibling=ga(o,o.pendingProps),t.return=r;t.sibling=null}return r.child}function LE(o,r,t){switch(r.tag){case 3:qb(r),hl();break;case 5:Sb(r);break;case 1:Yn(r.type)&&ed(r);break;case 4:vm(r,r.stateNode.containerInfo);break;case 10:var e=r.type._context,n=r.memoizedProps.value;Je(od,e._currentValue),e._currentValue=n;break;case 13:if(e=r.memoizedState,e!==null)return e.dehydrated!==null?(Je(fr,fr.current&1),r.flags|=128,null):t&r.child.childLanes?Jb(o,r,t):(Je(fr,fr.current&1),o=Ei(o,r,t),o!==null?o.sibling:null);Je(fr,fr.current&1);break;case 19:if(e=(t&r.childLanes)!==0,o.flags&128){if(e)return Zb(o,r,t);r.flags|=128}if(n=r.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Je(fr,fr.current),e)break;return null;case 22:case 23:return r.lanes=0,Yb(o,r,t)}return Ei(o,r,t)}var Qb,ng,tx,ex;Qb=function(o,r){for(var t=r.child;t!==null;){if(t.tag===5||t.tag===6)o.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break;for(;t.sibling===null;){if(t.return===null||t.return===r)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};ng=function(){};tx=function(o,r,t,e){var n=o.memoizedProps;if(n!==e){o=r.stateNode,Ya(ri.current);var i=null;switch(t){case"input":n=Ov(o,n),e=Ov(o,e),i=[];break;case"select":n=pr({},n,{value:void 0}),e=pr({},e,{value:void 0}),i=[];break;case"textarea":n=Pv(o,n),e=Pv(o,e),i=[];break;default:typeof n.onClick!="function"&&typeof e.onClick=="function"&&(o.onclick=Qf)}Av(t,e);var s;t=null;for(f in n)if(!e.hasOwnProperty(f)&&n.hasOwnProperty(f)&&n[f]!=null)if(f==="style"){var u=n[f];for(s in u)u.hasOwnProperty(s)&&(t||(t={}),t[s]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Wu.hasOwnProperty(f)?i||(i=[]):(i=i||[]).push(f,null));for(f in e){var c=e[f];if(u=n!=null?n[f]:void 0,e.hasOwnProperty(f)&&c!==u&&(c!=null||u!=null))if(f==="style")if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(t||(t={}),t[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(t||(t={}),t[s]=c[s])}else t||(i||(i=[]),i.push(f,t)),t=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(i=i||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Wu.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&rr("scroll",o),i||u===c||(i=[])):(i=i||[]).push(f,c))}t&&(i=i||[]).push("style",t);var f=i;(r.updateQueue=f)&&(r.flags|=4)}};ex=function(o,r,t,e){t!==e&&(r.flags|=4)};function uu(o,r){if(!lr)switch(o.tailMode){case"hidden":r=o.tail;for(var t=null;r!==null;)r.alternate!==null&&(t=r),r=r.sibling;t===null?o.tail=null:t.sibling=null;break;case"collapsed":t=o.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?r||o.tail===null?o.tail=null:o.tail.sibling=null:e.sibling=null}}function ln(o){var r=o.alternate!==null&&o.alternate.child===o.child,t=0,e=0;if(r)for(var n=o.child;n!==null;)t|=n.lanes|n.childLanes,e|=n.subtreeFlags&14680064,e|=n.flags&14680064,n.return=o,n=n.sibling;else for(n=o.child;n!==null;)t|=n.lanes|n.childLanes,e|=n.subtreeFlags,e|=n.flags,n.return=o,n=n.sibling;return o.subtreeFlags|=e,o.childLanes=t,r}function DE(o,r,t){var e=r.pendingProps;switch(lm(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(r),null;case 1:return Yn(r.type)&&td(),ln(r),null;case 3:return e=r.stateNode,gl(),or(Gn),or(pn),mm(),e.pendingContext&&(e.context=e.pendingContext,e.pendingContext=null),(o===null||o.child===null)&&(hf(r)?r.flags|=4:o===null||o.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,zo!==null&&(fg(zo),zo=null))),ng(o,r),ln(r),null;case 5:gm(r);var n=Ya(rc.current);if(t=r.type,o!==null&&r.stateNode!=null)tx(o,r,t,e,n),o.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!e){if(r.stateNode===null)throw Error(Bt(166));return ln(r),null}if(o=Ya(ri.current),hf(r)){e=r.stateNode,t=r.type;var i=r.memoizedProps;switch(e[ti]=r,e[tc]=i,o=(r.mode&1)!==0,t){case"dialog":rr("cancel",e),rr("close",e);break;case"iframe":case"object":case"embed":rr("load",e);break;case"video":case"audio":for(n=0;n<yu.length;n++)rr(yu[n],e);break;case"source":rr("error",e);break;case"img":case"image":case"link":rr("error",e),rr("load",e);break;case"details":rr("toggle",e);break;case"input":E0(e,i),rr("invalid",e);break;case"select":e._wrapperState={wasMultiple:!!i.multiple},rr("invalid",e);break;case"textarea":k0(e,i),rr("invalid",e)}Av(t,i),n=null;for(var s in i)if(i.hasOwnProperty(s)){var u=i[s];s==="children"?typeof u=="string"?e.textContent!==u&&(i.suppressHydrationWarning!==!0&&pf(e.textContent,u,o),n=["children",u]):typeof u=="number"&&e.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&pf(e.textContent,u,o),n=["children",""+u]):Wu.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&rr("scroll",e)}switch(t){case"input":of(e),P0(e,i,!0);break;case"textarea":of(e),A0(e);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(e.onclick=Qf)}e=n,r.updateQueue=e,e!==null&&(r.flags|=4)}else{s=n.nodeType===9?n:n.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=kC(t)),o==="http://www.w3.org/1999/xhtml"?t==="script"?(o=s.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof e.is=="string"?o=s.createElement(t,{is:e.is}):(o=s.createElement(t),t==="select"&&(s=o,e.multiple?s.multiple=!0:e.size&&(s.size=e.size))):o=s.createElementNS(o,t),o[ti]=r,o[tc]=e,Qb(o,r,!1,!1),r.stateNode=o;t:{switch(s=Mv(t,e),t){case"dialog":rr("cancel",o),rr("close",o),n=e;break;case"iframe":case"object":case"embed":rr("load",o),n=e;break;case"video":case"audio":for(n=0;n<yu.length;n++)rr(yu[n],o);n=e;break;case"source":rr("error",o),n=e;break;case"img":case"image":case"link":rr("error",o),rr("load",o),n=e;break;case"details":rr("toggle",o),n=e;break;case"input":E0(o,e),n=Ov(o,e),rr("invalid",o);break;case"option":n=e;break;case"select":o._wrapperState={wasMultiple:!!e.multiple},n=pr({},e,{value:void 0}),rr("invalid",o);break;case"textarea":k0(o,e),n=Pv(o,e),rr("invalid",o);break;default:n=e}Av(t,n),u=n;for(i in u)if(u.hasOwnProperty(i)){var c=u[i];i==="style"?LC(o,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&AC(o,c)):i==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&Ku(o,c):typeof c=="number"&&Ku(o,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wu.hasOwnProperty(i)?c!=null&&i==="onScroll"&&rr("scroll",o):c!=null&&Gg(o,i,c,s))}switch(t){case"input":of(o),P0(o,e,!1);break;case"textarea":of(o),A0(o);break;case"option":e.value!=null&&o.setAttribute("value",""+ya(e.value));break;case"select":o.multiple=!!e.multiple,i=e.value,i!=null?ol(o,!!e.multiple,i,!1):e.defaultValue!=null&&ol(o,!!e.multiple,e.defaultValue,!0);break;default:typeof n.onClick=="function"&&(o.onclick=Qf)}switch(t){case"button":case"input":case"select":case"textarea":e=!!e.autoFocus;break t;case"img":e=!0;break t;default:e=!1}}e&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return ln(r),null;case 6:if(o&&r.stateNode!=null)ex(o,r,o.memoizedProps,e);else{if(typeof e!="string"&&r.stateNode===null)throw Error(Bt(166));if(t=Ya(rc.current),Ya(ri.current),hf(r)){if(e=r.stateNode,t=r.memoizedProps,e[ti]=r,(i=e.nodeValue!==t)&&(o=po,o!==null))switch(o.tag){case 3:pf(e.nodeValue,t,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&pf(e.nodeValue,t,(o.mode&1)!==0)}i&&(r.flags|=4)}else e=(t.nodeType===9?t:t.ownerDocument).createTextNode(e),e[ti]=r,r.stateNode=e}return ln(r),null;case 13:if(or(fr),e=r.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(lr&&uo!==null&&r.mode&1&&!(r.flags&128))_b(),hl(),r.flags|=98560,i=!1;else if(i=hf(r),e!==null&&e.dehydrated!==null){if(o===null){if(!i)throw Error(Bt(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Bt(317));i[ti]=r}else hl(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;ln(r),i=!1}else zo!==null&&(fg(zo),zo=null),i=!0;if(!i)return r.flags&65536?r:null}return r.flags&128?(r.lanes=t,r):(e=e!==null,e!==(o!==null&&o.memoizedState!==null)&&e&&(r.child.flags|=8192,r.mode&1&&(o===null||fr.current&1?zr===0&&(zr=3):km())),r.updateQueue!==null&&(r.flags|=4),ln(r),null);case 4:return gl(),ng(o,r),o===null&&Zu(r.stateNode.containerInfo),ln(r),null;case 10:return dm(r.type._context),ln(r),null;case 17:return Yn(r.type)&&td(),ln(r),null;case 19:if(or(fr),i=r.memoizedState,i===null)return ln(r),null;if(e=(r.flags&128)!==0,s=i.rendering,s===null)if(e)uu(i,!1);else{if(zr!==0||o!==null&&o.flags&128)for(o=r.child;o!==null;){if(s=sd(o),s!==null){for(r.flags|=128,uu(i,!1),e=s.updateQueue,e!==null&&(r.updateQueue=e,r.flags|=4),r.subtreeFlags=0,e=t,t=r.child;t!==null;)i=t,o=e,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,o=s.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),t=t.sibling;return Je(fr,fr.current&1|2),r.child}o=o.sibling}i.tail!==null&&Sr()>yl&&(r.flags|=128,e=!0,uu(i,!1),r.lanes=4194304)}else{if(!e)if(o=sd(s),o!==null){if(r.flags|=128,e=!0,t=o.updateQueue,t!==null&&(r.updateQueue=t,r.flags|=4),uu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!lr)return ln(r),null}else 2*Sr()-i.renderingStartTime>yl&&t!==1073741824&&(r.flags|=128,e=!0,uu(i,!1),r.lanes=4194304);i.isBackwards?(s.sibling=r.child,r.child=s):(t=i.last,t!==null?t.sibling=s:r.child=s,i.last=s)}return i.tail!==null?(r=i.tail,i.rendering=r,i.tail=r.sibling,i.renderingStartTime=Sr(),r.sibling=null,t=fr.current,Je(fr,e?t&1|2:t&1),r):(ln(r),null);case 22:case 23:return Pm(),e=r.memoizedState!==null,o!==null&&o.memoizedState!==null!==e&&(r.flags|=8192),e&&r.mode&1?so&1073741824&&(ln(r),r.subtreeFlags&6&&(r.flags|=8192)):ln(r),null;case 24:return null;case 25:return null}throw Error(Bt(156,r.tag))}function jE(o,r){switch(lm(r),r.tag){case 1:return Yn(r.type)&&td(),o=r.flags,o&65536?(r.flags=o&-65537|128,r):null;case 3:return gl(),or(Gn),or(pn),mm(),o=r.flags,o&65536&&!(o&128)?(r.flags=o&-65537|128,r):null;case 5:return gm(r),null;case 13:if(or(fr),o=r.memoizedState,o!==null&&o.dehydrated!==null){if(r.alternate===null)throw Error(Bt(340));hl()}return o=r.flags,o&65536?(r.flags=o&-65537|128,r):null;case 19:return or(fr),null;case 4:return gl(),null;case 10:return dm(r.type._context),null;case 22:case 23:return Pm(),null;case 24:return null;default:return null}}var mf=!1,fn=!1,NE=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Ys(o,r){var t=o.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(e){mr(o,r,e)}else t.current=null}function og(o,r,t){try{t()}catch(e){mr(o,r,e)}}var __=!1;function IE(o,r){if(Hv=qf,o=ab(),am(o)){if("selectionStart"in o)var t={start:o.selectionStart,end:o.selectionEnd};else t:{t=(t=o.ownerDocument)&&t.defaultView||window;var e=t.getSelection&&t.getSelection();if(e&&e.rangeCount!==0){t=e.anchorNode;var n=e.anchorOffset,i=e.focusNode;e=e.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break t}var s=0,u=-1,c=-1,f=0,h=0,g=o,m=null;e:for(;;){for(var y;g!==t||n!==0&&g.nodeType!==3||(u=s+n),g!==i||e!==0&&g.nodeType!==3||(c=s+e),g.nodeType===3&&(s+=g.nodeValue.length),(y=g.firstChild)!==null;)m=g,g=y;for(;;){if(g===o)break e;if(m===t&&++f===n&&(u=s),m===i&&++h===e&&(c=s),(y=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=y}t=u===-1||c===-1?null:{start:u,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(Bv={focusedElem:o,selectionRange:t},qf=!1,ae=r;ae!==null;)if(r=ae,o=r.child,(r.subtreeFlags&1028)!==0&&o!==null)o.return=r,ae=o;else for(;ae!==null;){r=ae;try{var w=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var b=w.memoizedProps,O=w.memoizedState,S=r.stateNode,P=S.getSnapshotBeforeUpdate(r.elementType===r.type?b:Ho(r.type,b),O);S.__reactInternalSnapshotBeforeUpdate=P}break;case 3:var T=r.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Bt(163))}}catch(j){mr(r,r.return,j)}if(o=r.sibling,o!==null){o.return=r.return,ae=o;break}ae=r.return}return w=__,__=!1,w}function Pu(o,r,t){var e=r.updateQueue;if(e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&o)===o){var i=n.destroy;n.destroy=void 0,i!==void 0&&og(r,t,i)}n=n.next}while(n!==e)}}function Sp(o,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var t=r=r.next;do{if((t.tag&o)===o){var e=t.create;t.destroy=e()}t=t.next}while(t!==r)}}function ig(o){var r=o.ref;if(r!==null){var t=o.stateNode;switch(o.tag){case 5:o=t;break;default:o=t}typeof r=="function"?r(o):r.current=o}}function rx(o){var r=o.alternate;r!==null&&(o.alternate=null,rx(r)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(r=o.stateNode,r!==null&&(delete r[ti],delete r[tc],delete r[Kv],delete r[yE],delete r[_E])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function nx(o){return o.tag===5||o.tag===3||o.tag===4}function w_(o){t:for(;;){for(;o.sibling===null;){if(o.return===null||nx(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue t;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function ag(o,r,t){var e=o.tag;if(e===5||e===6)o=o.stateNode,r?t.nodeType===8?t.parentNode.insertBefore(o,r):t.insertBefore(o,r):(t.nodeType===8?(r=t.parentNode,r.insertBefore(o,t)):(r=t,r.appendChild(o)),t=t._reactRootContainer,t!=null||r.onclick!==null||(r.onclick=Qf));else if(e!==4&&(o=o.child,o!==null))for(ag(o,r,t),o=o.sibling;o!==null;)ag(o,r,t),o=o.sibling}function sg(o,r,t){var e=o.tag;if(e===5||e===6)o=o.stateNode,r?t.insertBefore(o,r):t.appendChild(o);else if(e!==4&&(o=o.child,o!==null))for(sg(o,r,t),o=o.sibling;o!==null;)sg(o,r,t),o=o.sibling}var Jr=null,Bo=!1;function Ji(o,r,t){for(t=t.child;t!==null;)ox(o,r,t),t=t.sibling}function ox(o,r,t){if(ei&&typeof ei.onCommitFiberUnmount=="function")try{ei.onCommitFiberUnmount(gp,t)}catch{}switch(t.tag){case 5:fn||Ys(t,r);case 6:var e=Jr,n=Bo;Jr=null,Ji(o,r,t),Jr=e,Bo=n,Jr!==null&&(Bo?(o=Jr,t=t.stateNode,o.nodeType===8?o.parentNode.removeChild(t):o.removeChild(t)):Jr.removeChild(t.stateNode));break;case 18:Jr!==null&&(Bo?(o=Jr,t=t.stateNode,o.nodeType===8?Lh(o.parentNode,t):o.nodeType===1&&Lh(o,t),Xu(o)):Lh(Jr,t.stateNode));break;case 4:e=Jr,n=Bo,Jr=t.stateNode.containerInfo,Bo=!0,Ji(o,r,t),Jr=e,Bo=n;break;case 0:case 11:case 14:case 15:if(!fn&&(e=t.updateQueue,e!==null&&(e=e.lastEffect,e!==null))){n=e=e.next;do{var i=n,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&og(t,r,s),n=n.next}while(n!==e)}Ji(o,r,t);break;case 1:if(!fn&&(Ys(t,r),e=t.stateNode,typeof e.componentWillUnmount=="function"))try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(u){mr(t,r,u)}Ji(o,r,t);break;case 21:Ji(o,r,t);break;case 22:t.mode&1?(fn=(e=fn)||t.memoizedState!==null,Ji(o,r,t),fn=e):Ji(o,r,t);break;default:Ji(o,r,t)}}function C_(o){var r=o.updateQueue;if(r!==null){o.updateQueue=null;var t=o.stateNode;t===null&&(t=o.stateNode=new NE),r.forEach(function(e){var n=KE.bind(null,o,e);t.has(e)||(t.add(e),e.then(n,n))})}}function Fo(o,r){var t=r.deletions;if(t!==null)for(var e=0;e<t.length;e++){var n=t[e];try{var i=o,s=r,u=s;t:for(;u!==null;){switch(u.tag){case 5:Jr=u.stateNode,Bo=!1;break t;case 3:Jr=u.stateNode.containerInfo,Bo=!0;break t;case 4:Jr=u.stateNode.containerInfo,Bo=!0;break t}u=u.return}if(Jr===null)throw Error(Bt(160));ox(i,s,n),Jr=null,Bo=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(f){mr(n,r,f)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)ix(r,o),r=r.sibling}function ix(o,r){var t=o.alternate,e=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(Fo(r,o),qo(o),e&4){try{Pu(3,o,o.return),Sp(3,o)}catch(b){mr(o,o.return,b)}try{Pu(5,o,o.return)}catch(b){mr(o,o.return,b)}}break;case 1:Fo(r,o),qo(o),e&512&&t!==null&&Ys(t,t.return);break;case 5:if(Fo(r,o),qo(o),e&512&&t!==null&&Ys(t,t.return),o.flags&32){var n=o.stateNode;try{Ku(n,"")}catch(b){mr(o,o.return,b)}}if(e&4&&(n=o.stateNode,n!=null)){var i=o.memoizedProps,s=t!==null?t.memoizedProps:i,u=o.type,c=o.updateQueue;if(o.updateQueue=null,c!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&EC(n,i),Mv(u,s);var f=Mv(u,i);for(s=0;s<c.length;s+=2){var h=c[s],g=c[s+1];h==="style"?LC(n,g):h==="dangerouslySetInnerHTML"?AC(n,g):h==="children"?Ku(n,g):Gg(n,h,g,f)}switch(u){case"input":Tv(n,i);break;case"textarea":PC(n,i);break;case"select":var m=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?ol(n,!!i.multiple,y,!1):m!==!!i.multiple&&(i.defaultValue!=null?ol(n,!!i.multiple,i.defaultValue,!0):ol(n,!!i.multiple,i.multiple?[]:"",!1))}n[tc]=i}catch(b){mr(o,o.return,b)}}break;case 6:if(Fo(r,o),qo(o),e&4){if(o.stateNode===null)throw Error(Bt(162));n=o.stateNode,i=o.memoizedProps;try{n.nodeValue=i}catch(b){mr(o,o.return,b)}}break;case 3:if(Fo(r,o),qo(o),e&4&&t!==null&&t.memoizedState.isDehydrated)try{Xu(r.containerInfo)}catch(b){mr(o,o.return,b)}break;case 4:Fo(r,o),qo(o);break;case 13:Fo(r,o),qo(o),n=o.child,n.flags&8192&&(i=n.memoizedState!==null,n.stateNode.isHidden=i,!i||n.alternate!==null&&n.alternate.memoizedState!==null||(Tm=Sr())),e&4&&C_(o);break;case 22:if(h=t!==null&&t.memoizedState!==null,o.mode&1?(fn=(f=fn)||h,Fo(r,o),fn=f):Fo(r,o),qo(o),e&8192){if(f=o.memoizedState!==null,(o.stateNode.isHidden=f)&&!h&&o.mode&1)for(ae=o,h=o.child;h!==null;){for(g=ae=h;ae!==null;){switch(m=ae,y=m.child,m.tag){case 0:case 11:case 14:case 15:Pu(4,m,m.return);break;case 1:Ys(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){e=m,t=m.return;try{r=e,w.props=r.memoizedProps,w.state=r.memoizedState,w.componentWillUnmount()}catch(b){mr(e,t,b)}}break;case 5:Ys(m,m.return);break;case 22:if(m.memoizedState!==null){x_(g);continue}}y!==null?(y.return=m,ae=y):x_(g)}h=h.sibling}t:for(h=null,g=o;;){if(g.tag===5){if(h===null){h=g;try{n=g.stateNode,f?(i=n.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=g.stateNode,c=g.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=MC("display",s))}catch(b){mr(o,o.return,b)}}}else if(g.tag===6){if(h===null)try{g.stateNode.nodeValue=f?"":g.memoizedProps}catch(b){mr(o,o.return,b)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===o)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===o)break t;for(;g.sibling===null;){if(g.return===null||g.return===o)break t;h===g&&(h=null),g=g.return}h===g&&(h=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Fo(r,o),qo(o),e&4&&C_(o);break;case 21:break;default:Fo(r,o),qo(o)}}function qo(o){var r=o.flags;if(r&2){try{t:{for(var t=o.return;t!==null;){if(nx(t)){var e=t;break t}t=t.return}throw Error(Bt(160))}switch(e.tag){case 5:var n=e.stateNode;e.flags&32&&(Ku(n,""),e.flags&=-33);var i=w_(o);sg(o,i,n);break;case 3:case 4:var s=e.stateNode.containerInfo,u=w_(o);ag(o,u,s);break;default:throw Error(Bt(161))}}catch(c){mr(o,o.return,c)}o.flags&=-3}r&4096&&(o.flags&=-4097)}function RE(o,r,t){ae=o,ax(o)}function ax(o,r,t){for(var e=(o.mode&1)!==0;ae!==null;){var n=ae,i=n.child;if(n.tag===22&&e){var s=n.memoizedState!==null||mf;if(!s){var u=n.alternate,c=u!==null&&u.memoizedState!==null||fn;u=mf;var f=fn;if(mf=s,(fn=c)&&!f)for(ae=n;ae!==null;)s=ae,c=s.child,s.tag===22&&s.memoizedState!==null?S_(n):c!==null?(c.return=s,ae=c):S_(n);for(;i!==null;)ae=i,ax(i),i=i.sibling;ae=n,mf=u,fn=f}b_(o)}else n.subtreeFlags&8772&&i!==null?(i.return=n,ae=i):b_(o)}}function b_(o){for(;ae!==null;){var r=ae;if(r.flags&8772){var t=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:fn||Sp(5,r);break;case 1:var e=r.stateNode;if(r.flags&4&&!fn)if(t===null)e.componentDidMount();else{var n=r.elementType===r.type?t.memoizedProps:Ho(r.type,t.memoizedProps);e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}var i=r.updateQueue;i!==null&&a_(r,i,e);break;case 3:var s=r.updateQueue;if(s!==null){if(t=null,r.child!==null)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}a_(r,s,t)}break;case 5:var u=r.stateNode;if(t===null&&r.flags&4){t=u;var c=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var f=r.alternate;if(f!==null){var h=f.memoizedState;if(h!==null){var g=h.dehydrated;g!==null&&Xu(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Bt(163))}fn||r.flags&512&&ig(r)}catch(m){mr(r,r.return,m)}}if(r===o){ae=null;break}if(t=r.sibling,t!==null){t.return=r.return,ae=t;break}ae=r.return}}function x_(o){for(;ae!==null;){var r=ae;if(r===o){ae=null;break}var t=r.sibling;if(t!==null){t.return=r.return,ae=t;break}ae=r.return}}function S_(o){for(;ae!==null;){var r=ae;try{switch(r.tag){case 0:case 11:case 15:var t=r.return;try{Sp(4,r)}catch(c){mr(r,t,c)}break;case 1:var e=r.stateNode;if(typeof e.componentDidMount=="function"){var n=r.return;try{e.componentDidMount()}catch(c){mr(r,n,c)}}var i=r.return;try{ig(r)}catch(c){mr(r,i,c)}break;case 5:var s=r.return;try{ig(r)}catch(c){mr(r,s,c)}}}catch(c){mr(r,r.return,c)}if(r===o){ae=null;break}var u=r.sibling;if(u!==null){u.return=r.return,ae=u;break}ae=r.return}}var FE=Math.ceil,cd=ki.ReactCurrentDispatcher,Sm=ki.ReactCurrentOwner,Eo=ki.ReactCurrentBatchConfig,Re=0,$r=null,Mr=null,Zr=0,so=0,Xs=ba(0),zr=0,ac=null,rs=0,Op=0,Om=0,ku=null,zn=null,Tm=0,yl=1/0,vi=null,fd=!1,lg=null,ha=null,yf=!1,aa=null,dd=0,Au=0,ug=null,Ff=-1,Vf=0;function Pn(){return Re&6?Sr():Ff!==-1?Ff:Ff=Sr()}function va(o){return o.mode&1?Re&2&&Zr!==0?Zr&-Zr:CE.transition!==null?(Vf===0&&(Vf=WC()),Vf):(o=We,o!==0||(o=window.event,o=o===void 0?16:JC(o.type)),o):1}function Ko(o,r,t,e){if(50<Au)throw Au=0,ug=null,Error(Bt(185));pc(o,t,e),(!(Re&2)||o!==$r)&&(o===$r&&(!(Re&2)&&(Op|=t),zr===4&&oa(o,Zr)),Xn(o,e),t===1&&Re===0&&!(r.mode&1)&&(yl=Sr()+500,Cp&&xa()))}function Xn(o,r){var t=o.callbackNode;CT(o,r);var e=Xf(o,o===$r?Zr:0);if(e===0)t!==null&&D0(t),o.callbackNode=null,o.callbackPriority=0;else if(r=e&-e,o.callbackPriority!==r){if(t!=null&&D0(t),r===1)o.tag===0?wE(O_.bind(null,o)):gb(O_.bind(null,o)),gE(function(){!(Re&6)&&xa()}),t=null;else{switch(KC(e)){case 1:t=Zg;break;case 4:t=BC;break;case 16:t=Yf;break;case 536870912:t=zC;break;default:t=Yf}t=hx(t,sx.bind(null,o))}o.callbackPriority=r,o.callbackNode=t}}function sx(o,r){if(Ff=-1,Vf=0,Re&6)throw Error(Bt(327));var t=o.callbackNode;if(ul()&&o.callbackNode!==t)return null;var e=Xf(o,o===$r?Zr:0);if(e===0)return null;if(e&30||e&o.expiredLanes||r)r=pd(o,e);else{r=e;var n=Re;Re|=2;var i=ux();($r!==o||Zr!==r)&&(vi=null,yl=Sr()+500,Ja(o,r));do try{HE();break}catch(u){lx(o,u)}while(1);fm(),cd.current=i,Re=n,Mr!==null?r=0:($r=null,Zr=0,r=zr)}if(r!==0){if(r===2&&(n=Iv(o),n!==0&&(e=n,r=cg(o,n))),r===1)throw t=ac,Ja(o,0),oa(o,e),Xn(o,Sr()),t;if(r===6)oa(o,e);else{if(n=o.current.alternate,!(e&30)&&!VE(n)&&(r=pd(o,e),r===2&&(i=Iv(o),i!==0&&(e=i,r=cg(o,i))),r===1))throw t=ac,Ja(o,0),oa(o,e),Xn(o,Sr()),t;switch(o.finishedWork=n,o.finishedLanes=e,r){case 0:case 1:throw Error(Bt(345));case 2:Ua(o,zn,vi);break;case 3:if(oa(o,e),(e&130023424)===e&&(r=Tm+500-Sr(),10<r)){if(Xf(o,0)!==0)break;if(n=o.suspendedLanes,(n&e)!==e){Pn(),o.pingedLanes|=o.suspendedLanes&n;break}o.timeoutHandle=Wv(Ua.bind(null,o,zn,vi),r);break}Ua(o,zn,vi);break;case 4:if(oa(o,e),(e&4194240)===e)break;for(r=o.eventTimes,n=-1;0<e;){var s=31-Wo(e);i=1<<s,s=r[s],s>n&&(n=s),e&=~i}if(e=n,e=Sr()-e,e=(120>e?120:480>e?480:1080>e?1080:1920>e?1920:3e3>e?3e3:4320>e?4320:1960*FE(e/1960))-e,10<e){o.timeoutHandle=Wv(Ua.bind(null,o,zn,vi),e);break}Ua(o,zn,vi);break;case 5:Ua(o,zn,vi);break;default:throw Error(Bt(329))}}}return Xn(o,Sr()),o.callbackNode===t?sx.bind(null,o):null}function cg(o,r){var t=ku;return o.current.memoizedState.isDehydrated&&(Ja(o,r).flags|=256),o=pd(o,r),o!==2&&(r=zn,zn=t,r!==null&&fg(r)),o}function fg(o){zn===null?zn=o:zn.push.apply(zn,o)}function VE(o){for(var r=o;;){if(r.flags&16384){var t=r.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var e=0;e<t.length;e++){var n=t[e],i=n.getSnapshot;n=n.value;try{if(!$o(i(),n))return!1}catch{return!1}}}if(t=r.child,r.subtreeFlags&16384&&t!==null)t.return=r,r=t;else{if(r===o)break;for(;r.sibling===null;){if(r.return===null||r.return===o)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function oa(o,r){for(r&=~Om,r&=~Op,o.suspendedLanes|=r,o.pingedLanes&=~r,o=o.expirationTimes;0<r;){var t=31-Wo(r),e=1<<t;o[t]=-1,r&=~e}}function O_(o){if(Re&6)throw Error(Bt(327));ul();var r=Xf(o,0);if(!(r&1))return Xn(o,Sr()),null;var t=pd(o,r);if(o.tag!==0&&t===2){var e=Iv(o);e!==0&&(r=e,t=cg(o,e))}if(t===1)throw t=ac,Ja(o,0),oa(o,r),Xn(o,Sr()),t;if(t===6)throw Error(Bt(345));return o.finishedWork=o.current.alternate,o.finishedLanes=r,Ua(o,zn,vi),Xn(o,Sr()),null}function Em(o,r){var t=Re;Re|=1;try{return o(r)}finally{Re=t,Re===0&&(yl=Sr()+500,Cp&&xa())}}function ns(o){aa!==null&&aa.tag===0&&!(Re&6)&&ul();var r=Re;Re|=1;var t=Eo.transition,e=We;try{if(Eo.transition=null,We=1,o)return o()}finally{We=e,Eo.transition=t,Re=r,!(Re&6)&&xa()}}function Pm(){so=Xs.current,or(Xs)}function Ja(o,r){o.finishedWork=null,o.finishedLanes=0;var t=o.timeoutHandle;if(t!==-1&&(o.timeoutHandle=-1,vE(t)),Mr!==null)for(t=Mr.return;t!==null;){var e=t;switch(lm(e),e.tag){case 1:e=e.type.childContextTypes,e!=null&&td();break;case 3:gl(),or(Gn),or(pn),mm();break;case 5:gm(e);break;case 4:gl();break;case 13:or(fr);break;case 19:or(fr);break;case 10:dm(e.type._context);break;case 22:case 23:Pm()}t=t.return}if($r=o,Mr=o=ga(o.current,null),Zr=so=r,zr=0,ac=null,Om=Op=rs=0,zn=ku=null,Ga!==null){for(r=0;r<Ga.length;r++)if(t=Ga[r],e=t.interleaved,e!==null){t.interleaved=null;var n=e.next,i=t.pending;if(i!==null){var s=i.next;i.next=n,e.next=s}t.pending=e}Ga=null}return o}function lx(o,r){do{var t=Mr;try{if(fm(),Nf.current=ud,ld){for(var e=dr.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ld=!1}if(es=0,Kr=Br=dr=null,Eu=!1,nc=0,Sm.current=null,t===null||t.return===null){zr=1,ac=r,Mr=null;break}t:{var i=o,s=t.return,u=t,c=r;if(r=Zr,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,h=u,g=h.tag;if(!(h.mode&1)&&(g===0||g===11||g===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=d_(s);if(y!==null){y.flags&=-257,p_(y,s,u,i,r),y.mode&1&&f_(i,f,r),r=y,c=f;var w=r.updateQueue;if(w===null){var b=new Set;b.add(c),r.updateQueue=b}else w.add(c);break t}else{if(!(r&1)){f_(i,f,r),km();break t}c=Error(Bt(426))}}else if(lr&&u.mode&1){var O=d_(s);if(O!==null){!(O.flags&65536)&&(O.flags|=256),p_(O,s,u,i,r),um(ml(c,u));break t}}i=c=ml(c,u),zr!==4&&(zr=2),ku===null?ku=[i]:ku.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,r&=-r,i.lanes|=r;var S=Kb(i,c,r);i_(i,S);break t;case 1:u=c;var P=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof P.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ha===null||!ha.has(T)))){i.flags|=65536,r&=-r,i.lanes|=r;var j=$b(i,u,r);i_(i,j);break t}}i=i.return}while(i!==null)}fx(t)}catch(X){r=X,Mr===t&&t!==null&&(Mr=t=t.return);continue}break}while(1)}function ux(){var o=cd.current;return cd.current=ud,o===null?ud:o}function km(){(zr===0||zr===3||zr===2)&&(zr=4),$r===null||!(rs&268435455)&&!(Op&268435455)||oa($r,Zr)}function pd(o,r){var t=Re;Re|=2;var e=ux();($r!==o||Zr!==r)&&(vi=null,Ja(o,r));do try{UE();break}catch(n){lx(o,n)}while(1);if(fm(),Re=t,cd.current=e,Mr!==null)throw Error(Bt(261));return $r=null,Zr=0,zr}function UE(){for(;Mr!==null;)cx(Mr)}function HE(){for(;Mr!==null&&!dT();)cx(Mr)}function cx(o){var r=px(o.alternate,o,so);o.memoizedProps=o.pendingProps,r===null?fx(o):Mr=r,Sm.current=null}function fx(o){var r=o;do{var t=r.alternate;if(o=r.return,r.flags&32768){if(t=jE(t,r),t!==null){t.flags&=32767,Mr=t;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{zr=6,Mr=null;return}}else if(t=DE(t,r,so),t!==null){Mr=t;return}if(r=r.sibling,r!==null){Mr=r;return}Mr=r=o}while(r!==null);zr===0&&(zr=5)}function Ua(o,r,t){var e=We,n=Eo.transition;try{Eo.transition=null,We=1,BE(o,r,t,e)}finally{Eo.transition=n,We=e}return null}function BE(o,r,t,e){do ul();while(aa!==null);if(Re&6)throw Error(Bt(327));t=o.finishedWork;var n=o.finishedLanes;if(t===null)return null;if(o.finishedWork=null,o.finishedLanes=0,t===o.current)throw Error(Bt(177));o.callbackNode=null,o.callbackPriority=0;var i=t.lanes|t.childLanes;if(bT(o,i),o===$r&&(Mr=$r=null,Zr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||yf||(yf=!0,hx(Yf,function(){return ul(),null})),i=(t.flags&15990)!==0,t.subtreeFlags&15990||i){i=Eo.transition,Eo.transition=null;var s=We;We=1;var u=Re;Re|=4,Sm.current=null,IE(o,t),ix(t,o),lE(Bv),qf=!!Hv,Bv=Hv=null,o.current=t,RE(t),pT(),Re=u,We=s,Eo.transition=i}else o.current=t;if(yf&&(yf=!1,aa=o,dd=n),i=o.pendingLanes,i===0&&(ha=null),gT(t.stateNode),Xn(o,Sr()),r!==null)for(e=o.onRecoverableError,t=0;t<r.length;t++)n=r[t],e(n.value,{componentStack:n.stack,digest:n.digest});if(fd)throw fd=!1,o=lg,lg=null,o;return dd&1&&o.tag!==0&&ul(),i=o.pendingLanes,i&1?o===ug?Au++:(Au=0,ug=o):Au=0,xa(),null}function ul(){if(aa!==null){var o=KC(dd),r=Eo.transition,t=We;try{if(Eo.transition=null,We=16>o?16:o,aa===null)var e=!1;else{if(o=aa,aa=null,dd=0,Re&6)throw Error(Bt(331));var n=Re;for(Re|=4,ae=o.current;ae!==null;){var i=ae,s=i.child;if(ae.flags&16){var u=i.deletions;if(u!==null){for(var c=0;c<u.length;c++){var f=u[c];for(ae=f;ae!==null;){var h=ae;switch(h.tag){case 0:case 11:case 15:Pu(8,h,i)}var g=h.child;if(g!==null)g.return=h,ae=g;else for(;ae!==null;){h=ae;var m=h.sibling,y=h.return;if(rx(h),h===f){ae=null;break}if(m!==null){m.return=y,ae=m;break}ae=y}}}var w=i.alternate;if(w!==null){var b=w.child;if(b!==null){w.child=null;do{var O=b.sibling;b.sibling=null,b=O}while(b!==null)}}ae=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,ae=s;else t:for(;ae!==null;){if(i=ae,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Pu(9,i,i.return)}var S=i.sibling;if(S!==null){S.return=i.return,ae=S;break t}ae=i.return}}var P=o.current;for(ae=P;ae!==null;){s=ae;var T=s.child;if(s.subtreeFlags&2064&&T!==null)T.return=s,ae=T;else t:for(s=P;ae!==null;){if(u=ae,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Sp(9,u)}}catch(X){mr(u,u.return,X)}if(u===s){ae=null;break t}var j=u.sibling;if(j!==null){j.return=u.return,ae=j;break t}ae=u.return}}if(Re=n,xa(),ei&&typeof ei.onPostCommitFiberRoot=="function")try{ei.onPostCommitFiberRoot(gp,o)}catch{}e=!0}return e}finally{We=t,Eo.transition=r}}return!1}function T_(o,r,t){r=ml(t,r),r=Kb(o,r,1),o=pa(o,r,1),r=Pn(),o!==null&&(pc(o,1,r),Xn(o,r))}function mr(o,r,t){if(o.tag===3)T_(o,o,t);else for(;r!==null;){if(r.tag===3){T_(r,o,t);break}else if(r.tag===1){var e=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof e.componentDidCatch=="function"&&(ha===null||!ha.has(e))){o=ml(t,o),o=$b(r,o,1),r=pa(r,o,1),o=Pn(),r!==null&&(pc(r,1,o),Xn(r,o));break}}r=r.return}}function zE(o,r,t){var e=o.pingCache;e!==null&&e.delete(r),r=Pn(),o.pingedLanes|=o.suspendedLanes&t,$r===o&&(Zr&t)===t&&(zr===4||zr===3&&(Zr&130023424)===Zr&&500>Sr()-Tm?Ja(o,0):Om|=t),Xn(o,r)}function dx(o,r){r===0&&(o.mode&1?(r=lf,lf<<=1,!(lf&130023424)&&(lf=4194304)):r=1);var t=Pn();o=Ti(o,r),o!==null&&(pc(o,r,t),Xn(o,t))}function WE(o){var r=o.memoizedState,t=0;r!==null&&(t=r.retryLane),dx(o,t)}function KE(o,r){var t=0;switch(o.tag){case 13:var e=o.stateNode,n=o.memoizedState;n!==null&&(t=n.retryLane);break;case 19:e=o.stateNode;break;default:throw Error(Bt(314))}e!==null&&e.delete(r),dx(o,t)}var px;px=function(o,r,t){if(o!==null)if(o.memoizedProps!==r.pendingProps||Gn.current)$n=!0;else{if(!(o.lanes&t)&&!(r.flags&128))return $n=!1,LE(o,r,t);$n=!!(o.flags&131072)}else $n=!1,lr&&r.flags&1048576&&mb(r,nd,r.index);switch(r.lanes=0,r.tag){case 2:var e=r.type;Rf(o,r),o=r.pendingProps;var n=pl(r,pn.current);ll(r,t),n=_m(null,r,e,o,n,t);var i=wm();return r.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Yn(e)?(i=!0,ed(r)):i=!1,r.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,hm(r),n.updater=xp,r.stateNode=n,n._reactInternals=r,Jv(r,e,o,t),r=tg(null,r,e,!0,i,t)):(r.tag=0,lr&&i&&sm(r),On(null,r,n,t),r=r.child),r;case 16:e=r.elementType;t:{switch(Rf(o,r),o=r.pendingProps,n=e._init,e=n(e._payload),r.type=e,n=r.tag=GE(e),o=Ho(e,o),n){case 0:r=Qv(null,r,e,o,t);break t;case 1:r=g_(null,r,e,o,t);break t;case 11:r=h_(null,r,e,o,t);break t;case 14:r=v_(null,r,e,Ho(e.type,o),t);break t}throw Error(Bt(306,e,""))}return r;case 0:return e=r.type,n=r.pendingProps,n=r.elementType===e?n:Ho(e,n),Qv(o,r,e,n,t);case 1:return e=r.type,n=r.pendingProps,n=r.elementType===e?n:Ho(e,n),g_(o,r,e,n,t);case 3:t:{if(qb(r),o===null)throw Error(Bt(387));e=r.pendingProps,i=r.memoizedState,n=i.element,xb(o,r),ad(r,e,null,t);var s=r.memoizedState;if(e=s.element,i.isDehydrated)if(i={element:e,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},r.updateQueue.baseState=i,r.memoizedState=i,r.flags&256){n=ml(Error(Bt(423)),r),r=m_(o,r,e,t,n);break t}else if(e!==n){n=ml(Error(Bt(424)),r),r=m_(o,r,e,t,n);break t}else for(uo=da(r.stateNode.containerInfo.firstChild),po=r,lr=!0,zo=null,t=Cb(r,null,e,t),r.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(hl(),e===n){r=Ei(o,r,t);break t}On(o,r,e,t)}r=r.child}return r;case 5:return Sb(r),o===null&&Yv(r),e=r.type,n=r.pendingProps,i=o!==null?o.memoizedProps:null,s=n.children,zv(e,n)?s=null:i!==null&&zv(e,i)&&(r.flags|=32),Xb(o,r),On(o,r,s,t),r.child;case 6:return o===null&&Yv(r),null;case 13:return Jb(o,r,t);case 4:return vm(r,r.stateNode.containerInfo),e=r.pendingProps,o===null?r.child=vl(r,null,e,t):On(o,r,e,t),r.child;case 11:return e=r.type,n=r.pendingProps,n=r.elementType===e?n:Ho(e,n),h_(o,r,e,n,t);case 7:return On(o,r,r.pendingProps,t),r.child;case 8:return On(o,r,r.pendingProps.children,t),r.child;case 12:return On(o,r,r.pendingProps.children,t),r.child;case 10:t:{if(e=r.type._context,n=r.pendingProps,i=r.memoizedProps,s=n.value,Je(od,e._currentValue),e._currentValue=s,i!==null)if($o(i.value,s)){if(i.children===n.children&&!Gn.current){r=Ei(o,r,t);break t}}else for(i=r.child,i!==null&&(i.return=r);i!==null;){var u=i.dependencies;if(u!==null){s=i.child;for(var c=u.firstContext;c!==null;){if(c.context===e){if(i.tag===1){c=bi(-1,t&-t),c.tag=2;var f=i.updateQueue;if(f!==null){f=f.shared;var h=f.pending;h===null?c.next=c:(c.next=h.next,h.next=c),f.pending=c}}i.lanes|=t,c=i.alternate,c!==null&&(c.lanes|=t),Xv(i.return,t,r),u.lanes|=t;break}c=c.next}}else if(i.tag===10)s=i.type===r.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Bt(341));s.lanes|=t,u=s.alternate,u!==null&&(u.lanes|=t),Xv(s,t,r),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===r){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}On(o,r,n.children,t),r=r.child}return r;case 9:return n=r.type,e=r.pendingProps.children,ll(r,t),n=Po(n),e=e(n),r.flags|=1,On(o,r,e,t),r.child;case 14:return e=r.type,n=Ho(e,r.pendingProps),n=Ho(e.type,n),v_(o,r,e,n,t);case 15:return Gb(o,r,r.type,r.pendingProps,t);case 17:return e=r.type,n=r.pendingProps,n=r.elementType===e?n:Ho(e,n),Rf(o,r),r.tag=1,Yn(e)?(o=!0,ed(r)):o=!1,ll(r,t),Wb(r,e,n),Jv(r,e,n,t),tg(null,r,e,!0,o,t);case 19:return Zb(o,r,t);case 22:return Yb(o,r,t)}throw Error(Bt(156,r.tag))};function hx(o,r){return HC(o,r)}function $E(o,r,t,e){this.tag=o,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=e,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Oo(o,r,t,e){return new $E(o,r,t,e)}function Am(o){return o=o.prototype,!(!o||!o.isReactComponent)}function GE(o){if(typeof o=="function")return Am(o)?1:0;if(o!=null){if(o=o.$$typeof,o===Xg)return 11;if(o===qg)return 14}return 2}function ga(o,r){var t=o.alternate;return t===null?(t=Oo(o.tag,r,o.key,o.mode),t.elementType=o.elementType,t.type=o.type,t.stateNode=o.stateNode,t.alternate=o,o.alternate=t):(t.pendingProps=r,t.type=o.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=o.flags&14680064,t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,r=o.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},t.sibling=o.sibling,t.index=o.index,t.ref=o.ref,t}function Uf(o,r,t,e,n,i){var s=2;if(e=o,typeof o=="function")Am(o)&&(s=1);else if(typeof o=="string")s=5;else t:switch(o){case Vs:return Za(t.children,n,i,r);case Yg:s=8,n|=8;break;case Cv:return o=Oo(12,t,r,n|2),o.elementType=Cv,o.lanes=i,o;case bv:return o=Oo(13,t,r,n),o.elementType=bv,o.lanes=i,o;case xv:return o=Oo(19,t,r,n),o.elementType=xv,o.lanes=i,o;case SC:return Tp(t,n,i,r);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case bC:s=10;break t;case xC:s=9;break t;case Xg:s=11;break t;case qg:s=14;break t;case Zi:s=16,e=null;break t}throw Error(Bt(130,o==null?o:typeof o,""))}return r=Oo(s,t,r,n),r.elementType=o,r.type=e,r.lanes=i,r}function Za(o,r,t,e){return o=Oo(7,o,e,r),o.lanes=t,o}function Tp(o,r,t,e){return o=Oo(22,o,e,r),o.elementType=SC,o.lanes=t,o.stateNode={isHidden:!1},o}function Uh(o,r,t){return o=Oo(6,o,null,r),o.lanes=t,o}function Hh(o,r,t){return r=Oo(4,o.children!==null?o.children:[],o.key,r),r.lanes=t,r.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},r}function YE(o,r,t,e,n){this.tag=r,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ch(0),this.expirationTimes=Ch(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ch(0),this.identifierPrefix=e,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Mm(o,r,t,e,n,i,s,u,c){return o=new YE(o,r,t,u,c),r===1?(r=1,i===!0&&(r|=8)):r=0,i=Oo(3,null,null,r),o.current=i,i.stateNode=o,i.memoizedState={element:e,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},hm(i),o}function XE(o,r,t){var e=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fs,key:e==null?null:""+e,children:o,containerInfo:r,implementation:t}}function vx(o){if(!o)return _a;o=o._reactInternals;t:{if(ls(o)!==o||o.tag!==1)throw Error(Bt(170));var r=o;do{switch(r.tag){case 3:r=r.stateNode.context;break t;case 1:if(Yn(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break t}}r=r.return}while(r!==null);throw Error(Bt(171))}if(o.tag===1){var t=o.type;if(Yn(t))return vb(o,t,r)}return r}function gx(o,r,t,e,n,i,s,u,c){return o=Mm(t,e,!0,o,n,i,s,u,c),o.context=vx(null),t=o.current,e=Pn(),n=va(t),i=bi(e,n),i.callback=r??null,pa(t,i,n),o.current.lanes=n,pc(o,n,e),Xn(o,e),o}function Ep(o,r,t,e){var n=r.current,i=Pn(),s=va(n);return t=vx(t),r.context===null?r.context=t:r.pendingContext=t,r=bi(i,s),r.payload={element:o},e=e===void 0?null:e,e!==null&&(r.callback=e),o=pa(n,r,s),o!==null&&(Ko(o,n,s,i),jf(o,n,s)),s}function hd(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function E_(o,r){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var t=o.retryLane;o.retryLane=t!==0&&t<r?t:r}}function Lm(o,r){E_(o,r),(o=o.alternate)&&E_(o,r)}function qE(){return null}var mx=typeof reportError=="function"?reportError:function(o){console.error(o)};function Dm(o){this._internalRoot=o}Pp.prototype.render=Dm.prototype.render=function(o){var r=this._internalRoot;if(r===null)throw Error(Bt(409));Ep(o,r,null,null)};Pp.prototype.unmount=Dm.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var r=o.containerInfo;ns(function(){Ep(null,o,null,null)}),r[Oi]=null}};function Pp(o){this._internalRoot=o}Pp.prototype.unstable_scheduleHydration=function(o){if(o){var r=YC();o={blockedOn:null,target:o,priority:r};for(var t=0;t<na.length&&r!==0&&r<na[t].priority;t++);na.splice(t,0,o),t===0&&qC(o)}};function jm(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function kp(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function P_(){}function JE(o,r,t,e,n){if(n){if(typeof e=="function"){var i=e;e=function(){var f=hd(s);i.call(f)}}var s=gx(r,e,o,0,null,!1,!1,"",P_);return o._reactRootContainer=s,o[Oi]=s.current,Zu(o.nodeType===8?o.parentNode:o),ns(),s}for(;n=o.lastChild;)o.removeChild(n);if(typeof e=="function"){var u=e;e=function(){var f=hd(c);u.call(f)}}var c=Mm(o,0,!1,null,null,!1,!1,"",P_);return o._reactRootContainer=c,o[Oi]=c.current,Zu(o.nodeType===8?o.parentNode:o),ns(function(){Ep(r,c,t,e)}),c}function Ap(o,r,t,e,n){var i=t._reactRootContainer;if(i){var s=i;if(typeof n=="function"){var u=n;n=function(){var c=hd(s);u.call(c)}}Ep(r,s,o,n)}else s=JE(t,r,o,n,e);return hd(s)}$C=function(o){switch(o.tag){case 3:var r=o.stateNode;if(r.current.memoizedState.isDehydrated){var t=mu(r.pendingLanes);t!==0&&(Qg(r,t|1),Xn(r,Sr()),!(Re&6)&&(yl=Sr()+500,xa()))}break;case 13:ns(function(){var e=Ti(o,1);if(e!==null){var n=Pn();Ko(e,o,1,n)}}),Lm(o,1)}};tm=function(o){if(o.tag===13){var r=Ti(o,134217728);if(r!==null){var t=Pn();Ko(r,o,134217728,t)}Lm(o,134217728)}};GC=function(o){if(o.tag===13){var r=va(o),t=Ti(o,r);if(t!==null){var e=Pn();Ko(t,o,r,e)}Lm(o,r)}};YC=function(){return We};XC=function(o,r){var t=We;try{return We=o,r()}finally{We=t}};Dv=function(o,r,t){switch(r){case"input":if(Tv(o,t),r=t.name,t.type==="radio"&&r!=null){for(t=o;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<t.length;r++){var e=t[r];if(e!==o&&e.form===o.form){var n=wp(e);if(!n)throw Error(Bt(90));TC(e),Tv(e,n)}}}break;case"textarea":PC(o,t);break;case"select":r=t.value,r!=null&&ol(o,!!t.multiple,r,!1)}};NC=Em;IC=ns;var ZE={usingClientEntryPoint:!1,Events:[vc,zs,wp,DC,jC,Em]},cu={findFiberByHostInstance:$a,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QE={bundleType:cu.bundleType,version:cu.version,rendererPackageName:cu.rendererPackageName,rendererConfig:cu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=VC(o),o===null?null:o.stateNode},findFiberByHostInstance:cu.findFiberByHostInstance||qE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _f=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_f.isDisabled&&_f.supportsFiber)try{gp=_f.inject(QE),ei=_f}catch{}}vo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZE;vo.createPortal=function(o,r){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jm(r))throw Error(Bt(200));return XE(o,r,null,t)};vo.createRoot=function(o,r){if(!jm(o))throw Error(Bt(299));var t=!1,e="",n=mx;return r!=null&&(r.unstable_strictMode===!0&&(t=!0),r.identifierPrefix!==void 0&&(e=r.identifierPrefix),r.onRecoverableError!==void 0&&(n=r.onRecoverableError)),r=Mm(o,1,!1,null,null,t,!1,e,n),o[Oi]=r.current,Zu(o.nodeType===8?o.parentNode:o),new Dm(r)};vo.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var r=o._reactInternals;if(r===void 0)throw typeof o.render=="function"?Error(Bt(188)):(o=Object.keys(o).join(","),Error(Bt(268,o)));return o=VC(r),o=o===null?null:o.stateNode,o};vo.flushSync=function(o){return ns(o)};vo.hydrate=function(o,r,t){if(!kp(r))throw Error(Bt(200));return Ap(null,o,r,!0,t)};vo.hydrateRoot=function(o,r,t){if(!jm(o))throw Error(Bt(405));var e=t!=null&&t.hydratedSources||null,n=!1,i="",s=mx;if(t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),r=gx(r,null,o,1,t??null,n,!1,i,s),o[Oi]=r.current,Zu(o),e)for(o=0;o<e.length;o++)t=e[o],n=t._getVersion,n=n(t._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[t,n]:r.mutableSourceEagerHydrationData.push(t,n);return new Pp(r)};vo.render=function(o,r,t){if(!kp(r))throw Error(Bt(200));return Ap(null,o,r,!1,t)};vo.unmountComponentAtNode=function(o){if(!kp(o))throw Error(Bt(40));return o._reactRootContainer?(ns(function(){Ap(null,null,o,!1,function(){o._reactRootContainer=null,o[Oi]=null})}),!0):!1};vo.unstable_batchedUpdates=Em;vo.unstable_renderSubtreeIntoContainer=function(o,r,t,e){if(!kp(t))throw Error(Bt(200));if(o==null||o._reactInternals===void 0)throw Error(Bt(38));return Ap(o,r,t,!1,e)};vo.version="18.3.1-next-f1338f8080-20240426";function yx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yx)}catch(o){console.error(o)}}yx(),yC.exports=vo;var tP=yC.exports,k_=tP;_v.createRoot=k_.createRoot,_v.hydrateRoot=k_.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sc(){return sc=Object.assign?Object.assign.bind():function(o){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=t[e])}return o},sc.apply(this,arguments)}var sa;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(sa||(sa={}));const A_="popstate";function eP(o){o===void 0&&(o={});function r(e,n){let{pathname:i,search:s,hash:u}=e.location;return dg("",{pathname:i,search:s,hash:u},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function t(e,n){return typeof n=="string"?n:vd(n)}return nP(r,t,null,o)}function Lr(o,r){if(o===!1||o===null||typeof o>"u")throw new Error(r)}function _x(o,r){if(!o){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function rP(){return Math.random().toString(36).substr(2,8)}function M_(o,r){return{usr:o.state,key:o.key,idx:r}}function dg(o,r,t,e){return t===void 0&&(t=null),sc({pathname:typeof o=="string"?o:o.pathname,search:"",hash:""},typeof r=="string"?Ol(r):r,{state:t,key:r&&r.key||e||rP()})}function vd(o){let{pathname:r="/",search:t="",hash:e=""}=o;return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(r+=e.charAt(0)==="#"?e:"#"+e),r}function Ol(o){let r={};if(o){let t=o.indexOf("#");t>=0&&(r.hash=o.substr(t),o=o.substr(0,t));let e=o.indexOf("?");e>=0&&(r.search=o.substr(e),o=o.substr(0,e)),o&&(r.pathname=o)}return r}function nP(o,r,t,e){e===void 0&&(e={});let{window:n=document.defaultView,v5Compat:i=!1}=e,s=n.history,u=sa.Pop,c=null,f=h();f==null&&(f=0,s.replaceState(sc({},s.state,{idx:f}),""));function h(){return(s.state||{idx:null}).idx}function g(){u=sa.Pop;let O=h(),S=O==null?null:O-f;f=O,c&&c({action:u,location:b.location,delta:S})}function m(O,S){u=sa.Push;let P=dg(b.location,O,S);t&&t(P,O),f=h()+1;let T=M_(P,f),j=b.createHref(P);try{s.pushState(T,"",j)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;n.location.assign(j)}i&&c&&c({action:u,location:b.location,delta:1})}function y(O,S){u=sa.Replace;let P=dg(b.location,O,S);t&&t(P,O),f=h();let T=M_(P,f),j=b.createHref(P);s.replaceState(T,"",j),i&&c&&c({action:u,location:b.location,delta:0})}function w(O){let S=n.location.origin!=="null"?n.location.origin:n.location.href,P=typeof O=="string"?O:vd(O);return P=P.replace(/ $/,"%20"),Lr(S,"No window.location.(origin|href) available to create URL for href: "+P),new URL(P,S)}let b={get action(){return u},get location(){return o(n,s)},listen(O){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(A_,g),c=O,()=>{n.removeEventListener(A_,g),c=null}},createHref(O){return r(n,O)},createURL:w,encodeLocation(O){let S=w(O);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:m,replace:y,go(O){return s.go(O)}};return b}var L_;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})(L_||(L_={}));function oP(o,r,t){return t===void 0&&(t="/"),iP(o,r,t,!1)}function iP(o,r,t,e){let n=typeof r=="string"?Ol(r):r,i=Nm(n.pathname||"/",t);if(i==null)return null;let s=wx(o);aP(s);let u=null;for(let c=0;u==null&&c<s.length;++c){let f=mP(i);u=vP(s[c],f,e)}return u}function wx(o,r,t,e){r===void 0&&(r=[]),t===void 0&&(t=[]),e===void 0&&(e="");let n=(i,s,u)=>{let c={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};c.relativePath.startsWith("/")&&(Lr(c.relativePath.startsWith(e),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+e+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(e.length));let f=ma([e,c.relativePath]),h=t.concat(c);i.children&&i.children.length>0&&(Lr(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),wx(i.children,r,h,f)),!(i.path==null&&!i.index)&&r.push({path:f,score:pP(f,i.index),routesMeta:h})};return o.forEach((i,s)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))n(i,s);else for(let c of Cx(i.path))n(i,s,c)}),r}function Cx(o){let r=o.split("/");if(r.length===0)return[];let[t,...e]=r,n=t.endsWith("?"),i=t.replace(/\?$/,"");if(e.length===0)return n?[i,""]:[i];let s=Cx(e.join("/")),u=[];return u.push(...s.map(c=>c===""?i:[i,c].join("/"))),n&&u.push(...s),u.map(c=>o.startsWith("/")&&c===""?"/":c)}function aP(o){o.sort((r,t)=>r.score!==t.score?t.score-r.score:hP(r.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}const sP=/^:[\w-]+$/,lP=3,uP=2,cP=1,fP=10,dP=-2,D_=o=>o==="*";function pP(o,r){let t=o.split("/"),e=t.length;return t.some(D_)&&(e+=dP),r&&(e+=uP),t.filter(n=>!D_(n)).reduce((n,i)=>n+(sP.test(i)?lP:i===""?cP:fP),e)}function hP(o,r){return o.length===r.length&&o.slice(0,-1).every((e,n)=>e===r[n])?o[o.length-1]-r[r.length-1]:0}function vP(o,r,t){t===void 0&&(t=!1);let{routesMeta:e}=o,n={},i="/",s=[];for(let u=0;u<e.length;++u){let c=e[u],f=u===e.length-1,h=i==="/"?r:r.slice(i.length)||"/",g=j_({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},h),m=c.route;if(!g&&f&&t&&!e[e.length-1].route.index&&(g=j_({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!g)return null;Object.assign(n,g.params),s.push({params:n,pathname:ma([i,g.pathname]),pathnameBase:CP(ma([i,g.pathnameBase])),route:m}),g.pathnameBase!=="/"&&(i=ma([i,g.pathnameBase]))}return s}function j_(o,r){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[t,e]=gP(o.path,o.caseSensitive,o.end),n=r.match(t);if(!n)return null;let i=n[0],s=i.replace(/(.)\/+$/,"$1"),u=n.slice(1);return{params:e.reduce((f,h,g)=>{let{paramName:m,isOptional:y}=h;if(m==="*"){let b=u[g]||"";s=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const w=u[g];return y&&!w?f[m]=void 0:f[m]=(w||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:s,pattern:o}}function gP(o,r,t){r===void 0&&(r=!1),t===void 0&&(t=!0),_x(o==="*"||!o.endsWith("*")||o.endsWith("/*"),'Route path "'+o+'" will be treated as if it were '+('"'+o.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+o.replace(/\*$/,"/*")+'".'));let e=[],n="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,c)=>(e.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(e.push({paramName:"*"}),n+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?n+="\\/*$":o!==""&&o!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,r?void 0:"i"),e]}function mP(o){try{return o.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return _x(!1,'The URL path "'+o+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),o}}function Nm(o,r){if(r==="/")return o;if(!o.toLowerCase().startsWith(r.toLowerCase()))return null;let t=r.endsWith("/")?r.length-1:r.length,e=o.charAt(t);return e&&e!=="/"?null:o.slice(t)||"/"}function yP(o,r){r===void 0&&(r="/");let{pathname:t,search:e="",hash:n=""}=typeof o=="string"?Ol(o):o;return{pathname:t?t.startsWith("/")?t:_P(t,r):r,search:bP(e),hash:xP(n)}}function _P(o,r){let t=r.replace(/\/+$/,"").split("/");return o.split("/").forEach(n=>{n===".."?t.length>1&&t.pop():n!=="."&&t.push(n)}),t.length>1?t.join("/"):"/"}function Bh(o,r,t,e){return"Cannot include a '"+o+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(e)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wP(o){return o.filter((r,t)=>t===0||r.route.path&&r.route.path.length>0)}function bx(o,r){let t=wP(o);return r?t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase):t.map(e=>e.pathnameBase)}function xx(o,r,t,e){e===void 0&&(e=!1);let n;typeof o=="string"?n=Ol(o):(n=sc({},o),Lr(!n.pathname||!n.pathname.includes("?"),Bh("?","pathname","search",n)),Lr(!n.pathname||!n.pathname.includes("#"),Bh("#","pathname","hash",n)),Lr(!n.search||!n.search.includes("#"),Bh("#","search","hash",n)));let i=o===""||n.pathname==="",s=i?"/":n.pathname,u;if(s==null)u=t;else{let g=r.length-1;if(!e&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),g-=1;n.pathname=m.join("/")}u=g>=0?r[g]:"/"}let c=yP(n,u),f=s&&s!=="/"&&s.endsWith("/"),h=(i||s===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}const ma=o=>o.join("/").replace(/\/\/+/g,"/"),CP=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),bP=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,xP=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function SP(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}const Sx=["post","put","patch","delete"];new Set(Sx);const OP=["get",...Sx];new Set(OP);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lc(){return lc=Object.assign?Object.assign.bind():function(o){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=t[e])}return o},lc.apply(this,arguments)}const Im=Gt.createContext(null),TP=Gt.createContext(null),us=Gt.createContext(null),Mp=Gt.createContext(null),cs=Gt.createContext({outlet:null,matches:[],isDataRoute:!1}),Ox=Gt.createContext(null);function EP(o,r){let{relative:t}=r===void 0?{}:r;mc()||Lr(!1);let{basename:e,navigator:n}=Gt.useContext(us),{hash:i,pathname:s,search:u}=Px(o,{relative:t}),c=s;return e!=="/"&&(c=s==="/"?e:ma([e,s])),n.createHref({pathname:c,search:u,hash:i})}function mc(){return Gt.useContext(Mp)!=null}function Lp(){return mc()||Lr(!1),Gt.useContext(Mp).location}function Tx(o){Gt.useContext(us).static||Gt.useLayoutEffect(o)}function Ex(){let{isDataRoute:o}=Gt.useContext(cs);return o?UP():PP()}function PP(){mc()||Lr(!1);let o=Gt.useContext(Im),{basename:r,future:t,navigator:e}=Gt.useContext(us),{matches:n}=Gt.useContext(cs),{pathname:i}=Lp(),s=JSON.stringify(bx(n,t.v7_relativeSplatPath)),u=Gt.useRef(!1);return Tx(()=>{u.current=!0}),Gt.useCallback(function(f,h){if(h===void 0&&(h={}),!u.current)return;if(typeof f=="number"){e.go(f);return}let g=xx(f,JSON.parse(s),i,h.relative==="path");o==null&&r!=="/"&&(g.pathname=g.pathname==="/"?r:ma([r,g.pathname])),(h.replace?e.replace:e.push)(g,h.state,h)},[r,e,s,i,o])}function Px(o,r){let{relative:t}=r===void 0?{}:r,{future:e}=Gt.useContext(us),{matches:n}=Gt.useContext(cs),{pathname:i}=Lp(),s=JSON.stringify(bx(n,e.v7_relativeSplatPath));return Gt.useMemo(()=>xx(o,JSON.parse(s),i,t==="path"),[o,s,i,t])}function kP(o,r){return AP(o,r)}function AP(o,r,t,e){mc()||Lr(!1);let{navigator:n}=Gt.useContext(us),{matches:i}=Gt.useContext(cs),s=i[i.length-1],u=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let f=Lp(),h;if(r){var g;let O=typeof r=="string"?Ol(r):r;c==="/"||(g=O.pathname)!=null&&g.startsWith(c)||Lr(!1),h=O}else h=f;let m=h.pathname||"/",y=m;if(c!=="/"){let O=c.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(O.length).join("/")}let w=oP(o,{pathname:y}),b=NP(w&&w.map(O=>Object.assign({},O,{params:Object.assign({},u,O.params),pathname:ma([c,n.encodeLocation?n.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?c:ma([c,n.encodeLocation?n.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),i,t,e);return r&&b?Gt.createElement(Mp.Provider,{value:{location:lc({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:sa.Pop}},b):b}function MP(){let o=VP(),r=SP(o)?o.status+" "+o.statusText:o instanceof Error?o.message:JSON.stringify(o),t=o instanceof Error?o.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return Gt.createElement(Gt.Fragment,null,Gt.createElement("h2",null,"Unexpected Application Error!"),Gt.createElement("h3",{style:{fontStyle:"italic"}},r),t?Gt.createElement("pre",{style:n},t):null,i)}const LP=Gt.createElement(MP,null);class DP extends Gt.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){console.error("React Router caught the following error during render",r,t)}render(){return this.state.error!==void 0?Gt.createElement(cs.Provider,{value:this.props.routeContext},Gt.createElement(Ox.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jP(o){let{routeContext:r,match:t,children:e}=o,n=Gt.useContext(Im);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),Gt.createElement(cs.Provider,{value:r},e)}function NP(o,r,t,e){var n;if(r===void 0&&(r=[]),t===void 0&&(t=null),e===void 0&&(e=null),o==null){var i;if(!t)return null;if(t.errors)o=t.matches;else if((i=e)!=null&&i.v7_partialHydration&&r.length===0&&!t.initialized&&t.matches.length>0)o=t.matches;else return null}let s=o,u=(n=t)==null?void 0:n.errors;if(u!=null){let h=s.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);h>=0||Lr(!1),s=s.slice(0,Math.min(s.length,h+1))}let c=!1,f=-1;if(t&&e&&e.v7_partialHydration)for(let h=0;h<s.length;h++){let g=s[h];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=h),g.route.id){let{loaderData:m,errors:y}=t,w=g.route.loader&&m[g.route.id]===void 0&&(!y||y[g.route.id]===void 0);if(g.route.lazy||w){c=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((h,g,m)=>{let y,w=!1,b=null,O=null;t&&(y=u&&g.route.id?u[g.route.id]:void 0,b=g.route.errorElement||LP,c&&(f<0&&m===0?(HP("route-fallback",!1),w=!0,O=null):f===m&&(w=!0,O=g.route.hydrateFallbackElement||null)));let S=r.concat(s.slice(0,m+1)),P=()=>{let T;return y?T=b:w?T=O:g.route.Component?T=Gt.createElement(g.route.Component,null):g.route.element?T=g.route.element:T=h,Gt.createElement(jP,{match:g,routeContext:{outlet:h,matches:S,isDataRoute:t!=null},children:T})};return t&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?Gt.createElement(DP,{location:t.location,revalidation:t.revalidation,component:b,error:y,children:P(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):P()},null)}var kx=function(o){return o.UseBlocker="useBlocker",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o}(kx||{}),gd=function(o){return o.UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId",o}(gd||{});function IP(o){let r=Gt.useContext(Im);return r||Lr(!1),r}function RP(o){let r=Gt.useContext(TP);return r||Lr(!1),r}function FP(o){let r=Gt.useContext(cs);return r||Lr(!1),r}function Ax(o){let r=FP(),t=r.matches[r.matches.length-1];return t.route.id||Lr(!1),t.route.id}function VP(){var o;let r=Gt.useContext(Ox),t=RP(gd.UseRouteError),e=Ax(gd.UseRouteError);return r!==void 0?r:(o=t.errors)==null?void 0:o[e]}function UP(){let{router:o}=IP(kx.UseNavigateStable),r=Ax(gd.UseNavigateStable),t=Gt.useRef(!1);return Tx(()=>{t.current=!0}),Gt.useCallback(function(n,i){i===void 0&&(i={}),t.current&&(typeof n=="number"?o.navigate(n):o.navigate(n,lc({fromRouteId:r},i)))},[o,r])}const N_={};function HP(o,r,t){!r&&!N_[o]&&(N_[o]=!0)}function BP(o,r){o==null||o.v7_startTransition,(o==null?void 0:o.v7_relativeSplatPath)===void 0&&(!r||r.v7_relativeSplatPath),r&&(r.v7_fetcherPersist,r.v7_normalizeFormMethod,r.v7_partialHydration,r.v7_skipActionErrorRevalidation)}function Hf(o){Lr(!1)}function zP(o){let{basename:r="/",children:t=null,location:e,navigationType:n=sa.Pop,navigator:i,static:s=!1,future:u}=o;mc()&&Lr(!1);let c=r.replace(/^\/*/,"/"),f=Gt.useMemo(()=>({basename:c,navigator:i,static:s,future:lc({v7_relativeSplatPath:!1},u)}),[c,u,i,s]);typeof e=="string"&&(e=Ol(e));let{pathname:h="/",search:g="",hash:m="",state:y=null,key:w="default"}=e,b=Gt.useMemo(()=>{let O=Nm(h,c);return O==null?null:{location:{pathname:O,search:g,hash:m,state:y,key:w},navigationType:n}},[c,h,g,m,y,w,n]);return b==null?null:Gt.createElement(us.Provider,{value:f},Gt.createElement(Mp.Provider,{children:t,value:b}))}function WP(o){let{children:r,location:t}=o;return kP(pg(r),t)}new Promise(()=>{});function pg(o,r){r===void 0&&(r=[]);let t=[];return Gt.Children.forEach(o,(e,n)=>{if(!Gt.isValidElement(e))return;let i=[...r,n];if(e.type===Gt.Fragment){t.push.apply(t,pg(e.props.children,i));return}e.type!==Hf&&Lr(!1),!e.props.index||!e.props.children||Lr(!1);let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:e.props.ErrorBoundary!=null||e.props.errorElement!=null,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=pg(e.props.children,i)),t.push(s)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hg(){return hg=Object.assign?Object.assign.bind():function(o){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(o[e]=t[e])}return o},hg.apply(this,arguments)}function KP(o,r){if(o==null)return{};var t={},e=Object.keys(o),n,i;for(i=0;i<e.length;i++)n=e[i],!(r.indexOf(n)>=0)&&(t[n]=o[n]);return t}function $P(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function GP(o,r){return o.button===0&&(!r||r==="_self")&&!$P(o)}const YP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],XP="6";try{window.__reactRouterVersion=XP}catch{}const qP="startTransition",I_=zO[qP];function JP(o){let{basename:r,children:t,future:e,window:n}=o,i=Gt.useRef();i.current==null&&(i.current=eP({window:n,v5Compat:!0}));let s=i.current,[u,c]=Gt.useState({action:s.action,location:s.location}),{v7_startTransition:f}=e||{},h=Gt.useCallback(g=>{f&&I_?I_(()=>c(g)):c(g)},[c,f]);return Gt.useLayoutEffect(()=>s.listen(h),[s,h]),Gt.useEffect(()=>BP(e),[e]),Gt.createElement(zP,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:s,future:e})}const ZP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tk=Gt.forwardRef(function(r,t){let{onClick:e,relative:n,reloadDocument:i,replace:s,state:u,target:c,to:f,preventScrollReset:h,viewTransition:g}=r,m=KP(r,YP),{basename:y}=Gt.useContext(us),w,b=!1;if(typeof f=="string"&&QP.test(f)&&(w=f,ZP))try{let T=new URL(window.location.href),j=f.startsWith("//")?new URL(T.protocol+f):new URL(f),X=Nm(j.pathname,y);j.origin===T.origin&&X!=null?f=X+j.search+j.hash:b=!0}catch{}let O=EP(f,{relative:n}),S=ek(f,{replace:s,state:u,target:c,preventScrollReset:h,relative:n,viewTransition:g});function P(T){e&&e(T),T.defaultPrevented||S(T)}return Gt.createElement("a",hg({},m,{href:w||O,onClick:b||i?e:P,ref:t,target:c}))});var R_;(function(o){o.UseScrollRestoration="useScrollRestoration",o.UseSubmit="useSubmit",o.UseSubmitFetcher="useSubmitFetcher",o.UseFetcher="useFetcher",o.useViewTransitionState="useViewTransitionState"})(R_||(R_={}));var F_;(function(o){o.UseFetcher="useFetcher",o.UseFetchers="useFetchers",o.UseScrollRestoration="useScrollRestoration"})(F_||(F_={}));function ek(o,r){let{target:t,replace:e,state:n,preventScrollReset:i,relative:s,viewTransition:u}=r===void 0?{}:r,c=Ex(),f=Lp(),h=Px(o,{relative:s});return Gt.useCallback(g=>{if(GP(g,t)){g.preventDefault();let m=e!==void 0?e:vd(f)===vd(h);c(o,{replace:m,state:n,preventScrollReset:i,relative:s,viewTransition:u})}},[f,c,h,e,n,t,o,i,s,u])}function rk(){const[o,r]=Gt.useState(""),[t,e]=Gt.useState(""),[n,i]=Gt.useState(""),[s,u]=Gt.useState(""),[c,f]=Gt.useState({loaded:0,total:0}),h=Gt.useRef(null),g=Ex(),m=async y=>{y.preventDefault(),u("Connecting..."),f({loaded:0,total:0});const w=async()=>{try{const O=await fetch("/api/login-progress");if(O.ok){const S=await O.json();f({loaded:S.loaded_entries,total:S.total_entries}),S.complete&&h.current&&(clearInterval(h.current),h.current=null)}}catch{}};h.current=setInterval(w,500);const b=new FormData;b.append("user_id",o),b.append("password",t),b.append("event_id",n);try{const S=await(await fetch("/api/login",{method:"POST",body:b})).json();S.success?g("/display"):u(S.error||"Login failed")}catch{u("Network error")}finally{h.current&&(clearInterval(h.current),h.current=null)}};return ye.jsx("div",{className:"d-flex justify-content-center align-items-center",style:{minHeight:"100vh"},children:ye.jsxs("form",{onSubmit:m,className:"rd-form",children:[ye.jsx("h2",{className:"mb-4",children:"Race Display Login"}),ye.jsx("div",{className:"rd-form-control",children:ye.jsx("input",{className:"rd-input",placeholder:"User ID",value:o,onChange:y=>r(y.target.value),required:!0})}),ye.jsx("div",{className:"rd-form-control",children:ye.jsx("input",{className:"rd-input",placeholder:"Password",type:"password",value:t,onChange:y=>e(y.target.value),required:!0})}),ye.jsx("div",{className:"rd-form-control",children:ye.jsx("input",{className:"rd-input",placeholder:"Event ID",value:n,onChange:y=>i(y.target.value),required:!0})}),ye.jsx("div",{className:"rd-button-group",children:ye.jsx("button",{className:"rd-button",type:"submit",children:"Login"})}),s&&ye.jsx("div",{className:"rd-alert",children:s}),c.total>0&&ye.jsx("div",{className:"progress mt-2",style:{width:"100%"},children:ye.jsx("div",{className:"progress-bar",role:"progressbar",style:{width:`${c.loaded/c.total*100}%`},"aria-valuenow":c.loaded,"aria-valuemin":"0","aria-valuemax":c.total,children:`${c.loaded}/${c.total}`})})]})})}var nk={982:(o,r,t)=>{var e,n,i;/*!
* Backbone.Undo.js v0.2
* 
* Copyright (c)2013 Oliver Sartun
* Released under the MIT License
*
* Documentation and full license available at
* https://github.com/osartun/Backbone.Undo.js
*/(function(s){n=[t(523),t(391)],e=s,i=typeof e=="function"?e.apply(r,n):e,i!==void 0&&(o.exports=i)})(function(s,u){var c=Array.prototype.slice;function f(K,rt,H){return H.length<=4?K.call(rt,H[0],H[1],H[2],H[3]):K.apply(rt,H)}function h(K,rt){return c.call(K,rt)}function g(K,rt){return K==null?!1:(s.isArray(rt)||(rt=h(arguments,1)),s.all(rt,function(H){return H in K}))}var m=function(){var K=!1,rt=-1;function H(){rt++,K=!0,s.defer(function(){K=!1})}return function(){return K||H(),rt}}();function y(){this.registeredObjects=[],this.cidIndexes=[]}y.prototype={isRegistered:function(K){return K&&K.cid?this.registeredObjects[K.cid]:s.contains(this.registeredObjects,K)},register:function(K){return this.isRegistered(K)?!1:(K&&K.cid?(this.registeredObjects[K.cid]=K,this.cidIndexes.push(K.cid)):this.registeredObjects.push(K),!0)},unregister:function(K){if(this.isRegistered(K)){if(K&&K.cid)delete this.registeredObjects[K.cid],this.cidIndexes.splice(s.indexOf(this.cidIndexes,K.cid),1);else{var rt=s.indexOf(this.registeredObjects,K);this.registeredObjects.splice(rt,1)}return!0}return!1},get:function(){return s.map(this.cidIndexes,function(K){return this.registeredObjects[K]},this).concat(this.registeredObjects)}};function w(K,rt,H,V){for(var W=0,z=rt.length,it;W<z;W++)if(it=rt[W],!!it){if(K==="on"){if(!V.objectRegistry.register(it))continue}else if(!V.objectRegistry.unregister(it))continue;s.isFunction(it[K])&&it[K]("all",H,V)}}function b(K,rt){var H=rt.type,V=rt.undoTypes,W=!V[H]||V[H][K];s.isFunction(W)&&W(rt.object,rt.before,rt.after,rt.options)}function O(K,rt,H,V,W){if(!(H.isCurrentlyUndoRedoing||K==="undo"&&H.pointer===-1||K==="redo"&&H.pointer===H.length-1)){H.isCurrentlyUndoRedoing=!0;var z,it,L=K==="undo";for(W?it=L&&H.pointer===H.length-1||!L&&H.pointer===-1?s.clone(H.models):c.apply(H.models,L?[0,H.pointer]:[H.pointer,H.length-1]):(z=H.at(L?H.pointer:H.pointer+1),it=V?H.where({magicFusionIndex:z.get("magicFusionIndex")}):[z]),H.pointer+=(L?-1:1)*it.length;z=L?it.pop():it.shift();)z[K]();H.isCurrentlyUndoRedoing=!1,rt.trigger(K,rt)}}function S(K,rt){var H=K.condition,V=typeof H;return V==="function"?!!f(H,K,rt):V==="boolean"?H:!0}function P(K,rt,H,V){if(K.track&&!K.isCurrentlyUndoRedoing&&rt in V&&S(V[rt],H)){var W=f(V[rt].on,V[rt],H),z;if(g(W,"object","before","after")){if(W.type=rt,W.magicFusionIndex=m(),W.undoTypes=V,K.pointer<K.length-1)for(var z=K.length-K.pointer-1;z--;)K.pop();K.pointer=K.length,K.add(W),K.length>K.maximumStackLength&&(K.shift(),K.pointer--)}}}var T={add:{undo:function(K,rt,H,V){K.remove(H,V)},redo:function(K,rt,H,V){V.index&&(V.at=V.index),K.add(H,V)},on:function(K,rt,H){return{object:rt,before:void 0,after:K,options:s.clone(H)}}},remove:{undo:function(K,rt,H,V){"index"in V&&(V.at=V.index),K.add(rt,V)},redo:function(K,rt,H,V){K.remove(rt,V)},on:function(K,rt,H){return{object:rt,before:K,after:void 0,options:s.clone(H)}}},change:{undo:function(K,rt,H,V){s.isEmpty(rt)?s.each(s.keys(H),K.unset,K):(K.set(rt),V&&V.unsetData&&V.unsetData.before&&V.unsetData.before.length&&s.each(V.unsetData.before,K.unset,K))},redo:function(K,rt,H,V){s.isEmpty(H)?s.each(s.keys(rt),K.unset,K):(K.set(H),V&&V.unsetData&&V.unsetData.after&&V.unsetData.after.length&&s.each(V.unsetData.after,K.unset,K))},on:function(K,rt){var H=K.changedAttributes(),V=s.keys(H),W=s.pick(K.previousAttributes(),V),z=s.keys(W),it=(rt||(rt={})).unsetData={after:[],before:[]};return V.length!=z.length&&(V.length>z.length?s.each(V,function(L){L in W||it.before.push(L)},this):s.each(z,function(L){L in H||it.after.push(L)})),{object:K,before:W,after:H,options:s.clone(rt)}}},reset:{undo:function(K,rt,H){K.reset(rt)},redo:function(K,rt,H){K.reset(H)},on:function(K,rt){return{object:K,before:rt.previousModels,after:s.clone(K.models)}}}};function j(){}j.prototype=T;function X(K,rt,H,V){if(typeof rt=="object")return s.each(rt,function(W,z){K===2?X(K,W,H,V):X(K,z,W,H)});switch(K){case 0:g(H,"undo","redo","on")&&s.all(s.pick(H,"undo","redo","on"),s.isFunction)&&(V[rt]=H);break;case 1:V[rt]&&s.isObject(H)&&(V[rt]=s.extend({},V[rt],H));break;case 2:delete V[rt];break}return this}var at=u.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(K){b("undo",this.attributes)},redo:function(K){b("redo",this.attributes)}}),ft=u.Collection.extend({model:at,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(K){this.maximumStackLength=K}}),Q=u.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(K){this.stack=new ft,this.objectRegistry=new y,this.undoTypes=new j,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(rt,H){this.stack.setMaxLength(H)},this),K&&K.track&&this.startTracking(),K&&K.register&&(s.isArray(K.register)||s.isArguments(K.register)?f(this.register,this,K.register):this.register(K.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(K){P(this.stack,K,h(arguments,1),this.undoTypes)},register:function(){w("on",arguments,this._addToStack,this)},unregister:function(){w("off",arguments,this._addToStack,this)},unregisterAll:function(){f(this.unregister,this,this.objectRegistry.get())},undo:function(K){O("undo",this,this.stack,K)},undoAll:function(){O("undo",this,this.stack,!1,!0)},redo:function(K){O("redo",this,this.stack,K)},redoAll:function(){O("redo",this,this.stack,!1,!0)},isAvailable:function(K){var rt=this.stack,H=rt.length;switch(K){case"undo":return H>0&&rt.pointer>-1;case"redo":return H>0&&rt.pointer<H-1;default:return!1}},merge:function(K){for(var rt=s.isArray(K)?K:h(arguments),H;H=rt.pop();)H instanceof Q&&H.stack instanceof ft&&(H.stack=this.stack)},addUndoType:function(K,rt){X(0,K,rt,this.undoTypes)},changeUndoType:function(K,rt){X(1,K,rt,this.undoTypes)},removeUndoType:function(K){X(2,K,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return s.extend(Q,{defaults:function(K){s.extend(Q.prototype.defaults,K)},addUndoType:function(K,rt){X(0,K,rt,T)},changeUndoType:function(K,rt){X(1,K,rt,T)},removeUndoType:function(K){X(2,K,void 0,T)}}),u.UndoManager=Q})},391:(o,r,t)=>{var e,n;(function(i){var s=typeof self=="object"&&self.self===self&&self||typeof t.g=="object"&&t.g.global===t.g&&t.g;e=[t(523),t(694),r],n=(function(u,c,f){s.Backbone=i(s,f,u,c)}).apply(r,e),n!==void 0&&(o.exports=n)})(function(i,s,u,c){var f=i.Backbone,h=Array.prototype.slice;s.VERSION="1.4.1",s.$=c,s.noConflict=function(){return i.Backbone=f,this},s.emulateHTTP=!1,s.emulateJSON=!1;var g=s.Events={},m=/\s+/,y,w=function(A,U,Y,ct,wt){var $=0,vt;if(Y&&typeof Y=="object")for(ct!==void 0&&("context"in wt)&&wt.context===void 0&&(wt.context=ct),vt=u.keys(Y);$<vt.length;$++)U=w(A,U,vt[$],Y[vt[$]],wt);else if(Y&&m.test(Y))for(vt=Y.split(m);$<vt.length;$++)U=A(U,vt[$],ct,wt);else U=A(U,Y,ct,wt);return U};g.on=function(A,U,Y){if(this._events=w(b,this._events||{},A,U,{context:Y,ctx:this,listening:y}),y){var ct=this._listeners||(this._listeners={});ct[y.id]=y,y.interop=!1}return this},g.listenTo=function(A,U,Y){if(!A)return this;var ct=A._listenId||(A._listenId=u.uniqueId("l")),wt=this._listeningTo||(this._listeningTo={}),$=y=wt[ct];$||(this._listenId||(this._listenId=u.uniqueId("l")),$=y=wt[ct]=new X(this,A));var vt=O(A,U,Y,this);if(y=void 0,vt)throw vt;return $.interop&&$.on(U,Y),this};var b=function(A,U,Y,ct){if(Y){var wt=A[U]||(A[U]=[]),$=ct.context,vt=ct.ctx,ut=ct.listening;ut&&ut.count++,wt.push({callback:Y,context:$,ctx:$||vt,listening:ut})}return A},O=function(A,U,Y,ct){try{A.on(U,Y,ct)}catch(wt){return wt}};g.off=function(A,U,Y){return this._events?(this._events=w(S,this._events,A,U,{context:Y,listeners:this._listeners}),this):this},g.stopListening=function(A,U,Y){var ct=this._listeningTo;if(!ct)return this;for(var wt=A?[A._listenId]:u.keys(ct),$=0;$<wt.length;$++){var vt=ct[wt[$]];if(!vt)break;vt.obj.off(U,Y,this),vt.interop&&vt.off(U,Y)}return u.isEmpty(ct)&&(this._listeningTo=void 0),this};var S=function(A,U,Y,ct){if(A){var wt=ct.context,$=ct.listeners,vt=0,ut;if(!U&&!wt&&!Y){for(ut=u.keys($);vt<ut.length;vt++)$[ut[vt]].cleanup();return}for(ut=U?[U]:u.keys(A);vt<ut.length;vt++){U=ut[vt];var ie=A[U];if(!ie)break;for(var Ce=[],ge=0;ge<ie.length;ge++){var B=ie[ge];if(Y&&Y!==B.callback&&Y!==B.callback._callback||wt&&wt!==B.context)Ce.push(B);else{var ot=B.listening;ot&&ot.off(U,Y)}}Ce.length?A[U]=Ce:delete A[U]}return A}};g.once=function(A,U,Y){var ct=w(P,{},A,U,this.off.bind(this));return typeof A=="string"&&Y==null&&(U=void 0),this.on(ct,U,Y)},g.listenToOnce=function(A,U,Y){var ct=w(P,{},U,Y,this.stopListening.bind(this,A));return this.listenTo(A,ct)};var P=function(A,U,Y,ct){if(Y){var wt=A[U]=u.once(function(){ct(U,wt),Y.apply(this,arguments)});wt._callback=Y}return A};g.trigger=function(A){if(!this._events)return this;for(var U=Math.max(0,arguments.length-1),Y=Array(U),ct=0;ct<U;ct++)Y[ct]=arguments[ct+1];return w(T,this._events,A,void 0,Y),this};var T=function(A,U,Y,ct){if(A){var wt=A[U],$=A.all;wt&&$&&($=$.slice()),wt&&j(wt,ct),$&&j($,[U].concat(ct))}return A},j=function(A,U){var Y,ct=-1,wt=A.length,$=U[0],vt=U[1],ut=U[2];switch(U.length){case 0:for(;++ct<wt;)(Y=A[ct]).callback.call(Y.ctx);return;case 1:for(;++ct<wt;)(Y=A[ct]).callback.call(Y.ctx,$);return;case 2:for(;++ct<wt;)(Y=A[ct]).callback.call(Y.ctx,$,vt);return;case 3:for(;++ct<wt;)(Y=A[ct]).callback.call(Y.ctx,$,vt,ut);return;default:for(;++ct<wt;)(Y=A[ct]).callback.apply(Y.ctx,U);return}},X=function(A,U){this.id=A._listenId,this.listener=A,this.obj=U,this.interop=!0,this.count=0,this._events=void 0};X.prototype.on=g.on,X.prototype.off=function(A,U){var Y;this.interop?(this._events=w(S,this._events,A,U,{context:void 0,listeners:void 0}),Y=!this._events):(this.count--,Y=this.count===0),Y&&this.cleanup()},X.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},g.bind=g.on,g.unbind=g.off,u.extend(s,g);var at=s.Model=function(A,U){var Y=A||{};U||(U={}),this.preinitialize.apply(this,arguments),this.cid=u.uniqueId(this.cidPrefix),this.attributes={},U.collection&&(this.collection=U.collection),U.parse&&(Y=this.parse(Y,U)||{});var ct=u.result(this,"defaults");Y=u.defaults(u.extend({},ct,Y),ct),this.set(Y,U),this.changed={},this.initialize.apply(this,arguments)};u.extend(at.prototype,g,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(A){return u.clone(this.attributes)},sync:function(){return s.sync.apply(this,arguments)},get:function(A){return this.attributes[A]},escape:function(A){return u.escape(this.get(A))},has:function(A){return this.get(A)!=null},matches:function(A){return!!u.iteratee(A,this)(this.attributes)},set:function(A,U,Y){if(A==null)return this;var ct;if(typeof A=="object"?(ct=A,Y=U):(ct={})[A]=U,Y||(Y={}),!this._validate(ct,Y))return!1;var wt=Y.unset,$=Y.silent,vt=[],ut=this._changing;this._changing=!0,ut||(this._previousAttributes=u.clone(this.attributes),this.changed={});var ie=this.attributes,Ce=this.changed,ge=this._previousAttributes;for(var B in ct)U=ct[B],u.isEqual(ie[B],U)||vt.push(B),u.isEqual(ge[B],U)?delete Ce[B]:Ce[B]=U,wt?delete ie[B]:ie[B]=U;if(this.idAttribute in ct){var ot=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,ot,Y)}if(!$){vt.length&&(this._pending=Y);for(var N=0;N<vt.length;N++)this.trigger("change:"+vt[N],this,ie[vt[N]],Y)}if(ut)return this;if(!$)for(;this._pending;)Y=this._pending,this._pending=!1,this.trigger("change",this,Y);return this._pending=!1,this._changing=!1,this},unset:function(A,U){return this.set(A,void 0,u.extend({},U,{unset:!0}))},clear:function(A){var U={};for(var Y in this.attributes)U[Y]=void 0;return this.set(U,u.extend({},A,{unset:!0}))},hasChanged:function(A){return A==null?!u.isEmpty(this.changed):u.has(this.changed,A)},changedAttributes:function(A){if(!A)return this.hasChanged()?u.clone(this.changed):!1;var U=this._changing?this._previousAttributes:this.attributes,Y={},ct;for(var wt in A){var $=A[wt];u.isEqual(U[wt],$)||(Y[wt]=$,ct=!0)}return ct?Y:!1},previous:function(A){return A==null||!this._previousAttributes?null:this._previousAttributes[A]},previousAttributes:function(){return u.clone(this._previousAttributes)},fetch:function(A){A=u.extend({parse:!0},A);var U=this,Y=A.success;return A.success=function(ct){var wt=A.parse?U.parse(ct,A):ct;if(!U.set(wt,A))return!1;Y&&Y.call(A.context,U,ct,A),U.trigger("sync",U,ct,A)},_e(this,A),this.sync("read",this,A)},save:function(A,U,Y){var ct;A==null||typeof A=="object"?(ct=A,Y=U):(ct={})[A]=U,Y=u.extend({validate:!0,parse:!0},Y);var wt=Y.wait;if(ct&&!wt){if(!this.set(ct,Y))return!1}else if(!this._validate(ct,Y))return!1;var $=this,vt=Y.success,ut=this.attributes;Y.success=function(ge){$.attributes=ut;var B=Y.parse?$.parse(ge,Y):ge;if(wt&&(B=u.extend({},ct,B)),B&&!$.set(B,Y))return!1;vt&&vt.call(Y.context,$,ge,Y),$.trigger("sync",$,ge,Y)},_e(this,Y),ct&&wt&&(this.attributes=u.extend({},ut,ct));var ie=this.isNew()?"create":Y.patch?"patch":"update";ie==="patch"&&!Y.attrs&&(Y.attrs=ct);var Ce=this.sync(ie,this,Y);return this.attributes=ut,Ce},destroy:function(A){A=A?u.clone(A):{};var U=this,Y=A.success,ct=A.wait,wt=function(){U.stopListening(),U.trigger("destroy",U,U.collection,A)};A.success=function(vt){ct&&wt(),Y&&Y.call(A.context,U,vt,A),U.isNew()||U.trigger("sync",U,vt,A)};var $=!1;return this.isNew()?u.defer(A.success):(_e(this,A),$=this.sync("delete",this,A)),ct||wt(),$},url:function(){var A=u.result(this,"urlRoot")||u.result(this.collection,"url")||He();if(this.isNew())return A;var U=this.get(this.idAttribute);return A.replace(/[^\/]$/,"$&/")+encodeURIComponent(U)},parse:function(A,U){return A},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(A){return this._validate({},u.extend({},A,{validate:!0}))},_validate:function(A,U){if(!U.validate||!this.validate)return!0;A=u.extend({},this.attributes,A);var Y=this.validationError=this.validate(A,U)||null;return Y?(this.trigger("invalid",this,Y,u.extend(U,{validationError:Y})),!1):!0}});var ft=s.Collection=function(A,U){U||(U={}),this.preinitialize.apply(this,arguments),U.model&&(this.model=U.model),U.comparator!==void 0&&(this.comparator=U.comparator),this._reset(),this.initialize.apply(this,arguments),A&&this.reset(A,u.extend({silent:!0},U))},Q={add:!0,remove:!0,merge:!0},K={add:!0,remove:!1},rt=function(A,U,Y){Y=Math.min(Math.max(Y,0),A.length);var ct=Array(A.length-Y),wt=U.length,$;for($=0;$<ct.length;$++)ct[$]=A[$+Y];for($=0;$<wt;$++)A[$+Y]=U[$];for($=0;$<ct.length;$++)A[$+wt+Y]=ct[$]};u.extend(ft.prototype,g,{model:at,preinitialize:function(){},initialize:function(){},toJSON:function(A){return this.map(function(U){return U.toJSON(A)})},sync:function(){return s.sync.apply(this,arguments)},add:function(A,U){return this.set(A,u.extend({merge:!1},U,K))},remove:function(A,U){U=u.extend({},U);var Y=!u.isArray(A);A=Y?[A]:A.slice();var ct=this._removeModels(A,U);return!U.silent&&ct.length&&(U.changes={added:[],merged:[],removed:ct},this.trigger("update",this,U)),Y?ct[0]:ct},set:function(A,U){if(A!=null){U=u.extend({},Q,U),U.parse&&!this._isModel(A)&&(A=this.parse(A,U)||[]);var Y=!u.isArray(A);A=Y?[A]:A.slice();var ct=U.at;ct!=null&&(ct=+ct),ct>this.length&&(ct=this.length),ct<0&&(ct+=this.length+1);var wt=[],$=[],vt=[],ut=[],ie={},Ce=U.add,ge=U.merge,B=U.remove,ot=!1,N=this.comparator&&ct==null&&U.sort!==!1,Et=u.isString(this.comparator)?this.comparator:null,yt,Nt;for(Nt=0;Nt<A.length;Nt++){yt=A[Nt];var Qt=this.get(yt);if(Qt){if(ge&&yt!==Qt){var Zt=this._isModel(yt)?yt.attributes:yt;U.parse&&(Zt=Qt.parse(Zt,U)),Qt.set(Zt,U),vt.push(Qt),N&&!ot&&(ot=Qt.hasChanged(Et))}ie[Qt.cid]||(ie[Qt.cid]=!0,wt.push(Qt)),A[Nt]=Qt}else Ce&&(yt=A[Nt]=this._prepareModel(yt,U),yt&&($.push(yt),this._addReference(yt,U),ie[yt.cid]=!0,wt.push(yt)))}if(B){for(Nt=0;Nt<this.length;Nt++)yt=this.models[Nt],ie[yt.cid]||ut.push(yt);ut.length&&this._removeModels(ut,U)}var Kt=!1,se=!N&&Ce&&B;if(wt.length&&se?(Kt=this.length!==wt.length||u.some(this.models,function(Oe,Me){return Oe!==wt[Me]}),this.models.length=0,rt(this.models,wt,0),this.length=this.models.length):$.length&&(N&&(ot=!0),rt(this.models,$,ct??this.length),this.length=this.models.length),ot&&this.sort({silent:!0}),!U.silent){for(Nt=0;Nt<$.length;Nt++)ct!=null&&(U.index=ct+Nt),yt=$[Nt],yt.trigger("add",yt,this,U);(ot||Kt)&&this.trigger("sort",this,U),($.length||ut.length||vt.length)&&(U.changes={added:$,removed:ut,merged:vt},this.trigger("update",this,U))}return Y?A[0]:A}},reset:function(A,U){U=U?u.clone(U):{};for(var Y=0;Y<this.models.length;Y++)this._removeReference(this.models[Y],U);return U.previousModels=this.models,this._reset(),A=this.add(A,u.extend({silent:!0},U)),U.silent||this.trigger("reset",this,U),A},push:function(A,U){return this.add(A,u.extend({at:this.length},U))},pop:function(A){var U=this.at(this.length-1);return this.remove(U,A)},unshift:function(A,U){return this.add(A,u.extend({at:0},U))},shift:function(A){var U=this.at(0);return this.remove(U,A)},slice:function(){return h.apply(this.models,arguments)},get:function(A){if(A!=null)return this._byId[A]||this._byId[this.modelId(this._isModel(A)?A.attributes:A,A.idAttribute)]||A.cid&&this._byId[A.cid]},has:function(A){return this.get(A)!=null},at:function(A){return A<0&&(A+=this.length),this.models[A]},where:function(A,U){return this[U?"find":"filter"](A)},findWhere:function(A){return this.where(A,!0)},sort:function(A){var U=this.comparator;if(!U)throw new Error("Cannot sort a set without a comparator");A||(A={});var Y=U.length;return u.isFunction(U)&&(U=U.bind(this)),Y===1||u.isString(U)?this.models=this.sortBy(U):this.models.sort(U),A.silent||this.trigger("sort",this,A),this},pluck:function(A){return this.map(A+"")},fetch:function(A){A=u.extend({parse:!0},A);var U=A.success,Y=this;return A.success=function(ct){var wt=A.reset?"reset":"set";Y[wt](ct,A),U&&U.call(A.context,Y,ct,A),Y.trigger("sync",Y,ct,A)},_e(this,A),this.sync("read",this,A)},create:function(A,U){U=U?u.clone(U):{};var Y=U.wait;if(A=this._prepareModel(A,U),!A)return!1;Y||this.add(A,U);var ct=this,wt=U.success;return U.success=function($,vt,ut){Y&&ct.add($,ut),wt&&wt.call(ut.context,$,vt,ut)},A.save(null,U),A},parse:function(A,U){return A},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(A,U){return A[U||this.model.prototype.idAttribute||"id"]},values:function(){return new V(this,W)},keys:function(){return new V(this,z)},entries:function(){return new V(this,it)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(A,U){if(this._isModel(A))return A.collection||(A.collection=this),A;U=U?u.clone(U):{},U.collection=this;var Y;return this.model.prototype?Y=new this.model(A,U):Y=this.model(A,U),Y.validationError?(this.trigger("invalid",this,Y.validationError,U),!1):Y},_removeModels:function(A,U){for(var Y=[],ct=0;ct<A.length;ct++){var wt=this.get(A[ct]);if(wt){var $=this.indexOf(wt);this.models.splice($,1),this.length--,delete this._byId[wt.cid];var vt=this.modelId(wt.attributes,wt.idAttribute);vt!=null&&delete this._byId[vt],U.silent||(U.index=$,wt.trigger("remove",wt,this,U)),Y.push(wt),this._removeReference(wt,U)}}return Y},_isModel:function(A){return A instanceof at},_addReference:function(A,U){this._byId[A.cid]=A;var Y=this.modelId(A.attributes,A.idAttribute);Y!=null&&(this._byId[Y]=A),A.on("all",this._onModelEvent,this)},_removeReference:function(A,U){delete this._byId[A.cid];var Y=this.modelId(A.attributes,A.idAttribute);Y!=null&&delete this._byId[Y],this===A.collection&&delete A.collection,A.off("all",this._onModelEvent,this)},_onModelEvent:function(A,U,Y,ct){if(U){if((A==="add"||A==="remove")&&Y!==this)return;if(A==="destroy"&&this.remove(U,ct),A==="changeId"){var wt=this.modelId(U.previousAttributes(),U.idAttribute),$=this.modelId(U.attributes,U.idAttribute);wt!=null&&delete this._byId[wt],$!=null&&(this._byId[$]=U)}}this.trigger.apply(this,arguments)}});var H=typeof Symbol=="function"&&Symbol.iterator;H&&(ft.prototype[H]=ft.prototype.values);var V=function(A,U){this._collection=A,this._kind=U,this._index=0},W=1,z=2,it=3;H&&(V.prototype[H]=function(){return this}),V.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var A=this._collection.at(this._index);this._index++;var U;if(this._kind===W)U=A;else{var Y=this._collection.modelId(A.attributes,A.idAttribute);this._kind===z?U=Y:U=[Y,A]}return{value:U,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var L=s.View=function(A){this.cid=u.uniqueId("view"),this.preinitialize.apply(this,arguments),u.extend(this,u.pick(A,nt)),this._ensureElement(),this.initialize.apply(this,arguments)},_t=/^(\S+)\s*(.*)$/,nt=["model","collection","el","id","attributes","className","tagName","events"];u.extend(L.prototype,g,{tagName:"div",$:function(A){return this.$el.find(A)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(A){return this.undelegateEvents(),this._setElement(A),this.delegateEvents(),this},_setElement:function(A){this.$el=A instanceof s.$?A:s.$(A),this.el=this.$el[0]},delegateEvents:function(A){if(A||(A=u.result(this,"events")),!A)return this;this.undelegateEvents();for(var U in A){var Y=A[U];if(u.isFunction(Y)||(Y=this[Y]),!!Y){var ct=U.match(_t);this.delegate(ct[1],ct[2],Y.bind(this))}}return this},delegate:function(A,U,Y){return this.$el.on(A+".delegateEvents"+this.cid,U,Y),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(A,U,Y){return this.$el.off(A+".delegateEvents"+this.cid,U,Y),this},_createElement:function(A){return document.createElement(A)},_ensureElement:function(){if(this.el)this.setElement(u.result(this,"el"));else{var A=u.extend({},u.result(this,"attributes"));this.id&&(A.id=u.result(this,"id")),this.className&&(A.class=u.result(this,"className")),this.setElement(this._createElement(u.result(this,"tagName"))),this._setAttributes(A)}},_setAttributes:function(A){this.$el.attr(A)}});var Ct=function(A,U,Y,ct){switch(U){case 1:return function(){return A[Y](this[ct])};case 2:return function(wt){return A[Y](this[ct],wt)};case 3:return function(wt,$){return A[Y](this[ct],st(wt,this),$)};case 4:return function(wt,$,vt){return A[Y](this[ct],st(wt,this),$,vt)};default:return function(){var wt=h.call(arguments);return wt.unshift(this[ct]),A[Y].apply(A,wt)}}},Dt=function(A,U,Y,ct){u.each(Y,function(wt,$){U[$]&&(A.prototype[$]=Ct(U,wt,$,ct))})},st=function(A,U){return u.isFunction(A)?A:u.isObject(A)&&!U._isModel(A)?Ot(A):u.isString(A)?function(Y){return Y.get(A)}:A},Ot=function(A){var U=u.matches(A);return function(Y){return U(Y.attributes)}},Vt={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},Tt={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};u.each([[ft,Vt,"models"],[at,Tt,"attributes"]],function(A){var U=A[0],Y=A[1],ct=A[2];U.mixin=function(wt){var $=u.reduce(u.functions(wt),function(vt,ut){return vt[ut]=0,vt},{});Dt(U,wt,$,ct)},Dt(U,u,Y,ct)}),s.sync=function(A,U,Y){var ct=te[A];u.defaults(Y||(Y={}),{emulateHTTP:s.emulateHTTP,emulateJSON:s.emulateJSON});var wt={type:ct,dataType:"json"};if(Y.url||(wt.url=u.result(U,"url")||He()),Y.data==null&&U&&(A==="create"||A==="update"||A==="patch")&&(wt.contentType="application/json",wt.data=JSON.stringify(Y.attrs||U.toJSON(Y))),Y.emulateJSON&&(wt.contentType="application/x-www-form-urlencoded",wt.data=wt.data?{model:wt.data}:{}),Y.emulateHTTP&&(ct==="PUT"||ct==="DELETE"||ct==="PATCH")){wt.type="POST",Y.emulateJSON&&(wt.data._method=ct);var $=Y.beforeSend;Y.beforeSend=function(ie){if(ie.setRequestHeader("X-HTTP-Method-Override",ct),$)return $.apply(this,arguments)}}wt.type!=="GET"&&!Y.emulateJSON&&(wt.processData=!1);var vt=Y.error;Y.error=function(ie,Ce,ge){Y.textStatus=Ce,Y.errorThrown=ge,vt&&vt.call(Y.context,ie,Ce,ge)};var ut=Y.xhr=s.ajax(u.extend(wt,Y));return U.trigger("request",U,ut,Y),ut};var te={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};s.ajax=function(){return s.$.ajax.apply(s.$,arguments)};var pt=s.Router=function(A){A||(A={}),this.preinitialize.apply(this,arguments),A.routes&&(this.routes=A.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},bt=/\((.*?)\)/g,At=/(\(\?)?:\w+/g,Wt=/\*\w+/g,Yt=/[\-{}\[\]+?.,\\\^$|#\s]/g;u.extend(pt.prototype,g,{preinitialize:function(){},initialize:function(){},route:function(A,U,Y){u.isRegExp(A)||(A=this._routeToRegExp(A)),u.isFunction(U)&&(Y=U,U=""),Y||(Y=this[U]);var ct=this;return s.history.route(A,function(wt){var $=ct._extractParameters(A,wt);ct.execute(Y,$,U)!==!1&&(ct.trigger.apply(ct,["route:"+U].concat($)),ct.trigger("route",U,$),s.history.trigger("route",ct,U,$))}),this},execute:function(A,U,Y){A&&A.apply(this,U)},navigate:function(A,U){return s.history.navigate(A,U),this},_bindRoutes:function(){if(this.routes){this.routes=u.result(this,"routes");for(var A,U=u.keys(this.routes);(A=U.pop())!=null;)this.route(A,this.routes[A])}},_routeToRegExp:function(A){return A=A.replace(Yt,"\\$&").replace(bt,"(?:$1)?").replace(At,function(U,Y){return Y?U:"([^/?]+)"}).replace(Wt,"([^?]*?)"),new RegExp("^"+A+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(A,U){var Y=A.exec(U).slice(1);return u.map(Y,function(ct,wt){return wt===Y.length-1?ct||null:ct?decodeURIComponent(ct):null})}});var Ut=s.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},ee=/^[#\/]|\s+$/g,Ae=/^\/+|\/+$/g,de=/#.*$/;Ut.started=!1,u.extend(Ut.prototype,g,{interval:50,atRoot:function(){var A=this.location.pathname.replace(/[^\/]$/,"$&/");return A===this.root&&!this.getSearch()},matchRoot:function(){var A=this.decodeFragment(this.location.pathname),U=A.slice(0,this.root.length-1)+"/";return U===this.root},decodeFragment:function(A){return decodeURI(A.replace(/%25/g,"%2525"))},getSearch:function(){var A=this.location.href.replace(/#.*/,"").match(/\?.+/);return A?A[0]:""},getHash:function(A){var U=(A||this).location.href.match(/#(.*)$/);return U?U[1]:""},getPath:function(){var A=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return A.charAt(0)==="/"?A.slice(1):A},getFragment:function(A){return A==null&&(this._usePushState||!this._wantsHashChange?A=this.getPath():A=this.getHash()),A.replace(ee,"")},start:function(A){if(Ut.started)throw new Error("Backbone.history has already been started");if(Ut.started=!0,this.options=u.extend({root:"/"},this.options,A),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(document.documentMode===void 0||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(Ae,"/"),this._wantsHashChange&&this._wantsPushState)if(!this._hasPushState&&!this.atRoot()){var U=this.root.slice(0,-1)||"/";return this.location.replace(U+"#"+this.getPath()),!0}else this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var Y=document.body,ct=Y.insertBefore(this.iframe,Y.firstChild).contentWindow;ct.document.open(),ct.document.close(),ct.location.hash="#"+this.fragment}var wt=window.addEventListener||function($,vt){return attachEvent("on"+$,vt)};if(this._usePushState?wt("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?wt("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var A=window.removeEventListener||function(U,Y){return detachEvent("on"+U,Y)};this._usePushState?A("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&A("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),Ut.started=!1},route:function(A,U){this.handlers.unshift({route:A,callback:U})},checkUrl:function(A){var U=this.getFragment();if(U===this.fragment&&this.iframe&&(U=this.getHash(this.iframe.contentWindow)),U===this.fragment)return!1;this.iframe&&this.navigate(U),this.loadUrl()},loadUrl:function(A){return this.matchRoot()?(A=this.fragment=this.getFragment(A),u.some(this.handlers,function(U){if(U.route.test(A))return U.callback(A),!0})):!1},navigate:function(A,U){if(!Ut.started)return!1;(!U||U===!0)&&(U={trigger:!!U}),A=this.getFragment(A||"");var Y=this.root;(A===""||A.charAt(0)==="?")&&(Y=Y.slice(0,-1)||"/");var ct=Y+A;A=A.replace(de,"");var wt=this.decodeFragment(A);if(this.fragment!==wt){if(this.fragment=wt,this._usePushState)this.history[U.replace?"replaceState":"pushState"]({},document.title,ct);else if(this._wantsHashChange){if(this._updateHash(this.location,A,U.replace),this.iframe&&A!==this.getHash(this.iframe.contentWindow)){var $=this.iframe.contentWindow;U.replace||($.document.open(),$.document.close()),this._updateHash($.location,A,U.replace)}}else return this.location.assign(ct);if(U.trigger)return this.loadUrl(A)}},_updateHash:function(A,U,Y){if(Y){var ct=A.href.replace(/(javascript:|#).*$/,"");A.replace(ct+"#"+U)}else A.hash="#"+U}}),s.history=new Ut;var Ze=function(A,U){var Y=this,ct;return A&&u.has(A,"constructor")?ct=A.constructor:ct=function(){return Y.apply(this,arguments)},u.extend(ct,Y,U),ct.prototype=u.create(Y.prototype,A),ct.prototype.constructor=ct,ct.__super__=Y.prototype,ct};at.extend=ft.extend=pt.extend=L.extend=Ut.extend=Ze;var He=function(){throw new Error('A "url" property or function must be specified')},_e=function(A,U){var Y=U.error;U.error=function(ct){Y&&Y.call(U.context,A,ct,U),A.trigger("error",A,ct,U)}};return s})},862:(o,r,t)=>{(function(e){e(t(237))})(function(e){e.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(i,s){return/^[;{}]$/.test(s)}}),e.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(i,s,u,c){return this.jsonMode?/^[\[,{]$/.test(s)||/^}/.test(u):s==";"&&c.lexical&&c.lexical.type==")"?!1:/^[;{}]$/.test(s)&&!/^;/.test(u)}});var n=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;e.extendMode("xml",{commentStart:"<!--",commentEnd:"-->",newlineAfterToken:function(i,s,u,c){var f=!1;return this.configuration=="html"&&(f=c.context?n.test(c.context.tagName):!1),!f&&(i=="tag"&&/>$/.test(s)&&c.context||/^</.test(u))}}),e.defineExtension("commentRange",function(i,s,u){var c=this,f=e.innerMode(c.getMode(),c.getTokenAt(s).state).mode;c.operation(function(){if(i)c.replaceRange(f.commentEnd,u),c.replaceRange(f.commentStart,s),s.line==u.line&&s.ch==u.ch&&c.setCursor(s.line,s.ch+f.commentStart.length);else{var h=c.getRange(s,u),g=h.indexOf(f.commentStart),m=h.lastIndexOf(f.commentEnd);g>-1&&m>-1&&m>g&&(h=h.substr(0,g)+h.substring(g+f.commentStart.length,m)+h.substr(m+f.commentEnd.length)),c.replaceRange(h,s,u)}})}),e.defineExtension("autoIndentRange",function(i,s){var u=this;this.operation(function(){for(var c=i.line;c<=s.line;c++)u.indentLine(c,"smart")})}),e.defineExtension("autoFormatRange",function(i,s){var u=this,c=u.getMode(),f=u.getRange(i,s).split(`
`),h=e.copyState(c,u.getTokenAt(i).state),g=u.getOption("tabSize"),m="",y=0,w=i.ch===0;function b(){m+=`
`,w=!0,++y}for(var O=0;O<f.length;++O){for(var S=new e.StringStream(f[O],g);!S.eol();){var P=e.innerMode(c,h),T=c.token(S,h),j=S.current();S.start=S.pos,(!w||/\S/.test(j))&&(m+=j,w=!1),!w&&P.mode.newlineAfterToken&&P.mode.newlineAfterToken(T,j,S.string.slice(S.pos)||f[O+1]||"",P.state)&&b()}!S.pos&&c.blankLine&&c.blankLine(h),!w&&O<f.length-1&&b()}u.operation(function(){u.replaceRange(m,i,s);for(var X=i.line+1,at=i.line+y;X<=at;++X)u.indentLine(X,"smart");u.setSelection(i,u.getCursor(!1))})})})},237:function(o){(function(r,t){o.exports=t()})(this,function(){var r=navigator.userAgent,t=navigator.platform,e=/gecko\/\d/i.test(r),n=/MSIE \d/.test(r),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(r),s=/Edge\/(\d+)/.exec(r),u=n||i||s,c=u&&(n?document.documentMode||6:+(s||i)[1]),f=!s&&/WebKit\//.test(r),h=f&&/Qt\/\d+\.\d+/.test(r),g=!s&&/Chrome\//.test(r),m=/Opera\//.test(r),y=/Apple Computer/.test(navigator.vendor),w=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(r),b=/PhantomJS/.test(r),O=y&&(/Mobile\/\w+/.test(r)||navigator.maxTouchPoints>2),S=/Android/.test(r),P=O||S||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(r),T=O||/Mac/.test(t),j=/\bCrOS\b/.test(r),X=/win/i.test(t),at=m&&r.match(/Version\/(\d*\.\d*)/);at&&(at=Number(at[1])),at&&at>=15&&(m=!1,f=!0);var ft=T&&(h||m&&(at==null||at<12.11)),Q=e||u&&c>=9;function K(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}var rt=function(a,l){var p=a.className,d=K(l).exec(p);if(d){var v=p.slice(d.index+d[0].length);a.className=p.slice(0,d.index)+(v?d[1]+v:"")}};function H(a){for(var l=a.childNodes.length;l>0;--l)a.removeChild(a.firstChild);return a}function V(a,l){return H(a).appendChild(l)}function W(a,l,p,d){var v=document.createElement(a);if(p&&(v.className=p),d&&(v.style.cssText=d),typeof l=="string")v.appendChild(document.createTextNode(l));else if(l)for(var _=0;_<l.length;++_)v.appendChild(l[_]);return v}function z(a,l,p,d){var v=W(a,l,p,d);return v.setAttribute("role","presentation"),v}var it;document.createRange?it=function(a,l,p,d){var v=document.createRange();return v.setEnd(d||a,p),v.setStart(a,l),v}:it=function(a,l,p){var d=document.body.createTextRange();try{d.moveToElementText(a.parentNode)}catch{return d}return d.collapse(!0),d.moveEnd("character",p),d.moveStart("character",l),d};function L(a,l){if(l.nodeType==3&&(l=l.parentNode),a.contains)return a.contains(l);do if(l.nodeType==11&&(l=l.host),l==a)return!0;while(l=l.parentNode)}function _t(){var a;try{a=document.activeElement}catch{a=document.body||null}for(;a&&a.shadowRoot&&a.shadowRoot.activeElement;)a=a.shadowRoot.activeElement;return a}function nt(a,l){var p=a.className;K(l).test(p)||(a.className+=(p?" ":"")+l)}function Ct(a,l){for(var p=a.split(" "),d=0;d<p.length;d++)p[d]&&!K(p[d]).test(l)&&(l+=" "+p[d]);return l}var Dt=function(a){a.select()};O?Dt=function(a){a.selectionStart=0,a.selectionEnd=a.value.length}:u&&(Dt=function(a){try{a.select()}catch{}});function st(a){var l=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,l)}}function Ot(a,l,p){l||(l={});for(var d in a)a.hasOwnProperty(d)&&(p!==!1||!l.hasOwnProperty(d))&&(l[d]=a[d]);return l}function Vt(a,l,p,d,v){l==null&&(l=a.search(/[^\s\u00a0]/),l==-1&&(l=a.length));for(var _=d||0,C=v||0;;){var x=a.indexOf("	",_);if(x<0||x>=l)return C+(l-_);C+=x-_,C+=p-C%p,_=x+1}}var Tt=function(){this.id=null,this.f=null,this.time=0,this.handler=st(this.onTimeout,this)};Tt.prototype.onTimeout=function(a){a.id=0,a.time<=+new Date?a.f():setTimeout(a.handler,a.time-+new Date)},Tt.prototype.set=function(a,l){this.f=l;var p=+new Date+a;(!this.id||p<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,a),this.time=p)};function te(a,l){for(var p=0;p<a.length;++p)if(a[p]==l)return p;return-1}var pt=50,bt={toString:function(){return"CodeMirror.Pass"}},At={scroll:!1},Wt={origin:"*mouse"},Yt={origin:"+move"};function Ut(a,l,p){for(var d=0,v=0;;){var _=a.indexOf("	",d);_==-1&&(_=a.length);var C=_-d;if(_==a.length||v+C>=l)return d+Math.min(C,l-v);if(v+=_-d,v+=p-v%p,d=_+1,v>=l)return d}}var ee=[""];function Ae(a){for(;ee.length<=a;)ee.push(de(ee)+" ");return ee[a]}function de(a){return a[a.length-1]}function Ze(a,l){for(var p=[],d=0;d<a.length;d++)p[d]=l(a[d],d);return p}function He(a,l,p){for(var d=0,v=p(l);d<a.length&&p(a[d])<=v;)d++;a.splice(d,0,l)}function _e(){}function A(a,l){var p;return Object.create?p=Object.create(a):(_e.prototype=a,p=new _e),l&&Ot(l,p),p}var U=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Y(a){return/\w/.test(a)||a>""&&(a.toUpperCase()!=a.toLowerCase()||U.test(a))}function ct(a,l){return l?l.source.indexOf("\\w")>-1&&Y(a)?!0:l.test(a):Y(a)}function wt(a){for(var l in a)if(a.hasOwnProperty(l)&&a[l])return!1;return!0}var $=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function vt(a){return a.charCodeAt(0)>=768&&$.test(a)}function ut(a,l,p){for(;(p<0?l>0:l<a.length)&&vt(a.charAt(l));)l+=p;return l}function ie(a,l,p){for(var d=l>p?-1:1;;){if(l==p)return l;var v=(l+p)/2,_=d<0?Math.ceil(v):Math.floor(v);if(_==l)return a(_)?l:p;a(_)?p=_:l=_+d}}function Ce(a,l,p,d){if(!a)return d(l,p,"ltr",0);for(var v=!1,_=0;_<a.length;++_){var C=a[_];(C.from<p&&C.to>l||l==p&&C.to==l)&&(d(Math.max(C.from,l),Math.min(C.to,p),C.level==1?"rtl":"ltr",_),v=!0)}v||d(l,p,"ltr")}var ge=null;function B(a,l,p){var d;ge=null;for(var v=0;v<a.length;++v){var _=a[v];if(_.from<l&&_.to>l)return v;_.to==l&&(_.from!=_.to&&p=="before"?d=v:ge=v),_.from==l&&(_.from!=_.to&&p!="before"?d=v:ge=v)}return d??ge}var ot=function(){var a="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",l="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function p(M){return M<=247?a.charAt(M):1424<=M&&M<=1524?"R":1536<=M&&M<=1785?l.charAt(M-1536):1774<=M&&M<=2220?"r":8192<=M&&M<=8203?"w":M==8204?"b":"L"}var d=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,v=/[stwN]/,_=/[LRr]/,C=/[Lb1n]/,x=/[1n]/;function E(M,G,Z){this.level=M,this.from=G,this.to=Z}return function(M,G){var Z=G=="ltr"?"L":"R";if(M.length==0||G=="ltr"&&!d.test(M))return!1;for(var gt=M.length,lt=[],xt=0;xt<gt;++xt)lt.push(p(M.charCodeAt(xt)));for(var Lt=0,Ft=Z;Lt<gt;++Lt){var Xt=lt[Lt];Xt=="m"?lt[Lt]=Ft:Ft=Xt}for(var re=0,qt=Z;re<gt;++re){var oe=lt[re];oe=="1"&&qt=="r"?lt[re]="n":_.test(oe)&&(qt=oe,oe=="r"&&(lt[re]="R"))}for(var he=1,fe=lt[0];he<gt-1;++he){var Te=lt[he];Te=="+"&&fe=="1"&&lt[he+1]=="1"?lt[he]="1":Te==","&&fe==lt[he+1]&&(fe=="1"||fe=="n")&&(lt[he]=fe),fe=Te}for(var Ke=0;Ke<gt;++Ke){var Vr=lt[Ke];if(Vr==",")lt[Ke]="N";else if(Vr=="%"){var ar=void 0;for(ar=Ke+1;ar<gt&&lt[ar]=="%";++ar);for(var Vn=Ke&&lt[Ke-1]=="!"||ar<gt&&lt[ar]=="1"?"1":"N",wn=Ke;wn<ar;++wn)lt[wn]=Vn;Ke=ar-1}}for(var br=0,Cn=Z;br<gt;++br){var Wr=lt[br];Cn=="L"&&Wr=="1"?lt[br]="L":_.test(Wr)&&(Cn=Wr)}for(var Ar=0;Ar<gt;++Ar)if(v.test(lt[Ar])){var xr=void 0;for(xr=Ar+1;xr<gt&&v.test(lt[xr]);++xr);for(var cr=(Ar?lt[Ar-1]:Z)=="L",bn=(xr<gt?lt[xr]:Z)=="L",Ms=cr==bn?cr?"L":"R":Z,qi=Ar;qi<xr;++qi)lt[qi]=Ms;Ar=xr-1}for(var qr=[],Xo,Ur=0;Ur<gt;)if(C.test(lt[Ur])){var hh=Ur;for(++Ur;Ur<gt&&C.test(lt[Ur]);++Ur);qr.push(new E(0,hh,Ur))}else{var hi=Ur,Ia=qr.length,Ra=G=="rtl"?1:0;for(++Ur;Ur<gt&&lt[Ur]!="L";++Ur);for(var an=hi;an<Ur;)if(x.test(lt[an])){hi<an&&(qr.splice(Ia,0,new E(1,hi,an)),Ia+=Ra);var Ls=an;for(++an;an<Ur&&x.test(lt[an]);++an);qr.splice(Ia,0,new E(2,Ls,an)),Ia+=Ra,hi=an}else++an;hi<Ur&&qr.splice(Ia,0,new E(1,hi,Ur))}return G=="ltr"&&(qr[0].level==1&&(Xo=M.match(/^\s+/))&&(qr[0].from=Xo[0].length,qr.unshift(new E(0,0,Xo[0].length))),de(qr).level==1&&(Xo=M.match(/\s+$/))&&(de(qr).to-=Xo[0].length,qr.push(new E(0,gt-Xo[0].length,gt)))),G=="rtl"?qr.reverse():qr}}();function N(a,l){var p=a.order;return p==null&&(p=a.order=ot(a.text,l)),p}var Et=[],yt=function(a,l,p){if(a.addEventListener)a.addEventListener(l,p,!1);else if(a.attachEvent)a.attachEvent("on"+l,p);else{var d=a._handlers||(a._handlers={});d[l]=(d[l]||Et).concat(p)}};function Nt(a,l){return a._handlers&&a._handlers[l]||Et}function Qt(a,l,p){if(a.removeEventListener)a.removeEventListener(l,p,!1);else if(a.detachEvent)a.detachEvent("on"+l,p);else{var d=a._handlers,v=d&&d[l];if(v){var _=te(v,p);_>-1&&(d[l]=v.slice(0,_).concat(v.slice(_+1)))}}}function Zt(a,l){var p=Nt(a,l);if(p.length)for(var d=Array.prototype.slice.call(arguments,2),v=0;v<p.length;++v)p[v].apply(null,d)}function Kt(a,l,p){return typeof l=="string"&&(l={type:l,preventDefault:function(){this.defaultPrevented=!0}}),Zt(a,p||l.type,a,l),Tr(l)||l.codemirrorIgnore}function se(a){var l=a._handlers&&a._handlers.cursorActivity;if(l)for(var p=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]),d=0;d<l.length;++d)te(p,l[d])==-1&&p.push(l[d])}function Oe(a,l){return Nt(a,l).length>0}function Me(a){a.prototype.on=function(l,p){yt(this,l,p)},a.prototype.off=function(l,p){Qt(this,l,p)}}function Ee(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function ir(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function Tr(a){return a.defaultPrevented!=null?a.defaultPrevented:a.returnValue==!1}function F(a){Ee(a),ir(a)}function tt(a){return a.target||a.srcElement}function dt(a){var l=a.which;return l==null&&(a.button&1?l=1:a.button&2?l=3:a.button&4&&(l=2)),T&&a.ctrlKey&&l==1&&(l=3),l}var kt=function(){if(u&&c<9)return!1;var a=W("div");return"draggable"in a||"dragDrop"in a}(),zt;function ce(a){if(zt==null){var l=W("span","​");V(a,W("span",[l,document.createTextNode("x")])),a.firstChild.offsetHeight!=0&&(zt=l.offsetWidth<=1&&l.offsetHeight>2&&!(u&&c<8))}var p=zt?W("span","​"):W("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return p.setAttribute("cm-text",""),p}var we;function Ge(a){if(we!=null)return we;var l=V(a,document.createTextNode("AخA")),p=it(l,0,1).getBoundingClientRect(),d=it(l,1,2).getBoundingClientRect();return H(a),!p||p.left==p.right?!1:we=d.right-p.right<3}var hr=`

b`.split(/\n/).length!=3?function(a){for(var l=0,p=[],d=a.length;l<=d;){var v=a.indexOf(`
`,l);v==-1&&(v=a.length);var _=a.slice(l,a.charAt(v-1)=="\r"?v-1:v),C=_.indexOf("\r");C!=-1?(p.push(_.slice(0,C)),l+=C+1):(p.push(_),l=v+1)}return p}:function(a){return a.split(/\r\n?|\n/)},Ye=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch{return!1}}:function(a){var l;try{l=a.ownerDocument.selection.createRange()}catch{}return!l||l.parentElement()!=a?!1:l.compareEndPoints("StartToEnd",l)!=0},Jn=function(){var a=W("div");return"oncopy"in a?!0:(a.setAttribute("oncopy","return;"),typeof a.oncopy=="function")}(),Xe=null;function tn(a){if(Xe!=null)return Xe;var l=V(a,W("span","x")),p=l.getBoundingClientRect(),d=it(l,0,1).getBoundingClientRect();return Xe=Math.abs(p.left-d.left)>1}var Ln={},Ne={};function vr(a,l){arguments.length>2&&(l.dependencies=Array.prototype.slice.call(arguments,2)),Ln[a]=l}function Le(a,l){Ne[a]=l}function Gr(a){if(typeof a=="string"&&Ne.hasOwnProperty(a))a=Ne[a];else if(a&&typeof a.name=="string"&&Ne.hasOwnProperty(a.name)){var l=Ne[a.name];typeof l=="string"&&(l={name:l}),a=A(l,a),a.name=l.name}else{if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return Gr("application/xml");if(typeof a=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return Gr("application/json")}return typeof a=="string"?{name:a}:a||{name:"null"}}function ve(a,l){l=Gr(l);var p=Ln[l.name];if(!p)return ve(a,"text/plain");var d=p(a,l);if(Dn.hasOwnProperty(l.name)){var v=Dn[l.name];for(var _ in v)v.hasOwnProperty(_)&&(d.hasOwnProperty(_)&&(d["_"+_]=d[_]),d[_]=v[_])}if(d.name=l.name,l.helperType&&(d.helperType=l.helperType),l.modeProps)for(var C in l.modeProps)d[C]=l.modeProps[C];return d}var Dn={};function vn(a,l){var p=Dn.hasOwnProperty(a)?Dn[a]:Dn[a]={};Ot(l,p)}function yr(a,l){if(l===!0)return l;if(a.copyState)return a.copyState(l);var p={};for(var d in l){var v=l[d];v instanceof Array&&(v=v.concat([])),p[d]=v}return p}function _r(a,l){for(var p;a.innerMode&&(p=a.innerMode(l),!(!p||p.mode==a));)l=p.state,a=p.mode;return p||{mode:a,state:l}}function en(a,l,p){return a.startState?a.startState(l,p):!0}var Ie=function(a,l,p){this.pos=this.start=0,this.string=a,this.tabSize=l||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=p};Ie.prototype.eol=function(){return this.pos>=this.string.length},Ie.prototype.sol=function(){return this.pos==this.lineStart},Ie.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ie.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ie.prototype.eat=function(a){var l=this.string.charAt(this.pos),p;if(typeof a=="string"?p=l==a:p=l&&(a.test?a.test(l):a(l)),p)return++this.pos,l},Ie.prototype.eatWhile=function(a){for(var l=this.pos;this.eat(a););return this.pos>l},Ie.prototype.eatSpace=function(){for(var a=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>a},Ie.prototype.skipToEnd=function(){this.pos=this.string.length},Ie.prototype.skipTo=function(a){var l=this.string.indexOf(a,this.pos);if(l>-1)return this.pos=l,!0},Ie.prototype.backUp=function(a){this.pos-=a},Ie.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Vt(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Vt(this.string,this.lineStart,this.tabSize):0)},Ie.prototype.indentation=function(){return Vt(this.string,null,this.tabSize)-(this.lineStart?Vt(this.string,this.lineStart,this.tabSize):0)},Ie.prototype.match=function(a,l,p){if(typeof a=="string"){var d=function(C){return p?C.toLowerCase():C},v=this.string.substr(this.pos,a.length);if(d(v)==d(a))return l!==!1&&(this.pos+=a.length),!0}else{var _=this.string.slice(this.pos).match(a);return _&&_.index>0?null:(_&&l!==!1&&(this.pos+=_[0].length),_)}},Ie.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ie.prototype.hideFirstChars=function(a,l){this.lineStart+=a;try{return l()}finally{this.lineStart-=a}},Ie.prototype.lookAhead=function(a){var l=this.lineOracle;return l&&l.lookAhead(a)},Ie.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};function ne(a,l){if(l-=a.first,l<0||l>=a.size)throw new Error("There is no line "+(l+a.first)+" in the document.");for(var p=a;!p.lines;)for(var d=0;;++d){var v=p.children[d],_=v.chunkSize();if(l<_){p=v;break}l-=_}return p.lines[l]}function jr(a,l,p){var d=[],v=l.line;return a.iter(l.line,p.line+1,function(_){var C=_.text;v==p.line&&(C=C.slice(0,p.ch)),v==l.line&&(C=C.slice(l.ch)),d.push(C),++v}),d}function Qe(a,l,p){var d=[];return a.iter(l,p,function(v){d.push(v.text)}),d}function Nr(a,l){var p=l-a.height;if(p)for(var d=a;d;d=d.parent)d.height+=p}function ke(a){if(a.parent==null)return null;for(var l=a.parent,p=te(l.lines,a),d=l.parent;d;l=d,d=d.parent)for(var v=0;d.children[v]!=l;++v)p+=d.children[v].chunkSize();return p+l.first}function ze(a,l){var p=a.first;t:do{for(var d=0;d<a.children.length;++d){var v=a.children[d],_=v.height;if(l<_){a=v;continue t}l-=_,p+=v.chunkSize()}return p}while(!a.lines);for(var C=0;C<a.lines.length;++C){var x=a.lines[C],E=x.height;if(l<E)break;l-=E}return p+C}function jn(a,l){return l>=a.first&&l<a.first+a.size}function Zn(a,l){return String(a.lineNumberFormatter(l+a.firstLineNumber))}function jt(a,l,p){if(p===void 0&&(p=null),!(this instanceof jt))return new jt(a,l,p);this.line=a,this.ch=l,this.sticky=p}function pe(a,l){return a.line-l.line||a.ch-l.ch}function Qn(a,l){return a.sticky==l.sticky&&pe(a,l)==0}function I(a){return jt(a.line,a.ch)}function q(a,l){return pe(a,l)<0?l:a}function St(a,l){return pe(a,l)<0?a:l}function It(a,l){return Math.max(a.first,Math.min(l,a.first+a.size-1))}function Rt(a,l){if(l.line<a.first)return jt(a.first,0);var p=a.first+a.size-1;return l.line>p?jt(p,ne(a,p).text.length):Se(l,ne(a,l.line).text.length)}function Se(a,l){var p=a.ch;return p==null||p>l?jt(a.line,l):p<0?jt(a.line,0):a}function Pe(a,l){for(var p=[],d=0;d<l.length;d++)p[d]=Rt(a,l[d]);return p}var qe=function(a,l){this.state=a,this.lookAhead=l},Fe=function(a,l,p,d){this.state=l,this.doc=a,this.line=p,this.maxLookAhead=d||0,this.baseTokens=null,this.baseTokenPos=1};Fe.prototype.lookAhead=function(a){var l=this.doc.getLine(this.line+a);return l!=null&&a>this.maxLookAhead&&(this.maxLookAhead=a),l},Fe.prototype.baseToken=function(a){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)this.baseTokenPos+=2;var l=this.baseTokens[this.baseTokenPos+1];return{type:l&&l.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}},Fe.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},Fe.fromSaved=function(a,l,p){return l instanceof qe?new Fe(a,yr(a.mode,l.state),p,l.lookAhead):new Fe(a,yr(a.mode,l),p)},Fe.prototype.save=function(a){var l=a!==!1?yr(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new qe(l,this.maxLookAhead):l};function Nn(a,l,p,d){var v=[a.state.modeGen],_={};Go(a,l.text,a.doc.mode,p,function(M,G){return v.push(M,G)},_,d);for(var C=p.state,x=function(M){p.baseTokens=v;var G=a.state.overlays[M],Z=1,gt=0;p.state=!0,Go(a,l.text,G.mode,p,function(lt,xt){for(var Lt=Z;gt<lt;){var Ft=v[Z];Ft>lt&&v.splice(Z,1,lt,v[Z+1],Ft),Z+=2,gt=Math.min(lt,Ft)}if(xt)if(G.opaque)v.splice(Lt,Z-Lt,lt,"overlay "+xt),Z=Lt+2;else for(;Lt<Z;Lt+=2){var Xt=v[Lt+1];v[Lt+1]=(Xt?Xt+" ":"")+"overlay "+xt}},_),p.state=C,p.baseTokens=null,p.baseTokenPos=1},E=0;E<a.state.overlays.length;++E)x(E);return{styles:v,classes:_.bgClass||_.textClass?_:null}}function Ai(a,l,p){if(!l.styles||l.styles[0]!=a.state.modeGen){var d=ni(a,ke(l)),v=l.text.length>a.options.maxHighlightLength&&yr(a.doc.mode,d.state),_=Nn(a,l,d);v&&(d.state=v),l.stateAfter=d.save(!v),l.styles=_.styles,_.classes?l.styleClasses=_.classes:l.styleClasses&&(l.styleClasses=null),p===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,++a.doc.highlightFrontier))}return l.styles}function ni(a,l,p){var d=a.doc,v=a.display;if(!d.mode.startState)return new Fe(d,!0,l);var _=Mo(a,l,p),C=_>d.first&&ne(d,_-1).stateAfter,x=C?Fe.fromSaved(d,C,_):new Fe(d,en(d.mode),_);return d.iter(_,l,function(E){oi(a,E.text,x);var M=x.line;E.stateAfter=M==l-1||M%5==0||M>=v.viewFrom&&M<v.viewTo?x.save():null,x.nextLine()}),p&&(d.modeFrontier=x.line),x}function oi(a,l,p,d){var v=a.doc.mode,_=new Ie(l,a.options.tabSize,p);for(_.start=_.pos=d||0,l==""&&ii(v,p.state);!_.eol();)Oa(v,_,p.state),_.start=_.pos}function ii(a,l){if(a.blankLine)return a.blankLine(l);if(a.innerMode){var p=_r(a,l);if(p.mode.blankLine)return p.mode.blankLine(p.state)}}function Oa(a,l,p,d){for(var v=0;v<10;v++){d&&(d[0]=_r(a,p).mode);var _=a.token(l,p);if(l.pos>l.start)return _}throw new Error("Mode "+a.name+" failed to advance stream.")}var Mi=function(a,l,p){this.start=a.start,this.end=a.pos,this.string=a.current(),this.type=l||null,this.state=p};function Li(a,l,p,d){var v=a.doc,_=v.mode,C;l=Rt(v,l);var x=ne(v,l.line),E=ni(a,l.line,p),M=new Ie(x.text,a.options.tabSize,E),G;for(d&&(G=[]);(d||M.pos<l.ch)&&!M.eol();)M.start=M.pos,C=Oa(_,M,E.state),d&&G.push(new Mi(M,C,yr(v.mode,E.state)));return d?G:new Mi(M,C,E.state)}function ai(a,l){if(a)for(;;){var p=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!p)break;a=a.slice(0,p.index)+a.slice(p.index+p[0].length);var d=p[1]?"bgClass":"textClass";l[d]==null?l[d]=p[2]:new RegExp("(?:^|\\s)"+p[2]+"(?:$|\\s)").test(l[d])||(l[d]+=" "+p[2])}return a}function Go(a,l,p,d,v,_,C){var x=p.flattenSpans;x==null&&(x=a.options.flattenSpans);var E=0,M=null,G=new Ie(l,a.options.tabSize,d),Z,gt=a.options.addModeClass&&[null];for(l==""&&ai(ii(p,d.state),_);!G.eol();){if(G.pos>a.options.maxHighlightLength?(x=!1,C&&oi(a,l,d,G.pos),G.pos=l.length,Z=null):Z=ai(Oa(p,G,d.state,gt),_),gt){var lt=gt[0].name;lt&&(Z="m-"+(Z?lt+" "+Z:lt))}if(!x||M!=Z){for(;E<G.start;)E=Math.min(G.start,E+5e3),v(E,M);M=Z}G.start=G.pos}for(;E<G.pos;){var xt=Math.min(G.pos,E+5e3);v(xt,M),E=xt}}function Mo(a,l,p){for(var d,v,_=a.doc,C=p?-1:l-(a.doc.mode.innerMode?1e3:100),x=l;x>C;--x){if(x<=_.first)return _.first;var E=ne(_,x-1),M=E.stateAfter;if(M&&(!p||x+(M instanceof qe?M.lookAhead:0)<=_.modeFrontier))return x;var G=Vt(E.text,null,a.options.tabSize);(v==null||d>G)&&(v=x-1,d=G)}return v}function Di(a,l){if(a.modeFrontier=Math.min(a.modeFrontier,l),!(a.highlightFrontier<l-10)){for(var p=a.first,d=l-1;d>p;d--){var v=ne(a,d).stateAfter;if(v&&(!(v instanceof qe)||d+v.lookAhead<l)){p=d+1;break}}a.highlightFrontier=Math.min(a.highlightFrontier,p)}}var wr=!1,Er=!1;function Ta(){wr=!0}function to(){Er=!0}function Lo(a,l,p){this.marker=a,this.from=l,this.to=p}function rn(a,l){if(a)for(var p=0;p<a.length;++p){var d=a[p];if(d.marker==l)return d}}function Pr(a,l){for(var p,d=0;d<a.length;++d)a[d]!=l&&(p||(p=[])).push(a[d]);return p}function fs(a,l,p){var d=p&&window.WeakSet&&(p.markedSpans||(p.markedSpans=new WeakSet));d&&d.has(a.markedSpans)?a.markedSpans.push(l):(a.markedSpans=a.markedSpans?a.markedSpans.concat([l]):[l],d&&d.add(a.markedSpans)),l.marker.attachLine(a)}function Do(a,l,p){var d;if(a)for(var v=0;v<a.length;++v){var _=a[v],C=_.marker,x=_.from==null||(C.inclusiveLeft?_.from<=l:_.from<l);if(x||_.from==l&&C.type=="bookmark"&&(!p||!_.marker.insertLeft)){var E=_.to==null||(C.inclusiveRight?_.to>=l:_.to>l);(d||(d=[])).push(new Lo(C,_.from,E?null:_.to))}}return d}function eo(a,l,p){var d;if(a)for(var v=0;v<a.length;++v){var _=a[v],C=_.marker,x=_.to==null||(C.inclusiveRight?_.to>=l:_.to>l);if(x||_.from==l&&C.type=="bookmark"&&(!p||_.marker.insertLeft)){var E=_.from==null||(C.inclusiveLeft?_.from<=l:_.from<l);(d||(d=[])).push(new Lo(C,E?null:_.from-l,_.to==null?null:_.to-l))}}return d}function si(a,l){if(l.full)return null;var p=jn(a,l.from.line)&&ne(a,l.from.line).markedSpans,d=jn(a,l.to.line)&&ne(a,l.to.line).markedSpans;if(!p&&!d)return null;var v=l.from.ch,_=l.to.ch,C=pe(l.from,l.to)==0,x=Do(p,v,C),E=eo(d,_,C),M=l.text.length==1,G=de(l.text).length+(M?v:0);if(x)for(var Z=0;Z<x.length;++Z){var gt=x[Z];if(gt.to==null){var lt=rn(E,gt.marker);lt?M&&(gt.to=lt.to==null?null:lt.to+G):gt.to=v}}if(E)for(var xt=0;xt<E.length;++xt){var Lt=E[xt];if(Lt.to!=null&&(Lt.to+=G),Lt.from==null){var Ft=rn(x,Lt.marker);Ft||(Lt.from=G,M&&(x||(x=[])).push(Lt))}else Lt.from+=G,M&&(x||(x=[])).push(Lt)}x&&(x=ro(x)),E&&E!=x&&(E=ro(E));var Xt=[x];if(!M){var re=l.text.length-2,qt;if(re>0&&x)for(var oe=0;oe<x.length;++oe)x[oe].to==null&&(qt||(qt=[])).push(new Lo(x[oe].marker,null,null));for(var he=0;he<re;++he)Xt.push(qt);Xt.push(E)}return Xt}function ro(a){for(var l=0;l<a.length;++l){var p=a[l];p.from!=null&&p.from==p.to&&p.marker.clearWhenEmpty!==!1&&a.splice(l--,1)}return a.length?a:null}function no(a,l,p){var d=null;if(a.iter(l.line,p.line+1,function(lt){if(lt.markedSpans)for(var xt=0;xt<lt.markedSpans.length;++xt){var Lt=lt.markedSpans[xt].marker;Lt.readOnly&&(!d||te(d,Lt)==-1)&&(d||(d=[])).push(Lt)}}),!d)return null;for(var v=[{from:l,to:p}],_=0;_<d.length;++_)for(var C=d[_],x=C.find(0),E=0;E<v.length;++E){var M=v[E];if(!(pe(M.to,x.from)<0||pe(M.from,x.to)>0)){var G=[E,1],Z=pe(M.from,x.from),gt=pe(M.to,x.to);(Z<0||!C.inclusiveLeft&&!Z)&&G.push({from:M.from,to:x.from}),(gt>0||!C.inclusiveRight&&!gt)&&G.push({from:x.to,to:M.to}),v.splice.apply(v,G),E+=G.length-3}}return v}function Ea(a){var l=a.markedSpans;if(l){for(var p=0;p<l.length;++p)l[p].marker.detachLine(a);a.markedSpans=null}}function ji(a,l){if(l){for(var p=0;p<l.length;++p)l[p].marker.attachLine(a);a.markedSpans=l}}function li(a){return a.inclusiveLeft?-1:0}function mo(a){return a.inclusiveRight?1:0}function ui(a,l){var p=a.lines.length-l.lines.length;if(p!=0)return p;var d=a.find(),v=l.find(),_=pe(d.from,v.from)||li(a)-li(l);if(_)return-_;var C=pe(d.to,v.to)||mo(a)-mo(l);return C||l.id-a.id}function jo(a,l){var p=Er&&a.markedSpans,d;if(p)for(var v=void 0,_=0;_<p.length;++_)v=p[_],v.marker.collapsed&&(l?v.from:v.to)==null&&(!d||ui(d,v.marker)<0)&&(d=v.marker);return d}function ue(a){return jo(a,!0)}function le(a){return jo(a,!1)}function De(a,l){var p=Er&&a.markedSpans,d;if(p)for(var v=0;v<p.length;++v){var _=p[v];_.marker.collapsed&&(_.from==null||_.from<l)&&(_.to==null||_.to>l)&&(!d||ui(d,_.marker)<0)&&(d=_.marker)}return d}function me(a,l,p,d,v){var _=ne(a,l),C=Er&&_.markedSpans;if(C)for(var x=0;x<C.length;++x){var E=C[x];if(E.marker.collapsed){var M=E.marker.find(0),G=pe(M.from,p)||li(E.marker)-li(v),Z=pe(M.to,d)||mo(E.marker)-mo(v);if(!(G>=0&&Z<=0||G<=0&&Z>=0)&&(G<=0&&(E.marker.inclusiveRight&&v.inclusiveLeft?pe(M.to,p)>=0:pe(M.to,p)>0)||G>=0&&(E.marker.inclusiveRight&&v.inclusiveLeft?pe(M.from,d)<=0:pe(M.from,d)<0)))return!0}}}function tr(a){for(var l;l=ue(a);)a=l.find(-1,!0).line;return a}function Cr(a){for(var l;l=le(a);)a=l.find(1,!0).line;return a}function nn(a){for(var l,p;l=le(a);)a=l.find(1,!0).line,(p||(p=[])).push(a);return p}function yo(a,l){var p=ne(a,l),d=tr(p);return p==d?l:ke(d)}function gn(a,l){if(l>a.lastLine())return l;var p=ne(a,l),d;if(!mn(a,p))return l;for(;d=le(p);)p=d.find(1,!0).line;return ke(p)+1}function mn(a,l){var p=Er&&l.markedSpans;if(p){for(var d=void 0,v=0;v<p.length;++v)if(d=p[v],!!d.marker.collapsed){if(d.from==null)return!0;if(!d.marker.widgetNode&&d.from==0&&d.marker.inclusiveLeft&&In(a,l,d))return!0}}}function In(a,l,p){if(p.to==null){var d=p.marker.find(1,!0);return In(a,d.line,rn(d.line.markedSpans,p.marker))}if(p.marker.inclusiveRight&&p.to==l.text.length)return!0;for(var v=void 0,_=0;_<l.markedSpans.length;++_)if(v=l.markedSpans[_],v.marker.collapsed&&!v.marker.widgetNode&&v.from==p.to&&(v.to==null||v.to!=p.from)&&(v.marker.inclusiveLeft||p.marker.inclusiveRight)&&In(a,l,v))return!0}function _o(a){a=tr(a);for(var l=0,p=a.parent,d=0;d<p.lines.length;++d){var v=p.lines[d];if(v==a)break;l+=v.height}for(var _=p.parent;_;p=_,_=p.parent)for(var C=0;C<_.children.length;++C){var x=_.children[C];if(x==p)break;l+=x.height}return l}function ci(a){if(a.height==0)return 0;for(var l=a.text.length,p,d=a;p=ue(d);){var v=p.find(0,!0);d=v.from.line,l+=v.from.ch-v.to.ch}for(d=a;p=le(d);){var _=p.find(0,!0);l-=d.text.length-_.from.ch,d=_.to.line,l+=d.text.length-_.to.ch}return l}function Ni(a){var l=a.display,p=a.doc;l.maxLine=ne(p,p.first),l.maxLineLength=ci(l.maxLine),l.maxLineChanged=!0,p.iter(function(d){var v=ci(d);v>l.maxLineLength&&(l.maxLineLength=v,l.maxLine=d)})}var Ir=function(a,l,p){this.text=a,ji(this,l),this.height=p?p(this):1};Ir.prototype.lineNo=function(){return ke(this)},Me(Ir);function Cc(a,l,p,d){a.text=l,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),a.order!=null&&(a.order=null),Ea(a),ji(a,p);var v=d?d(a):1;v!=a.height&&Nr(a,v)}function ds(a){a.parent=null,Ea(a)}var bc={},Tl={};function El(a,l){if(!a||/^\s*$/.test(a))return null;var p=l.addModeClass?Tl:bc;return p[a]||(p[a]=a.replace(/\S+/g,"cm-$&"))}function ps(a,l){var p=z("span",null,null,f?"padding-right: .1px":null),d={pre:z("pre",[p],"CodeMirror-line"),content:p,col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:a.getOption("lineWrapping")};l.measure={};for(var v=0;v<=(l.rest?l.rest.length:0);v++){var _=v?l.rest[v-1]:l.line,C=void 0;d.pos=0,d.addToken=Sc,Ge(a.display.measure)&&(C=N(_,a.doc.direction))&&(d.addToken=Oc(d.addToken,C)),d.map=[];var x=l!=a.display.externalMeasured&&ke(_);Tc(_,d,Ai(a,_,x)),_.styleClasses&&(_.styleClasses.bgClass&&(d.bgClass=Ct(_.styleClasses.bgClass,d.bgClass||"")),_.styleClasses.textClass&&(d.textClass=Ct(_.styleClasses.textClass,d.textClass||""))),d.map.length==0&&d.map.push(0,0,d.content.appendChild(ce(a.display.measure))),v==0?(l.measure.map=d.map,l.measure.cache={}):((l.measure.maps||(l.measure.maps=[])).push(d.map),(l.measure.caches||(l.measure.caches=[])).push({}))}if(f){var E=d.content.lastChild;(/\bcm-tab\b/.test(E.className)||E.querySelector&&E.querySelector(".cm-tab"))&&(d.content.className="cm-tab-wrap-hack")}return Zt(a,"renderLine",a,l.line,d.pre),d.pre.className&&(d.textClass=Ct(d.pre.className,d.textClass||"")),d}function xc(a){var l=W("span","•","cm-invalidchar");return l.title="\\u"+a.charCodeAt(0).toString(16),l.setAttribute("aria-label",l.title),l}function Sc(a,l,p,d,v,_,C){if(l){var x=a.splitSpaces?hs(l,a.trailingSpace):l,E=a.cm.state.specialChars,M=!1,G;if(!E.test(l))a.col+=l.length,G=document.createTextNode(x),a.map.push(a.pos,a.pos+l.length,G),u&&c<9&&(M=!0),a.pos+=l.length;else{G=document.createDocumentFragment();for(var Z=0;;){E.lastIndex=Z;var gt=E.exec(l),lt=gt?gt.index-Z:l.length-Z;if(lt){var xt=document.createTextNode(x.slice(Z,Z+lt));u&&c<9?G.appendChild(W("span",[xt])):G.appendChild(xt),a.map.push(a.pos,a.pos+lt,xt),a.col+=lt,a.pos+=lt}if(!gt)break;Z+=lt+1;var Lt=void 0;if(gt[0]=="	"){var Ft=a.cm.options.tabSize,Xt=Ft-a.col%Ft;Lt=G.appendChild(W("span",Ae(Xt),"cm-tab")),Lt.setAttribute("role","presentation"),Lt.setAttribute("cm-text","	"),a.col+=Xt}else gt[0]=="\r"||gt[0]==`
`?(Lt=G.appendChild(W("span",gt[0]=="\r"?"␍":"␤","cm-invalidchar")),Lt.setAttribute("cm-text",gt[0]),a.col+=1):(Lt=a.cm.options.specialCharPlaceholder(gt[0]),Lt.setAttribute("cm-text",gt[0]),u&&c<9?G.appendChild(W("span",[Lt])):G.appendChild(Lt),a.col+=1);a.map.push(a.pos,a.pos+1,Lt),a.pos++}}if(a.trailingSpace=x.charCodeAt(l.length-1)==32,p||d||v||M||_||C){var re=p||"";d&&(re+=d),v&&(re+=v);var qt=W("span",[G],re,_);if(C)for(var oe in C)C.hasOwnProperty(oe)&&oe!="style"&&oe!="class"&&qt.setAttribute(oe,C[oe]);return a.content.appendChild(qt)}a.content.appendChild(G)}}function hs(a,l){if(a.length>1&&!/  /.test(a))return a;for(var p=l,d="",v=0;v<a.length;v++){var _=a.charAt(v);_==" "&&p&&(v==a.length-1||a.charCodeAt(v+1)==32)&&(_=" "),d+=_,p=_==" "}return d}function Oc(a,l){return function(p,d,v,_,C,x,E){v=v?v+" cm-force-border":"cm-force-border";for(var M=p.pos,G=M+d.length;;){for(var Z=void 0,gt=0;gt<l.length&&(Z=l[gt],!(Z.to>M&&Z.from<=M));gt++);if(Z.to>=G)return a(p,d,v,_,C,x,E);a(p,d.slice(0,Z.to-M),v,_,null,x,E),_=null,d=d.slice(Z.to-M),M=Z.to}}}function Pl(a,l,p,d){var v=!d&&p.widgetNode;v&&a.map.push(a.pos,a.pos+l,v),!d&&a.cm.display.input.needsContentAttribute&&(v||(v=a.content.appendChild(document.createElement("span"))),v.setAttribute("cm-marker",p.id)),v&&(a.cm.display.input.setUneditable(v),a.content.appendChild(v)),a.pos+=l,a.trailingSpace=!1}function Tc(a,l,p){var d=a.markedSpans,v=a.text,_=0;if(!d){for(var C=1;C<p.length;C+=2)l.addToken(l,v.slice(_,_=p[C]),El(p[C+1],l.cm.options));return}for(var x=v.length,E=0,M=1,G="",Z,gt,lt=0,xt,Lt,Ft,Xt,re;;){if(lt==E){xt=Lt=Ft=gt="",re=null,Xt=null,lt=1/0;for(var qt=[],oe=void 0,he=0;he<d.length;++he){var fe=d[he],Te=fe.marker;if(Te.type=="bookmark"&&fe.from==E&&Te.widgetNode)qt.push(Te);else if(fe.from<=E&&(fe.to==null||fe.to>E||Te.collapsed&&fe.to==E&&fe.from==E)){if(fe.to!=null&&fe.to!=E&&lt>fe.to&&(lt=fe.to,Lt=""),Te.className&&(xt+=" "+Te.className),Te.css&&(gt=(gt?gt+";":"")+Te.css),Te.startStyle&&fe.from==E&&(Ft+=" "+Te.startStyle),Te.endStyle&&fe.to==lt&&(oe||(oe=[])).push(Te.endStyle,fe.to),Te.title&&((re||(re={})).title=Te.title),Te.attributes)for(var Ke in Te.attributes)(re||(re={}))[Ke]=Te.attributes[Ke];Te.collapsed&&(!Xt||ui(Xt.marker,Te)<0)&&(Xt=fe)}else fe.from>E&&lt>fe.from&&(lt=fe.from)}if(oe)for(var Vr=0;Vr<oe.length;Vr+=2)oe[Vr+1]==lt&&(Lt+=" "+oe[Vr]);if(!Xt||Xt.from==E)for(var ar=0;ar<qt.length;++ar)Pl(l,0,qt[ar]);if(Xt&&(Xt.from||0)==E){if(Pl(l,(Xt.to==null?x+1:Xt.to)-E,Xt.marker,Xt.from==null),Xt.to==null)return;Xt.to==E&&(Xt=!1)}}if(E>=x)break;for(var Vn=Math.min(x,lt);;){if(G){var wn=E+G.length;if(!Xt){var br=wn>Vn?G.slice(0,Vn-E):G;l.addToken(l,br,Z?Z+xt:xt,Ft,E+br.length==lt?Lt:"",gt,re)}if(wn>=Vn){G=G.slice(Vn-E),E=Vn;break}E=wn,Ft=""}G=v.slice(_,_=p[M++]),Z=El(p[M++],l.cm.options)}}}function kl(a,l,p){this.line=l,this.rest=nn(l),this.size=this.rest?ke(de(this.rest))-p+1:1,this.node=this.text=null,this.hidden=mn(a,l)}function vs(a,l,p){for(var d=[],v,_=l;_<p;_=v){var C=new kl(a.doc,ne(a.doc,_),_);v=_+C.size,d.push(C)}return d}var fi=null;function Ec(a){fi?fi.ops.push(a):a.ownsGroup=fi={ops:[a],delayedCallbacks:[]}}function Np(a){var l=a.delayedCallbacks,p=0;do{for(;p<l.length;p++)l[p].call(null);for(var d=0;d<a.ops.length;d++){var v=a.ops[d];if(v.cursorActivityHandlers)for(;v.cursorActivityCalled<v.cursorActivityHandlers.length;)v.cursorActivityHandlers[v.cursorActivityCalled++].call(null,v.cm)}}while(p<l.length)}function Al(a,l){var p=a.ownsGroup;if(p)try{Np(p)}finally{fi=null,l(p)}}var Ii=null;function ur(a,l){var p=Nt(a,l);if(p.length){var d=Array.prototype.slice.call(arguments,2),v;fi?v=fi.delayedCallbacks:Ii?v=Ii:(v=Ii=[],setTimeout(Ri,0));for(var _=function(x){v.push(function(){return p[x].apply(null,d)})},C=0;C<p.length;++C)_(C)}}function Ri(){var a=Ii;Ii=null;for(var l=0;l<a.length;++l)a[l]()}function Yo(a,l,p,d){for(var v=0;v<l.changes.length;v++){var _=l.changes[v];_=="text"?Ll(a,l):_=="gutter"?Vi(a,l,p,d):_=="class"?gs(a,l):_=="widget"&&kc(a,l,d)}l.changes=null}function Fi(a){return a.node==a.text&&(a.node=W("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),u&&c<8&&(a.node.style.zIndex=2)),a.node}function Pc(a,l){var p=l.bgClass?l.bgClass+" "+(l.line.bgClass||""):l.line.bgClass;if(p&&(p+=" CodeMirror-linebackground"),l.background)p?l.background.className=p:(l.background.parentNode.removeChild(l.background),l.background=null);else if(p){var d=Fi(l);l.background=d.insertBefore(W("div",null,p),d.firstChild),a.display.input.setUneditable(l.background)}}function Ml(a,l){var p=a.display.externalMeasured;return p&&p.line==l.line?(a.display.externalMeasured=null,l.measure=p.measure,p.built):ps(a,l)}function Ll(a,l){var p=l.text.className,d=Ml(a,l);l.text==l.node&&(l.node=d.pre),l.text.parentNode.replaceChild(d.pre,l.text),l.text=d.pre,d.bgClass!=l.bgClass||d.textClass!=l.textClass?(l.bgClass=d.bgClass,l.textClass=d.textClass,gs(a,l)):p&&(l.text.className=p)}function gs(a,l){Pc(a,l),l.line.wrapClass?Fi(l).className=l.line.wrapClass:l.node!=l.text&&(l.node.className="");var p=l.textClass?l.textClass+" "+(l.line.textClass||""):l.line.textClass;l.text.className=p||""}function Vi(a,l,p,d){if(l.gutter&&(l.node.removeChild(l.gutter),l.gutter=null),l.gutterBackground&&(l.node.removeChild(l.gutterBackground),l.gutterBackground=null),l.line.gutterClass){var v=Fi(l);l.gutterBackground=W("div",null,"CodeMirror-gutter-background "+l.line.gutterClass,"left: "+(a.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px; width: "+d.gutterTotalWidth+"px"),a.display.input.setUneditable(l.gutterBackground),v.insertBefore(l.gutterBackground,l.text)}var _=l.line.gutterMarkers;if(a.options.lineNumbers||_){var C=Fi(l),x=l.gutter=W("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?d.fixedPos:-d.gutterTotalWidth)+"px");if(x.setAttribute("aria-hidden","true"),a.display.input.setUneditable(x),C.insertBefore(x,l.text),l.line.gutterClass&&(x.className+=" "+l.line.gutterClass),a.options.lineNumbers&&(!_||!_["CodeMirror-linenumbers"])&&(l.lineNumber=x.appendChild(W("div",Zn(a.options,p),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+d.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px"))),_)for(var E=0;E<a.display.gutterSpecs.length;++E){var M=a.display.gutterSpecs[E].className,G=_.hasOwnProperty(M)&&_[M];G&&x.appendChild(W("div",[G],"CodeMirror-gutter-elt","left: "+d.gutterLeft[M]+"px; width: "+d.gutterWidth[M]+"px"))}}}function kc(a,l,p){l.alignable&&(l.alignable=null);for(var d=K("CodeMirror-linewidget"),v=l.node.firstChild,_=void 0;v;v=_)_=v.nextSibling,d.test(v.className)&&l.node.removeChild(v);Ui(a,l,p)}function Ac(a,l,p,d){var v=Ml(a,l);return l.text=l.node=v.pre,v.bgClass&&(l.bgClass=v.bgClass),v.textClass&&(l.textClass=v.textClass),gs(a,l),Vi(a,l,p,d),Ui(a,l,d),l.node}function Ui(a,l,p){if(Dl(a,l.line,l,p,!0),l.rest)for(var d=0;d<l.rest.length;d++)Dl(a,l.rest[d],l,p,!1)}function Dl(a,l,p,d,v){if(l.widgets)for(var _=Fi(p),C=0,x=l.widgets;C<x.length;++C){var E=x[C],M=W("div",[E.node],"CodeMirror-linewidget"+(E.className?" "+E.className:""));E.handleMouseEvents||M.setAttribute("cm-ignore-events","true"),Mc(E,M,p,d),a.display.input.setUneditable(M),v&&E.above?_.insertBefore(M,p.gutter||p.text):_.appendChild(M),ur(E,"redraw")}}function Mc(a,l,p,d){if(a.noHScroll){(p.alignable||(p.alignable=[])).push(l);var v=d.wrapperWidth;l.style.left=d.fixedPos+"px",a.coverGutter||(v-=d.gutterTotalWidth,l.style.paddingLeft=d.gutterTotalWidth+"px"),l.style.width=v+"px"}a.coverGutter&&(l.style.zIndex=5,l.style.position="relative",a.noHScroll||(l.style.marginLeft=-d.gutterTotalWidth+"px"))}function Hi(a){if(a.height!=null)return a.height;var l=a.doc.cm;if(!l)return 0;if(!L(document.body,a.node)){var p="position: relative;";a.coverGutter&&(p+="margin-left: -"+l.display.gutters.offsetWidth+"px;"),a.noHScroll&&(p+="width: "+l.display.wrapper.clientWidth+"px;"),V(l.display.measure,W("div",[a.node],null,p))}return a.height=a.node.parentNode.offsetHeight}function wo(a,l){for(var p=tt(l);p!=a.wrapper;p=p.parentNode)if(!p||p.nodeType==1&&p.getAttribute("cm-ignore-events")=="true"||p.parentNode==a.sizer&&p!=a.mover)return!0}function Bi(a){return a.lineSpace.offsetTop}function Pa(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function Lc(a){if(a.cachedPaddingH)return a.cachedPaddingH;var l=V(a.measure,W("pre","x","CodeMirror-line-like")),p=window.getComputedStyle?window.getComputedStyle(l):l.currentStyle,d={left:parseInt(p.paddingLeft),right:parseInt(p.paddingRight)};return!isNaN(d.left)&&!isNaN(d.right)&&(a.cachedPaddingH=d),d}function Rn(a){return pt-a.display.nativeBarWidth}function di(a){return a.display.scroller.clientWidth-Rn(a)-a.display.barWidth}function k(a){return a.display.scroller.clientHeight-Rn(a)-a.display.barHeight}function R(a,l,p){var d=a.options.lineWrapping,v=d&&di(a);if(!l.measure.heights||d&&l.measure.width!=v){var _=l.measure.heights=[];if(d){l.measure.width=v;for(var C=l.text.firstChild.getClientRects(),x=0;x<C.length-1;x++){var E=C[x],M=C[x+1];Math.abs(E.bottom-M.bottom)>2&&_.push((E.bottom+M.top)/2-p.top)}}_.push(p.bottom-p.top)}}function J(a,l,p){if(a.line==l)return{map:a.measure.map,cache:a.measure.cache};for(var d=0;d<a.rest.length;d++)if(a.rest[d]==l)return{map:a.measure.maps[d],cache:a.measure.caches[d]};for(var v=0;v<a.rest.length;v++)if(ke(a.rest[v])>p)return{map:a.measure.maps[v],cache:a.measure.caches[v],before:!0}}function et(a,l){l=tr(l);var p=ke(l),d=a.display.externalMeasured=new kl(a.doc,l,p);d.lineN=p;var v=d.built=ps(a,d);return d.text=v.pre,V(a.display.lineMeasure,v.pre),d}function mt(a,l,p,d){return Ht(a,Pt(a,l),p,d)}function ht(a,l){if(l>=a.display.viewFrom&&l<a.display.viewTo)return a.display.view[Ma(a,l)];var p=a.display.externalMeasured;if(p&&l>=p.lineN&&l<p.lineN+p.size)return p}function Pt(a,l){var p=ke(l),d=ht(a,p);d&&!d.text?d=null:d&&d.changes&&(Yo(a,d,p,Up(a)),a.curOp.forceUpdate=!0),d||(d=et(a,l));var v=J(d,l,p);return{line:l,view:d,rect:null,map:v.map,cache:v.cache,before:v.before,hasHeights:!1}}function Ht(a,l,p,d,v){l.before&&(p=-1);var _=p+(d||""),C;return l.cache.hasOwnProperty(_)?C=l.cache[_]:(l.rect||(l.rect=l.view.text.getBoundingClientRect()),l.hasHeights||(R(a,l.view,l.rect),l.hasHeights=!0),C=Yr(a,l,p,d),C.bogus||(l.cache[_]=C)),{left:C.left,right:C.right,top:v?C.rtop:C.top,bottom:v?C.rbottom:C.bottom}}var xe={left:0,right:0,top:0,bottom:0};function be(a,l,p){for(var d,v,_,C,x,E,M=0;M<a.length;M+=3)if(x=a[M],E=a[M+1],l<x?(v=0,_=1,C="left"):l<E?(v=l-x,_=v+1):(M==a.length-3||l==E&&a[M+3]>l)&&(_=E-x,v=_-1,l>=E&&(C="right")),v!=null){if(d=a[M+2],x==E&&p==(d.insertLeft?"left":"right")&&(C=p),p=="left"&&v==0)for(;M&&a[M-2]==a[M-3]&&a[M-1].insertLeft;)d=a[(M-=3)+2],C="left";if(p=="right"&&v==E-x)for(;M<a.length-3&&a[M+3]==a[M+4]&&!a[M+5].insertLeft;)d=a[(M+=3)+2],C="right";break}return{node:d,start:v,end:_,collapse:C,coverStart:x,coverEnd:E}}function kr(a,l){var p=xe;if(l=="left")for(var d=0;d<a.length&&(p=a[d]).left==p.right;d++);else for(var v=a.length-1;v>=0&&(p=a[v]).left==p.right;v--);return p}function Yr(a,l,p,d){var v=be(l.map,p,d),_=v.node,C=v.start,x=v.end,E=v.collapse,M;if(_.nodeType==3){for(var G=0;G<4;G++){for(;C&&vt(l.line.text.charAt(v.coverStart+C));)--C;for(;v.coverStart+x<v.coverEnd&&vt(l.line.text.charAt(v.coverStart+x));)++x;if(u&&c<9&&C==0&&x==v.coverEnd-v.coverStart?M=_.parentNode.getBoundingClientRect():M=kr(it(_,C,x).getClientRects(),d),M.left||M.right||C==0)break;x=C,C=C-1,E="right"}u&&c<11&&(M=Dc(a.display.measure,M))}else{C>0&&(E=d="right");var Z;a.options.lineWrapping&&(Z=_.getClientRects()).length>1?M=Z[d=="right"?Z.length-1:0]:M=_.getBoundingClientRect()}if(u&&c<9&&!C&&(!M||!M.left&&!M.right)){var gt=_.parentNode.getClientRects()[0];gt?M={left:gt.left,right:gt.left+ys(a.display),top:gt.top,bottom:gt.bottom}:M=xe}for(var lt=M.top-l.rect.top,xt=M.bottom-l.rect.top,Lt=(lt+xt)/2,Ft=l.view.measure.heights,Xt=0;Xt<Ft.length-1&&!(Lt<Ft[Xt]);Xt++);var re=Xt?Ft[Xt-1]:0,qt=Ft[Xt],oe={left:(E=="right"?M.right:M.left)-l.rect.left,right:(E=="left"?M.left:M.right)-l.rect.left,top:re,bottom:qt};return!M.left&&!M.right&&(oe.bogus=!0),a.options.singleCursorHeightPerLine||(oe.rtop=lt,oe.rbottom=xt),oe}function Dc(a,l){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!tn(a))return l;var p=screen.logicalXDPI/screen.deviceXDPI,d=screen.logicalYDPI/screen.deviceYDPI;return{left:l.left*p,right:l.right*p,top:l.top*d,bottom:l.bottom*d}}function jl(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var l=0;l<a.rest.length;l++)a.measure.caches[l]={}}function Zm(a){a.display.externalMeasure=null,H(a.display.lineMeasure);for(var l=0;l<a.display.view.length;l++)jl(a.display.view[l])}function Nl(a){Zm(a),a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function Qm(){return g&&S?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ty(){return g&&S?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Ip(a){var l=0;if(a.widgets)for(var p=0;p<a.widgets.length;++p)a.widgets[p].above&&(l+=Hi(a.widgets[p]));return l}function jc(a,l,p,d,v){if(!v){var _=Ip(l);p.top+=_,p.bottom+=_}if(d=="line")return p;d||(d="local");var C=_o(l);if(d=="local"?C+=Bi(a.display):C-=a.display.viewOffset,d=="page"||d=="window"){var x=a.display.lineSpace.getBoundingClientRect();C+=x.top+(d=="window"?0:ty());var E=x.left+(d=="window"?0:Qm());p.left+=E,p.right+=E}return p.top+=C,p.bottom+=C,p}function ey(a,l,p){if(p=="div")return l;var d=l.left,v=l.top;if(p=="page")d-=Qm(),v-=ty();else if(p=="local"||!p){var _=a.display.sizer.getBoundingClientRect();d+=_.left,v+=_.top}var C=a.display.lineSpace.getBoundingClientRect();return{left:d-C.left,top:v-C.top}}function Nc(a,l,p,d,v){return d||(d=ne(a.doc,l.line)),jc(a,d,mt(a,d,l.ch,v),p)}function No(a,l,p,d,v,_){d=d||ne(a.doc,l.line),v||(v=Pt(a,d));function C(xt,Lt){var Ft=Ht(a,v,xt,Lt?"right":"left",_);return Lt?Ft.left=Ft.right:Ft.right=Ft.left,jc(a,d,Ft,p)}var x=N(d,a.doc.direction),E=l.ch,M=l.sticky;if(E>=d.text.length?(E=d.text.length,M="before"):E<=0&&(E=0,M="after"),!x)return C(M=="before"?E-1:E,M=="before");function G(xt,Lt,Ft){var Xt=x[Lt],re=Xt.level==1;return C(Ft?xt-1:xt,re!=Ft)}var Z=B(x,E,M),gt=ge,lt=G(E,Z,M=="before");return gt!=null&&(lt.other=G(E,gt,M!="before")),lt}function ry(a,l){var p=0;l=Rt(a.doc,l),a.options.lineWrapping||(p=ys(a.display)*l.ch);var d=ne(a.doc,l.line),v=_o(d)+Bi(a.display);return{left:p,right:p,top:v,bottom:v+d.height}}function Rp(a,l,p,d,v){var _=jt(a,l,p);return _.xRel=v,d&&(_.outside=d),_}function Fp(a,l,p){var d=a.doc;if(p+=a.display.viewOffset,p<0)return Rp(d.first,0,null,-1,-1);var v=ze(d,p),_=d.first+d.size-1;if(v>_)return Rp(d.first+d.size-1,ne(d,_).text.length,null,1,1);l<0&&(l=0);for(var C=ne(d,v);;){var x=u1(a,C,v,l,p),E=De(C,x.ch+(x.xRel>0||x.outside>0?1:0));if(!E)return x;var M=E.find(1);if(M.line==v)return M;C=ne(d,v=M.line)}}function ny(a,l,p,d){d-=Ip(l);var v=l.text.length,_=ie(function(C){return Ht(a,p,C-1).bottom<=d},v,0);return v=ie(function(C){return Ht(a,p,C).top>d},_,v),{begin:_,end:v}}function oy(a,l,p,d){p||(p=Pt(a,l));var v=jc(a,l,Ht(a,p,d),"line").top;return ny(a,l,p,v)}function Vp(a,l,p,d){return a.bottom<=p?!1:a.top>p?!0:(d?a.left:a.right)>l}function u1(a,l,p,d,v){v-=_o(l);var _=Pt(a,l),C=Ip(l),x=0,E=l.text.length,M=!0,G=N(l,a.doc.direction);if(G){var Z=(a.options.lineWrapping?f1:c1)(a,l,p,_,G,d,v);M=Z.level!=1,x=M?Z.from:Z.to-1,E=M?Z.to:Z.from-1}var gt=null,lt=null,xt=ie(function(he){var fe=Ht(a,_,he);return fe.top+=C,fe.bottom+=C,Vp(fe,d,v,!1)?(fe.top<=v&&fe.left<=d&&(gt=he,lt=fe),!0):!1},x,E),Lt,Ft,Xt=!1;if(lt){var re=d-lt.left<lt.right-d,qt=re==M;xt=gt+(qt?0:1),Ft=qt?"after":"before",Lt=re?lt.left:lt.right}else{!M&&(xt==E||xt==x)&&xt++,Ft=xt==0?"after":xt==l.text.length?"before":Ht(a,_,xt-(M?1:0)).bottom+C<=v==M?"after":"before";var oe=No(a,jt(p,xt,Ft),"line",l,_);Lt=oe.left,Xt=v<oe.top?-1:v>=oe.bottom?1:0}return xt=ut(l.text,xt,1),Rp(p,xt,Ft,Xt,d-Lt)}function c1(a,l,p,d,v,_,C){var x=ie(function(Z){var gt=v[Z],lt=gt.level!=1;return Vp(No(a,jt(p,lt?gt.to:gt.from,lt?"before":"after"),"line",l,d),_,C,!0)},0,v.length-1),E=v[x];if(x>0){var M=E.level!=1,G=No(a,jt(p,M?E.from:E.to,M?"after":"before"),"line",l,d);Vp(G,_,C,!0)&&G.top>C&&(E=v[x-1])}return E}function f1(a,l,p,d,v,_,C){var x=ny(a,l,d,C),E=x.begin,M=x.end;/\s/.test(l.text.charAt(M-1))&&M--;for(var G=null,Z=null,gt=0;gt<v.length;gt++){var lt=v[gt];if(!(lt.from>=M||lt.to<=E)){var xt=lt.level!=1,Lt=Ht(a,d,xt?Math.min(M,lt.to)-1:Math.max(E,lt.from)).right,Ft=Lt<_?_-Lt+1e9:Lt-_;(!G||Z>Ft)&&(G=lt,Z=Ft)}}return G||(G=v[v.length-1]),G.from<E&&(G={from:E,to:G.to,level:G.level}),G.to>M&&(G={from:G.from,to:M,level:G.level}),G}var ka;function ms(a){if(a.cachedTextHeight!=null)return a.cachedTextHeight;if(ka==null){ka=W("pre",null,"CodeMirror-line-like");for(var l=0;l<49;++l)ka.appendChild(document.createTextNode("x")),ka.appendChild(W("br"));ka.appendChild(document.createTextNode("x"))}V(a.measure,ka);var p=ka.offsetHeight/50;return p>3&&(a.cachedTextHeight=p),H(a.measure),p||1}function ys(a){if(a.cachedCharWidth!=null)return a.cachedCharWidth;var l=W("span","xxxxxxxxxx"),p=W("pre",[l],"CodeMirror-line-like");V(a.measure,p);var d=l.getBoundingClientRect(),v=(d.right-d.left)/10;return v>2&&(a.cachedCharWidth=v),v||10}function Up(a){for(var l=a.display,p={},d={},v=l.gutters.clientLeft,_=l.gutters.firstChild,C=0;_;_=_.nextSibling,++C){var x=a.display.gutterSpecs[C].className;p[x]=_.offsetLeft+_.clientLeft+v,d[x]=_.clientWidth}return{fixedPos:Hp(l),gutterTotalWidth:l.gutters.offsetWidth,gutterLeft:p,gutterWidth:d,wrapperWidth:l.wrapper.clientWidth}}function Hp(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function iy(a){var l=ms(a.display),p=a.options.lineWrapping,d=p&&Math.max(5,a.display.scroller.clientWidth/ys(a.display)-3);return function(v){if(mn(a.doc,v))return 0;var _=0;if(v.widgets)for(var C=0;C<v.widgets.length;C++)v.widgets[C].height&&(_+=v.widgets[C].height);return p?_+(Math.ceil(v.text.length/d)||1)*l:_+l}}function Bp(a){var l=a.doc,p=iy(a);l.iter(function(d){var v=p(d);v!=d.height&&Nr(d,v)})}function Aa(a,l,p,d){var v=a.display;if(!p&&tt(l).getAttribute("cm-not-content")=="true")return null;var _,C,x=v.lineSpace.getBoundingClientRect();try{_=l.clientX-x.left,C=l.clientY-x.top}catch{return null}var E=Fp(a,_,C),M;if(d&&E.xRel>0&&(M=ne(a.doc,E.line).text).length==E.ch){var G=Vt(M,M.length,a.options.tabSize)-M.length;E=jt(E.line,Math.max(0,Math.round((_-Lc(a.display).left)/ys(a.display))-G))}return E}function Ma(a,l){if(l>=a.display.viewTo||(l-=a.display.viewFrom,l<0))return null;for(var p=a.display.view,d=0;d<p.length;d++)if(l-=p[d].size,l<0)return d}function yn(a,l,p,d){l==null&&(l=a.doc.first),p==null&&(p=a.doc.first+a.doc.size),d||(d=0);var v=a.display;if(d&&p<v.viewTo&&(v.updateLineNumbers==null||v.updateLineNumbers>l)&&(v.updateLineNumbers=l),a.curOp.viewChanged=!0,l>=v.viewTo)Er&&yo(a.doc,l)<v.viewTo&&Wi(a);else if(p<=v.viewFrom)Er&&gn(a.doc,p+d)>v.viewFrom?Wi(a):(v.viewFrom+=d,v.viewTo+=d);else if(l<=v.viewFrom&&p>=v.viewTo)Wi(a);else if(l<=v.viewFrom){var _=Ic(a,p,p+d,1);_?(v.view=v.view.slice(_.index),v.viewFrom=_.lineN,v.viewTo+=d):Wi(a)}else if(p>=v.viewTo){var C=Ic(a,l,l,-1);C?(v.view=v.view.slice(0,C.index),v.viewTo=C.lineN):Wi(a)}else{var x=Ic(a,l,l,-1),E=Ic(a,p,p+d,1);x&&E?(v.view=v.view.slice(0,x.index).concat(vs(a,x.lineN,E.lineN)).concat(v.view.slice(E.index)),v.viewTo+=d):Wi(a)}var M=v.externalMeasured;M&&(p<M.lineN?M.lineN+=d:l<M.lineN+M.size&&(v.externalMeasured=null))}function zi(a,l,p){a.curOp.viewChanged=!0;var d=a.display,v=a.display.externalMeasured;if(v&&l>=v.lineN&&l<v.lineN+v.size&&(d.externalMeasured=null),!(l<d.viewFrom||l>=d.viewTo)){var _=d.view[Ma(a,l)];if(_.node!=null){var C=_.changes||(_.changes=[]);te(C,p)==-1&&C.push(p)}}}function Wi(a){a.display.viewFrom=a.display.viewTo=a.doc.first,a.display.view=[],a.display.viewOffset=0}function Ic(a,l,p,d){var v=Ma(a,l),_,C=a.display.view;if(!Er||p==a.doc.first+a.doc.size)return{index:v,lineN:p};for(var x=a.display.viewFrom,E=0;E<v;E++)x+=C[E].size;if(x!=l){if(d>0){if(v==C.length-1)return null;_=x+C[v].size-l,v++}else _=x-l;l+=_,p+=_}for(;yo(a.doc,p)!=p;){if(v==(d<0?0:C.length-1))return null;p+=d*C[v-(d<0?1:0)].size,v+=d}return{index:v,lineN:p}}function d1(a,l,p){var d=a.display,v=d.view;v.length==0||l>=d.viewTo||p<=d.viewFrom?(d.view=vs(a,l,p),d.viewFrom=l):(d.viewFrom>l?d.view=vs(a,l,d.viewFrom).concat(d.view):d.viewFrom<l&&(d.view=d.view.slice(Ma(a,l))),d.viewFrom=l,d.viewTo<p?d.view=d.view.concat(vs(a,d.viewTo,p)):d.viewTo>p&&(d.view=d.view.slice(0,Ma(a,p)))),d.viewTo=p}function ay(a){for(var l=a.display.view,p=0,d=0;d<l.length;d++){var v=l[d];!v.hidden&&(!v.node||v.changes)&&++p}return p}function Il(a){a.display.input.showSelection(a.display.input.prepareSelection())}function sy(a,l){l===void 0&&(l=!0);for(var p=a.doc,d={},v=d.cursors=document.createDocumentFragment(),_=d.selection=document.createDocumentFragment(),C=0;C<p.sel.ranges.length;C++)if(!(!l&&C==p.sel.primIndex)){var x=p.sel.ranges[C];if(!(x.from().line>=a.display.viewTo||x.to().line<a.display.viewFrom)){var E=x.empty();(E||a.options.showCursorWhenSelecting)&&ly(a,x.head,v),E||p1(a,x,_)}}return d}function ly(a,l,p){var d=No(a,l,"div",null,null,!a.options.singleCursorHeightPerLine),v=p.appendChild(W("div"," ","CodeMirror-cursor"));if(v.style.left=d.left+"px",v.style.top=d.top+"px",v.style.height=Math.max(0,d.bottom-d.top)*a.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(a.getWrapperElement().className)){var _=Nc(a,l,"div",null,null);_.right-_.left>0&&(v.style.width=_.right-_.left+"px")}if(d.other){var C=p.appendChild(W("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));C.style.display="",C.style.left=d.other.left+"px",C.style.top=d.other.top+"px",C.style.height=(d.other.bottom-d.other.top)*.85+"px"}}function Rc(a,l){return a.top-l.top||a.left-l.left}function p1(a,l,p){var d=a.display,v=a.doc,_=document.createDocumentFragment(),C=Lc(a.display),x=C.left,E=Math.max(d.sizerWidth,di(a)-d.sizer.offsetLeft)-C.right,M=v.direction=="ltr";function G(qt,oe,he,fe){oe<0&&(oe=0),oe=Math.round(oe),fe=Math.round(fe),_.appendChild(W("div",null,"CodeMirror-selected","position: absolute; left: "+qt+`px;
                             top: `+oe+"px; width: "+(he??E-qt)+`px;
                             height: `+(fe-oe)+"px"))}function Z(qt,oe,he){var fe=ne(v,qt),Te=fe.text.length,Ke,Vr;function ar(br,Cn){return Nc(a,jt(qt,br),"div",fe,Cn)}function Vn(br,Cn,Wr){var Ar=oy(a,fe,null,br),xr=Cn=="ltr"==(Wr=="after")?"left":"right",cr=Wr=="after"?Ar.begin:Ar.end-(/\s/.test(fe.text.charAt(Ar.end-1))?2:1);return ar(cr,xr)[xr]}var wn=N(fe,v.direction);return Ce(wn,oe||0,he??Te,function(br,Cn,Wr,Ar){var xr=Wr=="ltr",cr=ar(br,xr?"left":"right"),bn=ar(Cn-1,xr?"right":"left"),Ms=oe==null&&br==0,qi=he==null&&Cn==Te,qr=Ar==0,Xo=!wn||Ar==wn.length-1;if(bn.top-cr.top<=3){var Ur=(M?Ms:qi)&&qr,hh=(M?qi:Ms)&&Xo,hi=Ur?x:(xr?cr:bn).left,Ia=hh?E:(xr?bn:cr).right;G(hi,cr.top,Ia-hi,cr.bottom)}else{var Ra,an,Ls,vh;xr?(Ra=M&&Ms&&qr?x:cr.left,an=M?E:Vn(br,Wr,"before"),Ls=M?x:Vn(Cn,Wr,"after"),vh=M&&qi&&Xo?E:bn.right):(Ra=M?Vn(br,Wr,"before"):x,an=!M&&Ms&&qr?E:cr.right,Ls=!M&&qi&&Xo?x:bn.left,vh=M?Vn(Cn,Wr,"after"):E),G(Ra,cr.top,an-Ra,cr.bottom),cr.bottom<bn.top&&G(x,cr.bottom,null,bn.top),G(Ls,bn.top,vh-Ls,bn.bottom)}(!Ke||Rc(cr,Ke)<0)&&(Ke=cr),Rc(bn,Ke)<0&&(Ke=bn),(!Vr||Rc(cr,Vr)<0)&&(Vr=cr),Rc(bn,Vr)<0&&(Vr=bn)}),{start:Ke,end:Vr}}var gt=l.from(),lt=l.to();if(gt.line==lt.line)Z(gt.line,gt.ch,lt.ch);else{var xt=ne(v,gt.line),Lt=ne(v,lt.line),Ft=tr(xt)==tr(Lt),Xt=Z(gt.line,gt.ch,Ft?xt.text.length+1:null).end,re=Z(lt.line,Ft?0:null,lt.ch).start;Ft&&(Xt.top<re.top-2?(G(Xt.right,Xt.top,null,Xt.bottom),G(x,re.top,re.left,re.bottom)):G(Xt.right,Xt.top,re.left-Xt.right,Xt.bottom)),Xt.bottom<re.top&&G(x,Xt.bottom,null,re.top)}p.appendChild(_)}function zp(a){if(a.state.focused){var l=a.display;clearInterval(l.blinker);var p=!0;l.cursorDiv.style.visibility="",a.options.cursorBlinkRate>0?l.blinker=setInterval(function(){a.hasFocus()||_s(a),l.cursorDiv.style.visibility=(p=!p)?"":"hidden"},a.options.cursorBlinkRate):a.options.cursorBlinkRate<0&&(l.cursorDiv.style.visibility="hidden")}}function uy(a){a.hasFocus()||(a.display.input.focus(),a.state.focused||Kp(a))}function Wp(a){a.state.delayingBlurEvent=!0,setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,a.state.focused&&_s(a))},100)}function Kp(a,l){a.state.delayingBlurEvent&&!a.state.draggingText&&(a.state.delayingBlurEvent=!1),a.options.readOnly!="nocursor"&&(a.state.focused||(Zt(a,"focus",a,l),a.state.focused=!0,nt(a.display.wrapper,"CodeMirror-focused"),!a.curOp&&a.display.selForContextMenu!=a.doc.sel&&(a.display.input.reset(),f&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),zp(a))}function _s(a,l){a.state.delayingBlurEvent||(a.state.focused&&(Zt(a,"blur",a,l),a.state.focused=!1,rt(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function Fc(a){for(var l=a.display,p=l.lineDiv.offsetTop,d=Math.max(0,l.scroller.getBoundingClientRect().top),v=l.lineDiv.getBoundingClientRect().top,_=0,C=0;C<l.view.length;C++){var x=l.view[C],E=a.options.lineWrapping,M=void 0,G=0;if(!x.hidden){if(v+=x.line.height,u&&c<8){var Z=x.node.offsetTop+x.node.offsetHeight;M=Z-p,p=Z}else{var gt=x.node.getBoundingClientRect();M=gt.bottom-gt.top,!E&&x.text.firstChild&&(G=x.text.firstChild.getBoundingClientRect().right-gt.left-1)}var lt=x.line.height-M;if((lt>.005||lt<-.005)&&(v<d&&(_-=lt),Nr(x.line,M),cy(x.line),x.rest))for(var xt=0;xt<x.rest.length;xt++)cy(x.rest[xt]);if(G>a.display.sizerWidth){var Lt=Math.ceil(G/ys(a.display));Lt>a.display.maxLineLength&&(a.display.maxLineLength=Lt,a.display.maxLine=x.line,a.display.maxLineChanged=!0)}}}Math.abs(_)>2&&(l.scroller.scrollTop+=_)}function cy(a){if(a.widgets)for(var l=0;l<a.widgets.length;++l){var p=a.widgets[l],d=p.node.parentNode;d&&(p.height=d.offsetHeight)}}function Vc(a,l,p){var d=p&&p.top!=null?Math.max(0,p.top):a.scroller.scrollTop;d=Math.floor(d-Bi(a));var v=p&&p.bottom!=null?p.bottom:d+a.wrapper.clientHeight,_=ze(l,d),C=ze(l,v);if(p&&p.ensure){var x=p.ensure.from.line,E=p.ensure.to.line;x<_?(_=x,C=ze(l,_o(ne(l,x))+a.wrapper.clientHeight)):Math.min(E,l.lastLine())>=C&&(_=ze(l,_o(ne(l,E))-a.wrapper.clientHeight),C=E)}return{from:_,to:Math.max(C,_+1)}}function h1(a,l){if(!Kt(a,"scrollCursorIntoView")){var p=a.display,d=p.sizer.getBoundingClientRect(),v=null;if(l.top+d.top<0?v=!0:l.bottom+d.top>(window.innerHeight||document.documentElement.clientHeight)&&(v=!1),v!=null&&!b){var _=W("div","​",null,`position: absolute;
                         top: `+(l.top-p.viewOffset-Bi(a.display))+`px;
                         height: `+(l.bottom-l.top+Rn(a)+p.barHeight)+`px;
                         left: `+l.left+"px; width: "+Math.max(2,l.right-l.left)+"px;");a.display.lineSpace.appendChild(_),_.scrollIntoView(v),a.display.lineSpace.removeChild(_)}}}function v1(a,l,p,d){d==null&&(d=0);var v;!a.options.lineWrapping&&l==p&&(p=l.sticky=="before"?jt(l.line,l.ch+1,"before"):l,l=l.ch?jt(l.line,l.sticky=="before"?l.ch-1:l.ch,"after"):l);for(var _=0;_<5;_++){var C=!1,x=No(a,l),E=!p||p==l?x:No(a,p);v={left:Math.min(x.left,E.left),top:Math.min(x.top,E.top)-d,right:Math.max(x.left,E.left),bottom:Math.max(x.bottom,E.bottom)+d};var M=$p(a,v),G=a.doc.scrollTop,Z=a.doc.scrollLeft;if(M.scrollTop!=null&&(Fl(a,M.scrollTop),Math.abs(a.doc.scrollTop-G)>1&&(C=!0)),M.scrollLeft!=null&&(La(a,M.scrollLeft),Math.abs(a.doc.scrollLeft-Z)>1&&(C=!0)),!C)break}return v}function g1(a,l){var p=$p(a,l);p.scrollTop!=null&&Fl(a,p.scrollTop),p.scrollLeft!=null&&La(a,p.scrollLeft)}function $p(a,l){var p=a.display,d=ms(a.display);l.top<0&&(l.top=0);var v=a.curOp&&a.curOp.scrollTop!=null?a.curOp.scrollTop:p.scroller.scrollTop,_=k(a),C={};l.bottom-l.top>_&&(l.bottom=l.top+_);var x=a.doc.height+Pa(p),E=l.top<d,M=l.bottom>x-d;if(l.top<v)C.scrollTop=E?0:l.top;else if(l.bottom>v+_){var G=Math.min(l.top,(M?x:l.bottom)-_);G!=v&&(C.scrollTop=G)}var Z=a.options.fixedGutter?0:p.gutters.offsetWidth,gt=a.curOp&&a.curOp.scrollLeft!=null?a.curOp.scrollLeft:p.scroller.scrollLeft-Z,lt=di(a)-p.gutters.offsetWidth,xt=l.right-l.left>lt;return xt&&(l.right=l.left+lt),l.left<10?C.scrollLeft=0:l.left<gt?C.scrollLeft=Math.max(0,l.left+Z-(xt?0:10)):l.right>lt+gt-3&&(C.scrollLeft=l.right+(xt?0:10)-lt),C}function Gp(a,l){l!=null&&(Uc(a),a.curOp.scrollTop=(a.curOp.scrollTop==null?a.doc.scrollTop:a.curOp.scrollTop)+l)}function ws(a){Uc(a);var l=a.getCursor();a.curOp.scrollToPos={from:l,to:l,margin:a.options.cursorScrollMargin}}function Rl(a,l,p){(l!=null||p!=null)&&Uc(a),l!=null&&(a.curOp.scrollLeft=l),p!=null&&(a.curOp.scrollTop=p)}function m1(a,l){Uc(a),a.curOp.scrollToPos=l}function Uc(a){var l=a.curOp.scrollToPos;if(l){a.curOp.scrollToPos=null;var p=ry(a,l.from),d=ry(a,l.to);fy(a,p,d,l.margin)}}function fy(a,l,p,d){var v=$p(a,{left:Math.min(l.left,p.left),top:Math.min(l.top,p.top)-d,right:Math.max(l.right,p.right),bottom:Math.max(l.bottom,p.bottom)+d});Rl(a,v.scrollLeft,v.scrollTop)}function Fl(a,l){Math.abs(a.doc.scrollTop-l)<2||(e||Xp(a,{top:l}),dy(a,l,!0),e&&Xp(a),Hl(a,100))}function dy(a,l,p){l=Math.max(0,Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,l)),!(a.display.scroller.scrollTop==l&&!p)&&(a.doc.scrollTop=l,a.display.scrollbars.setScrollTop(l),a.display.scroller.scrollTop!=l&&(a.display.scroller.scrollTop=l))}function La(a,l,p,d){l=Math.max(0,Math.min(l,a.display.scroller.scrollWidth-a.display.scroller.clientWidth)),!((p?l==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-l)<2)&&!d)&&(a.doc.scrollLeft=l,my(a),a.display.scroller.scrollLeft!=l&&(a.display.scroller.scrollLeft=l),a.display.scrollbars.setScrollLeft(l))}function Vl(a){var l=a.display,p=l.gutters.offsetWidth,d=Math.round(a.doc.height+Pa(a.display));return{clientHeight:l.scroller.clientHeight,viewHeight:l.wrapper.clientHeight,scrollWidth:l.scroller.scrollWidth,clientWidth:l.scroller.clientWidth,viewWidth:l.wrapper.clientWidth,barLeft:a.options.fixedGutter?p:0,docHeight:d,scrollHeight:d+Rn(a)+l.barHeight,nativeBarWidth:l.nativeBarWidth,gutterWidth:p}}var Da=function(a,l,p){this.cm=p;var d=this.vert=W("div",[W("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),v=this.horiz=W("div",[W("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");d.tabIndex=v.tabIndex=-1,a(d),a(v),yt(d,"scroll",function(){d.clientHeight&&l(d.scrollTop,"vertical")}),yt(v,"scroll",function(){v.clientWidth&&l(v.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,u&&c<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Da.prototype.update=function(a){var l=a.scrollWidth>a.clientWidth+1,p=a.scrollHeight>a.clientHeight+1,d=a.nativeBarWidth;if(p){this.vert.style.display="block",this.vert.style.bottom=l?d+"px":"0";var v=a.viewHeight-(l?d:0);this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+v)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(l){this.horiz.style.display="block",this.horiz.style.right=p?d+"px":"0",this.horiz.style.left=a.barLeft+"px";var _=a.viewWidth-a.barLeft-(p?d:0);this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+_)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&a.clientHeight>0&&(d==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:p?d:0,bottom:l?d:0}},Da.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Da.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Da.prototype.zeroWidthHack=function(){var a=T&&!w?"12px":"18px";this.horiz.style.height=this.vert.style.width=a,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Tt,this.disableVert=new Tt},Da.prototype.enableZeroWidthBar=function(a,l,p){a.style.pointerEvents="auto";function d(){var v=a.getBoundingClientRect(),_=p=="vert"?document.elementFromPoint(v.right-1,(v.top+v.bottom)/2):document.elementFromPoint((v.right+v.left)/2,v.bottom-1);_!=a?a.style.pointerEvents="none":l.set(1e3,d)}l.set(1e3,d)},Da.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz),a.removeChild(this.vert)};var Ul=function(){};Ul.prototype.update=function(){return{bottom:0,right:0}},Ul.prototype.setScrollLeft=function(){},Ul.prototype.setScrollTop=function(){},Ul.prototype.clear=function(){};function Cs(a,l){l||(l=Vl(a));var p=a.display.barWidth,d=a.display.barHeight;py(a,l);for(var v=0;v<4&&p!=a.display.barWidth||d!=a.display.barHeight;v++)p!=a.display.barWidth&&a.options.lineWrapping&&Fc(a),py(a,Vl(a)),p=a.display.barWidth,d=a.display.barHeight}function py(a,l){var p=a.display,d=p.scrollbars.update(l);p.sizer.style.paddingRight=(p.barWidth=d.right)+"px",p.sizer.style.paddingBottom=(p.barHeight=d.bottom)+"px",p.heightForcer.style.borderBottom=d.bottom+"px solid transparent",d.right&&d.bottom?(p.scrollbarFiller.style.display="block",p.scrollbarFiller.style.height=d.bottom+"px",p.scrollbarFiller.style.width=d.right+"px"):p.scrollbarFiller.style.display="",d.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(p.gutterFiller.style.display="block",p.gutterFiller.style.height=d.bottom+"px",p.gutterFiller.style.width=l.gutterWidth+"px"):p.gutterFiller.style.display=""}var hy={native:Da,null:Ul};function vy(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&rt(a.display.wrapper,a.display.scrollbars.addClass)),a.display.scrollbars=new hy[a.options.scrollbarStyle](function(l){a.display.wrapper.insertBefore(l,a.display.scrollbarFiller),yt(l,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)}),l.setAttribute("cm-not-content","true")},function(l,p){p=="horizontal"?La(a,l):Fl(a,l)},a),a.display.scrollbars.addClass&&nt(a.display.wrapper,a.display.scrollbars.addClass)}var y1=0;function ja(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++y1,markArrays:null},Ec(a.curOp)}function Na(a){var l=a.curOp;l&&Al(l,function(p){for(var d=0;d<p.ops.length;d++)p.ops[d].cm.curOp=null;_1(p)})}function _1(a){for(var l=a.ops,p=0;p<l.length;p++)w1(l[p]);for(var d=0;d<l.length;d++)C1(l[d]);for(var v=0;v<l.length;v++)b1(l[v]);for(var _=0;_<l.length;_++)x1(l[_]);for(var C=0;C<l.length;C++)S1(l[C])}function w1(a){var l=a.cm,p=l.display;T1(l),a.updateMaxLine&&Ni(l),a.mustUpdate=a.viewChanged||a.forceUpdate||a.scrollTop!=null||a.scrollToPos&&(a.scrollToPos.from.line<p.viewFrom||a.scrollToPos.to.line>=p.viewTo)||p.maxLineChanged&&l.options.lineWrapping,a.update=a.mustUpdate&&new Hc(l,a.mustUpdate&&{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate)}function C1(a){a.updatedDisplay=a.mustUpdate&&Yp(a.cm,a.update)}function b1(a){var l=a.cm,p=l.display;a.updatedDisplay&&Fc(l),a.barMeasure=Vl(l),p.maxLineChanged&&!l.options.lineWrapping&&(a.adjustWidthTo=mt(l,p.maxLine,p.maxLine.text.length).left+3,l.display.sizerWidth=a.adjustWidthTo,a.barMeasure.scrollWidth=Math.max(p.scroller.clientWidth,p.sizer.offsetLeft+a.adjustWidthTo+Rn(l)+l.display.barWidth),a.maxScrollLeft=Math.max(0,p.sizer.offsetLeft+a.adjustWidthTo-di(l))),(a.updatedDisplay||a.selectionChanged)&&(a.preparedSelection=p.input.prepareSelection())}function x1(a){var l=a.cm;a.adjustWidthTo!=null&&(l.display.sizer.style.minWidth=a.adjustWidthTo+"px",a.maxScrollLeft<l.doc.scrollLeft&&La(l,Math.min(l.display.scroller.scrollLeft,a.maxScrollLeft),!0),l.display.maxLineChanged=!1);var p=a.focus&&a.focus==_t();a.preparedSelection&&l.display.input.showSelection(a.preparedSelection,p),(a.updatedDisplay||a.startHeight!=l.doc.height)&&Cs(l,a.barMeasure),a.updatedDisplay&&Jp(l,a.barMeasure),a.selectionChanged&&zp(l),l.state.focused&&a.updateInput&&l.display.input.reset(a.typing),p&&uy(a.cm)}function S1(a){var l=a.cm,p=l.display,d=l.doc;if(a.updatedDisplay&&gy(l,a.update),p.wheelStartX!=null&&(a.scrollTop!=null||a.scrollLeft!=null||a.scrollToPos)&&(p.wheelStartX=p.wheelStartY=null),a.scrollTop!=null&&dy(l,a.scrollTop,a.forceScroll),a.scrollLeft!=null&&La(l,a.scrollLeft,!0,!0),a.scrollToPos){var v=v1(l,Rt(d,a.scrollToPos.from),Rt(d,a.scrollToPos.to),a.scrollToPos.margin);h1(l,v)}var _=a.maybeHiddenMarkers,C=a.maybeUnhiddenMarkers;if(_)for(var x=0;x<_.length;++x)_[x].lines.length||Zt(_[x],"hide");if(C)for(var E=0;E<C.length;++E)C[E].lines.length&&Zt(C[E],"unhide");p.wrapper.offsetHeight&&(d.scrollTop=l.display.scroller.scrollTop),a.changeObjs&&Zt(l,"changes",l,a.changeObjs),a.update&&a.update.finish()}function Fn(a,l){if(a.curOp)return l();ja(a);try{return l()}finally{Na(a)}}function Rr(a,l){return function(){if(a.curOp)return l.apply(a,arguments);ja(a);try{return l.apply(a,arguments)}finally{Na(a)}}}function on(a){return function(){if(this.curOp)return a.apply(this,arguments);ja(this);try{return a.apply(this,arguments)}finally{Na(this)}}}function Fr(a){return function(){var l=this.cm;if(!l||l.curOp)return a.apply(this,arguments);ja(l);try{return a.apply(this,arguments)}finally{Na(l)}}}function Hl(a,l){a.doc.highlightFrontier<a.display.viewTo&&a.state.highlight.set(l,st(O1,a))}function O1(a){var l=a.doc;if(!(l.highlightFrontier>=a.display.viewTo)){var p=+new Date+a.options.workTime,d=ni(a,l.highlightFrontier),v=[];l.iter(d.line,Math.min(l.first+l.size,a.display.viewTo+500),function(_){if(d.line>=a.display.viewFrom){var C=_.styles,x=_.text.length>a.options.maxHighlightLength?yr(l.mode,d.state):null,E=Nn(a,_,d,!0);x&&(d.state=x),_.styles=E.styles;var M=_.styleClasses,G=E.classes;G?_.styleClasses=G:M&&(_.styleClasses=null);for(var Z=!C||C.length!=_.styles.length||M!=G&&(!M||!G||M.bgClass!=G.bgClass||M.textClass!=G.textClass),gt=0;!Z&&gt<C.length;++gt)Z=C[gt]!=_.styles[gt];Z&&v.push(d.line),_.stateAfter=d.save(),d.nextLine()}else _.text.length<=a.options.maxHighlightLength&&oi(a,_.text,d),_.stateAfter=d.line%5==0?d.save():null,d.nextLine();if(+new Date>p)return Hl(a,a.options.workDelay),!0}),l.highlightFrontier=d.line,l.modeFrontier=Math.max(l.modeFrontier,d.line),v.length&&Fn(a,function(){for(var _=0;_<v.length;_++)zi(a,v[_],"text")})}}var Hc=function(a,l,p){var d=a.display;this.viewport=l,this.visible=Vc(d,a.doc,l),this.editorIsHidden=!d.wrapper.offsetWidth,this.wrapperHeight=d.wrapper.clientHeight,this.wrapperWidth=d.wrapper.clientWidth,this.oldDisplayWidth=di(a),this.force=p,this.dims=Up(a),this.events=[]};Hc.prototype.signal=function(a,l){Oe(a,l)&&this.events.push(arguments)},Hc.prototype.finish=function(){for(var a=0;a<this.events.length;a++)Zt.apply(null,this.events[a])};function T1(a){var l=a.display;!l.scrollbarsClipped&&l.scroller.offsetWidth&&(l.nativeBarWidth=l.scroller.offsetWidth-l.scroller.clientWidth,l.heightForcer.style.height=Rn(a)+"px",l.sizer.style.marginBottom=-l.nativeBarWidth+"px",l.sizer.style.borderRightWidth=Rn(a)+"px",l.scrollbarsClipped=!0)}function E1(a){if(a.hasFocus())return null;var l=_t();if(!l||!L(a.display.lineDiv,l))return null;var p={activeElt:l};if(window.getSelection){var d=window.getSelection();d.anchorNode&&d.extend&&L(a.display.lineDiv,d.anchorNode)&&(p.anchorNode=d.anchorNode,p.anchorOffset=d.anchorOffset,p.focusNode=d.focusNode,p.focusOffset=d.focusOffset)}return p}function P1(a){if(!(!a||!a.activeElt||a.activeElt==_t())&&(a.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(a.activeElt.nodeName)&&a.anchorNode&&L(document.body,a.anchorNode)&&L(document.body,a.focusNode))){var l=window.getSelection(),p=document.createRange();p.setEnd(a.anchorNode,a.anchorOffset),p.collapse(!1),l.removeAllRanges(),l.addRange(p),l.extend(a.focusNode,a.focusOffset)}}function Yp(a,l){var p=a.display,d=a.doc;if(l.editorIsHidden)return Wi(a),!1;if(!l.force&&l.visible.from>=p.viewFrom&&l.visible.to<=p.viewTo&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo)&&p.renderedView==p.view&&ay(a)==0)return!1;yy(a)&&(Wi(a),l.dims=Up(a));var v=d.first+d.size,_=Math.max(l.visible.from-a.options.viewportMargin,d.first),C=Math.min(v,l.visible.to+a.options.viewportMargin);p.viewFrom<_&&_-p.viewFrom<20&&(_=Math.max(d.first,p.viewFrom)),p.viewTo>C&&p.viewTo-C<20&&(C=Math.min(v,p.viewTo)),Er&&(_=yo(a.doc,_),C=gn(a.doc,C));var x=_!=p.viewFrom||C!=p.viewTo||p.lastWrapHeight!=l.wrapperHeight||p.lastWrapWidth!=l.wrapperWidth;d1(a,_,C),p.viewOffset=_o(ne(a.doc,p.viewFrom)),a.display.mover.style.top=p.viewOffset+"px";var E=ay(a);if(!x&&E==0&&!l.force&&p.renderedView==p.view&&(p.updateLineNumbers==null||p.updateLineNumbers>=p.viewTo))return!1;var M=E1(a);return E>4&&(p.lineDiv.style.display="none"),k1(a,p.updateLineNumbers,l.dims),E>4&&(p.lineDiv.style.display=""),p.renderedView=p.view,P1(M),H(p.cursorDiv),H(p.selectionDiv),p.gutters.style.height=p.sizer.style.minHeight=0,x&&(p.lastWrapHeight=l.wrapperHeight,p.lastWrapWidth=l.wrapperWidth,Hl(a,400)),p.updateLineNumbers=null,!0}function gy(a,l){for(var p=l.viewport,d=!0;;d=!1){if(!d||!a.options.lineWrapping||l.oldDisplayWidth==di(a)){if(p&&p.top!=null&&(p={top:Math.min(a.doc.height+Pa(a.display)-k(a),p.top)}),l.visible=Vc(a.display,a.doc,p),l.visible.from>=a.display.viewFrom&&l.visible.to<=a.display.viewTo)break}else d&&(l.visible=Vc(a.display,a.doc,p));if(!Yp(a,l))break;Fc(a);var v=Vl(a);Il(a),Cs(a,v),Jp(a,v),l.force=!1}l.signal(a,"update",a),(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)&&(l.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo)}function Xp(a,l){var p=new Hc(a,l);if(Yp(a,p)){Fc(a),gy(a,p);var d=Vl(a);Il(a),Cs(a,d),Jp(a,d),p.finish()}}function k1(a,l,p){var d=a.display,v=a.options.lineNumbers,_=d.lineDiv,C=_.firstChild;function x(xt){var Lt=xt.nextSibling;return f&&T&&a.display.currentWheelTarget==xt?xt.style.display="none":xt.parentNode.removeChild(xt),Lt}for(var E=d.view,M=d.viewFrom,G=0;G<E.length;G++){var Z=E[G];if(!Z.hidden)if(!Z.node||Z.node.parentNode!=_){var gt=Ac(a,Z,M,p);_.insertBefore(gt,C)}else{for(;C!=Z.node;)C=x(C);var lt=v&&l!=null&&l<=M&&Z.lineNumber;Z.changes&&(te(Z.changes,"gutter")>-1&&(lt=!1),Yo(a,Z,M,p)),lt&&(H(Z.lineNumber),Z.lineNumber.appendChild(document.createTextNode(Zn(a.options,M)))),C=Z.node.nextSibling}M+=Z.size}for(;C;)C=x(C)}function qp(a){var l=a.gutters.offsetWidth;a.sizer.style.marginLeft=l+"px",ur(a,"gutterChanged",a)}function Jp(a,l){a.display.sizer.style.minHeight=l.docHeight+"px",a.display.heightForcer.style.top=l.docHeight+"px",a.display.gutters.style.height=l.docHeight+a.display.barHeight+Rn(a)+"px"}function my(a){var l=a.display,p=l.view;if(!(!l.alignWidgets&&(!l.gutters.firstChild||!a.options.fixedGutter))){for(var d=Hp(l)-l.scroller.scrollLeft+a.doc.scrollLeft,v=l.gutters.offsetWidth,_=d+"px",C=0;C<p.length;C++)if(!p[C].hidden){a.options.fixedGutter&&(p[C].gutter&&(p[C].gutter.style.left=_),p[C].gutterBackground&&(p[C].gutterBackground.style.left=_));var x=p[C].alignable;if(x)for(var E=0;E<x.length;E++)x[E].style.left=_}a.options.fixedGutter&&(l.gutters.style.left=d+v+"px")}}function yy(a){if(!a.options.lineNumbers)return!1;var l=a.doc,p=Zn(a.options,l.first+l.size-1),d=a.display;if(p.length!=d.lineNumChars){var v=d.measure.appendChild(W("div",[W("div",p)],"CodeMirror-linenumber CodeMirror-gutter-elt")),_=v.firstChild.offsetWidth,C=v.offsetWidth-_;return d.lineGutter.style.width="",d.lineNumInnerWidth=Math.max(_,d.lineGutter.offsetWidth-C)+1,d.lineNumWidth=d.lineNumInnerWidth+C,d.lineNumChars=d.lineNumInnerWidth?p.length:-1,d.lineGutter.style.width=d.lineNumWidth+"px",qp(a.display),!0}return!1}function Zp(a,l){for(var p=[],d=!1,v=0;v<a.length;v++){var _=a[v],C=null;if(typeof _!="string"&&(C=_.style,_=_.className),_=="CodeMirror-linenumbers")if(l)d=!0;else continue;p.push({className:_,style:C})}return l&&!d&&p.push({className:"CodeMirror-linenumbers",style:null}),p}function _y(a){var l=a.gutters,p=a.gutterSpecs;H(l),a.lineGutter=null;for(var d=0;d<p.length;++d){var v=p[d],_=v.className,C=v.style,x=l.appendChild(W("div",null,"CodeMirror-gutter "+_));C&&(x.style.cssText=C),_=="CodeMirror-linenumbers"&&(a.lineGutter=x,x.style.width=(a.lineNumWidth||1)+"px")}l.style.display=p.length?"":"none",qp(a)}function Bl(a){_y(a.display),yn(a),my(a)}function A1(a,l,p,d){var v=this;this.input=p,v.scrollbarFiller=W("div",null,"CodeMirror-scrollbar-filler"),v.scrollbarFiller.setAttribute("cm-not-content","true"),v.gutterFiller=W("div",null,"CodeMirror-gutter-filler"),v.gutterFiller.setAttribute("cm-not-content","true"),v.lineDiv=z("div",null,"CodeMirror-code"),v.selectionDiv=W("div",null,null,"position: relative; z-index: 1"),v.cursorDiv=W("div",null,"CodeMirror-cursors"),v.measure=W("div",null,"CodeMirror-measure"),v.lineMeasure=W("div",null,"CodeMirror-measure"),v.lineSpace=z("div",[v.measure,v.lineMeasure,v.selectionDiv,v.cursorDiv,v.lineDiv],null,"position: relative; outline: none");var _=z("div",[v.lineSpace],"CodeMirror-lines");v.mover=W("div",[_],null,"position: relative"),v.sizer=W("div",[v.mover],"CodeMirror-sizer"),v.sizerWidth=null,v.heightForcer=W("div",null,null,"position: absolute; height: "+pt+"px; width: 1px;"),v.gutters=W("div",null,"CodeMirror-gutters"),v.lineGutter=null,v.scroller=W("div",[v.sizer,v.heightForcer,v.gutters],"CodeMirror-scroll"),v.scroller.setAttribute("tabIndex","-1"),v.wrapper=W("div",[v.scrollbarFiller,v.gutterFiller,v.scroller],"CodeMirror"),v.wrapper.setAttribute("translate","no"),u&&c<8&&(v.gutters.style.zIndex=-1,v.scroller.style.paddingRight=0),!f&&!(e&&P)&&(v.scroller.draggable=!0),a&&(a.appendChild?a.appendChild(v.wrapper):a(v.wrapper)),v.viewFrom=v.viewTo=l.first,v.reportedViewFrom=v.reportedViewTo=l.first,v.view=[],v.renderedView=null,v.externalMeasured=null,v.viewOffset=0,v.lastWrapHeight=v.lastWrapWidth=0,v.updateLineNumbers=null,v.nativeBarWidth=v.barHeight=v.barWidth=0,v.scrollbarsClipped=!1,v.lineNumWidth=v.lineNumInnerWidth=v.lineNumChars=null,v.alignWidgets=!1,v.cachedCharWidth=v.cachedTextHeight=v.cachedPaddingH=null,v.maxLine=null,v.maxLineLength=0,v.maxLineChanged=!1,v.wheelDX=v.wheelDY=v.wheelStartX=v.wheelStartY=null,v.shift=!1,v.selForContextMenu=null,v.activeTouch=null,v.gutterSpecs=Zp(d.gutters,d.lineNumbers),_y(v),p.init(v)}var Bc=0,oo=null;u?oo=-.53:e?oo=15:g?oo=-.7:y&&(oo=-1/3);function wy(a){var l=a.wheelDeltaX,p=a.wheelDeltaY;return l==null&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(l=a.detail),p==null&&a.detail&&a.axis==a.VERTICAL_AXIS?p=a.detail:p==null&&(p=a.wheelDelta),{x:l,y:p}}function M1(a){var l=wy(a);return l.x*=oo,l.y*=oo,l}function Cy(a,l){var p=wy(l),d=p.x,v=p.y,_=a.display,C=_.scroller,x=C.scrollWidth>C.clientWidth,E=C.scrollHeight>C.clientHeight;if(d&&x||v&&E){if(v&&T&&f){t:for(var M=l.target,G=_.view;M!=C;M=M.parentNode)for(var Z=0;Z<G.length;Z++)if(G[Z].node==M){a.display.currentWheelTarget=M;break t}}if(d&&!e&&!m&&oo!=null){v&&E&&Fl(a,Math.max(0,C.scrollTop+v*oo)),La(a,Math.max(0,C.scrollLeft+d*oo)),(!v||v&&E)&&Ee(l),_.wheelStartX=null;return}if(v&&oo!=null){var gt=v*oo,lt=a.doc.scrollTop,xt=lt+_.wrapper.clientHeight;gt<0?lt=Math.max(0,lt+gt-50):xt=Math.min(a.doc.height,xt+gt+50),Xp(a,{top:lt,bottom:xt})}Bc<20&&(_.wheelStartX==null?(_.wheelStartX=C.scrollLeft,_.wheelStartY=C.scrollTop,_.wheelDX=d,_.wheelDY=v,setTimeout(function(){if(_.wheelStartX!=null){var Lt=C.scrollLeft-_.wheelStartX,Ft=C.scrollTop-_.wheelStartY,Xt=Ft&&_.wheelDY&&Ft/_.wheelDY||Lt&&_.wheelDX&&Lt/_.wheelDX;_.wheelStartX=_.wheelStartY=null,Xt&&(oo=(oo*Bc+Xt)/(Bc+1),++Bc)}},200)):(_.wheelDX+=d,_.wheelDY+=v))}}var io=function(a,l){this.ranges=a,this.primIndex=l};io.prototype.primary=function(){return this.ranges[this.primIndex]},io.prototype.equals=function(a){if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var l=0;l<this.ranges.length;l++){var p=this.ranges[l],d=a.ranges[l];if(!Qn(p.anchor,d.anchor)||!Qn(p.head,d.head))return!1}return!0},io.prototype.deepCopy=function(){for(var a=[],l=0;l<this.ranges.length;l++)a[l]=new Ve(I(this.ranges[l].anchor),I(this.ranges[l].head));return new io(a,this.primIndex)},io.prototype.somethingSelected=function(){for(var a=0;a<this.ranges.length;a++)if(!this.ranges[a].empty())return!0;return!1},io.prototype.contains=function(a,l){l||(l=a);for(var p=0;p<this.ranges.length;p++){var d=this.ranges[p];if(pe(l,d.from())>=0&&pe(a,d.to())<=0)return p}return-1};var Ve=function(a,l){this.anchor=a,this.head=l};Ve.prototype.from=function(){return St(this.anchor,this.head)},Ve.prototype.to=function(){return q(this.anchor,this.head)},Ve.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Io(a,l,p){var d=a&&a.options.selectionsMayTouch,v=l[p];l.sort(function(gt,lt){return pe(gt.from(),lt.from())}),p=te(l,v);for(var _=1;_<l.length;_++){var C=l[_],x=l[_-1],E=pe(x.to(),C.from());if(d&&!C.empty()?E>0:E>=0){var M=St(x.from(),C.from()),G=q(x.to(),C.to()),Z=x.empty()?C.from()==C.head:x.from()==x.head;_<=p&&--p,l.splice(--_,2,new Ve(Z?G:M,Z?M:G))}}return new io(l,p)}function Ki(a,l){return new io([new Ve(a,l||a)],0)}function $i(a){return a.text?jt(a.from.line+a.text.length-1,de(a.text).length+(a.text.length==1?a.from.ch:0)):a.to}function by(a,l){if(pe(a,l.from)<0)return a;if(pe(a,l.to)<=0)return $i(l);var p=a.line+l.text.length-(l.to.line-l.from.line)-1,d=a.ch;return a.line==l.to.line&&(d+=$i(l).ch-l.to.ch),jt(p,d)}function Qp(a,l){for(var p=[],d=0;d<a.sel.ranges.length;d++){var v=a.sel.ranges[d];p.push(new Ve(by(v.anchor,l),by(v.head,l)))}return Io(a.cm,p,a.sel.primIndex)}function xy(a,l,p){return a.line==l.line?jt(p.line,a.ch-l.ch+p.ch):jt(p.line+(a.line-l.line),a.ch)}function L1(a,l,p){for(var d=[],v=jt(a.first,0),_=v,C=0;C<l.length;C++){var x=l[C],E=xy(x.from,v,_),M=xy($i(x),v,_);if(v=x.to,_=M,p=="around"){var G=a.sel.ranges[C],Z=pe(G.head,G.anchor)<0;d[C]=new Ve(Z?M:E,Z?E:M)}else d[C]=new Ve(E,E)}return new io(d,a.sel.primIndex)}function th(a){a.doc.mode=ve(a.options,a.doc.modeOption),zl(a)}function zl(a){a.doc.iter(function(l){l.stateAfter&&(l.stateAfter=null),l.styles&&(l.styles=null)}),a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first,Hl(a,100),a.state.modeGen++,a.curOp&&yn(a)}function Sy(a,l){return l.from.ch==0&&l.to.ch==0&&de(l.text)==""&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function eh(a,l,p,d){function v(re){return p?p[re]:null}function _(re,qt,oe){Cc(re,qt,oe,d),ur(re,"change",re,l)}function C(re,qt){for(var oe=[],he=re;he<qt;++he)oe.push(new Ir(M[he],v(he),d));return oe}var x=l.from,E=l.to,M=l.text,G=ne(a,x.line),Z=ne(a,E.line),gt=de(M),lt=v(M.length-1),xt=E.line-x.line;if(l.full)a.insert(0,C(0,M.length)),a.remove(M.length,a.size-M.length);else if(Sy(a,l)){var Lt=C(0,M.length-1);_(Z,Z.text,lt),xt&&a.remove(x.line,xt),Lt.length&&a.insert(x.line,Lt)}else if(G==Z)if(M.length==1)_(G,G.text.slice(0,x.ch)+gt+G.text.slice(E.ch),lt);else{var Ft=C(1,M.length-1);Ft.push(new Ir(gt+G.text.slice(E.ch),lt,d)),_(G,G.text.slice(0,x.ch)+M[0],v(0)),a.insert(x.line+1,Ft)}else if(M.length==1)_(G,G.text.slice(0,x.ch)+M[0]+Z.text.slice(E.ch),v(0)),a.remove(x.line+1,xt);else{_(G,G.text.slice(0,x.ch)+M[0],v(0)),_(Z,gt+Z.text.slice(E.ch),lt);var Xt=C(1,M.length-1);xt>1&&a.remove(x.line+1,xt-1),a.insert(x.line+1,Xt)}ur(a,"change",a,l)}function Gi(a,l,p){function d(v,_,C){if(v.linked)for(var x=0;x<v.linked.length;++x){var E=v.linked[x];if(E.doc!=_){var M=C&&E.sharedHist;p&&!M||(l(E.doc,M),d(E.doc,v,M))}}}d(a,null,!0)}function Oy(a,l){if(l.cm)throw new Error("This document is already in use.");a.doc=l,l.cm=a,Bp(a),th(a),Ty(a),a.options.direction=l.direction,a.options.lineWrapping||Ni(a),a.options.mode=l.modeOption,yn(a)}function Ty(a){(a.doc.direction=="rtl"?nt:rt)(a.display.lineDiv,"CodeMirror-rtl")}function D1(a){Fn(a,function(){Ty(a),yn(a)})}function zc(a){this.done=[],this.undone=[],this.undoDepth=a?a.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=a?a.maxGeneration:1}function rh(a,l){var p={from:I(l.from),to:$i(l),text:jr(a,l.from,l.to)};return ky(a,p,l.from.line,l.to.line+1),Gi(a,function(d){return ky(d,p,l.from.line,l.to.line+1)},!0),p}function Ey(a){for(;a.length;){var l=de(a);if(l.ranges)a.pop();else break}}function j1(a,l){if(l)return Ey(a.done),de(a.done);if(a.done.length&&!de(a.done).ranges)return de(a.done);if(a.done.length>1&&!a.done[a.done.length-2].ranges)return a.done.pop(),de(a.done)}function Py(a,l,p,d){var v=a.history;v.undone.length=0;var _=+new Date,C,x;if((v.lastOp==d||v.lastOrigin==l.origin&&l.origin&&(l.origin.charAt(0)=="+"&&v.lastModTime>_-(a.cm?a.cm.options.historyEventDelay:500)||l.origin.charAt(0)=="*"))&&(C=j1(v,v.lastOp==d)))x=de(C.changes),pe(l.from,l.to)==0&&pe(l.from,x.to)==0?x.to=$i(l):C.changes.push(rh(a,l));else{var E=de(v.done);for((!E||!E.ranges)&&Wc(a.sel,v.done),C={changes:[rh(a,l)],generation:v.generation},v.done.push(C);v.done.length>v.undoDepth;)v.done.shift(),v.done[0].ranges||v.done.shift()}v.done.push(p),v.generation=++v.maxGeneration,v.lastModTime=v.lastSelTime=_,v.lastOp=v.lastSelOp=d,v.lastOrigin=v.lastSelOrigin=l.origin,x||Zt(a,"historyAdded")}function N1(a,l,p,d){var v=l.charAt(0);return v=="*"||v=="+"&&p.ranges.length==d.ranges.length&&p.somethingSelected()==d.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}function I1(a,l,p,d){var v=a.history,_=d&&d.origin;p==v.lastSelOp||_&&v.lastSelOrigin==_&&(v.lastModTime==v.lastSelTime&&v.lastOrigin==_||N1(a,_,de(v.done),l))?v.done[v.done.length-1]=l:Wc(l,v.done),v.lastSelTime=+new Date,v.lastSelOrigin=_,v.lastSelOp=p,d&&d.clearRedo!==!1&&Ey(v.undone)}function Wc(a,l){var p=de(l);p&&p.ranges&&p.equals(a)||l.push(a)}function ky(a,l,p,d){var v=l["spans_"+a.id],_=0;a.iter(Math.max(a.first,p),Math.min(a.first+a.size,d),function(C){C.markedSpans&&((v||(v=l["spans_"+a.id]={}))[_]=C.markedSpans),++_})}function R1(a){if(!a)return null;for(var l,p=0;p<a.length;++p)a[p].marker.explicitlyCleared?l||(l=a.slice(0,p)):l&&l.push(a[p]);return l?l.length?l:null:a}function F1(a,l){var p=l["spans_"+a.id];if(!p)return null;for(var d=[],v=0;v<l.text.length;++v)d.push(R1(p[v]));return d}function Ay(a,l){var p=F1(a,l),d=si(a,l);if(!p)return d;if(!d)return p;for(var v=0;v<p.length;++v){var _=p[v],C=d[v];if(_&&C)t:for(var x=0;x<C.length;++x){for(var E=C[x],M=0;M<_.length;++M)if(_[M].marker==E.marker)continue t;_.push(E)}else C&&(p[v]=C)}return p}function bs(a,l,p){for(var d=[],v=0;v<a.length;++v){var _=a[v];if(_.ranges){d.push(p?io.prototype.deepCopy.call(_):_);continue}var C=_.changes,x=[];d.push({changes:x});for(var E=0;E<C.length;++E){var M=C[E],G=void 0;if(x.push({from:M.from,to:M.to,text:M.text}),l)for(var Z in M)(G=Z.match(/^spans_(\d+)$/))&&te(l,Number(G[1]))>-1&&(de(x)[Z]=M[Z],delete M[Z])}}return d}function nh(a,l,p,d){if(d){var v=a.anchor;if(p){var _=pe(l,v)<0;_!=pe(p,v)<0?(v=l,l=p):_!=pe(l,p)<0&&(l=p)}return new Ve(v,l)}else return new Ve(p||l,l)}function Kc(a,l,p,d,v){v==null&&(v=a.cm&&(a.cm.display.shift||a.extend)),Xr(a,new io([nh(a.sel.primary(),l,p,v)],0),d)}function My(a,l,p){for(var d=[],v=a.cm&&(a.cm.display.shift||a.extend),_=0;_<a.sel.ranges.length;_++)d[_]=nh(a.sel.ranges[_],l[_],null,v);var C=Io(a.cm,d,a.sel.primIndex);Xr(a,C,p)}function oh(a,l,p,d){var v=a.sel.ranges.slice(0);v[l]=p,Xr(a,Io(a.cm,v,a.sel.primIndex),d)}function Ly(a,l,p,d){Xr(a,Ki(l,p),d)}function V1(a,l,p){var d={ranges:l.ranges,update:function(v){this.ranges=[];for(var _=0;_<v.length;_++)this.ranges[_]=new Ve(Rt(a,v[_].anchor),Rt(a,v[_].head))},origin:p&&p.origin};return Zt(a,"beforeSelectionChange",a,d),a.cm&&Zt(a.cm,"beforeSelectionChange",a.cm,d),d.ranges!=l.ranges?Io(a.cm,d.ranges,d.ranges.length-1):l}function Dy(a,l,p){var d=a.history.done,v=de(d);v&&v.ranges?(d[d.length-1]=l,$c(a,l,p)):Xr(a,l,p)}function Xr(a,l,p){$c(a,l,p),I1(a,a.sel,a.cm?a.cm.curOp.id:NaN,p)}function $c(a,l,p){(Oe(a,"beforeSelectionChange")||a.cm&&Oe(a.cm,"beforeSelectionChange"))&&(l=V1(a,l,p));var d=p&&p.bias||(pe(l.primary().head,a.sel.primary().head)<0?-1:1);jy(a,Iy(a,l,d,!0)),!(p&&p.scroll===!1)&&a.cm&&a.cm.getOption("readOnly")!="nocursor"&&ws(a.cm)}function jy(a,l){l.equals(a.sel)||(a.sel=l,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,se(a.cm)),ur(a,"cursorActivity",a))}function Ny(a){jy(a,Iy(a,a.sel,null,!1))}function Iy(a,l,p,d){for(var v,_=0;_<l.ranges.length;_++){var C=l.ranges[_],x=l.ranges.length==a.sel.ranges.length&&a.sel.ranges[_],E=Gc(a,C.anchor,x&&x.anchor,p,d),M=Gc(a,C.head,x&&x.head,p,d);(v||E!=C.anchor||M!=C.head)&&(v||(v=l.ranges.slice(0,_)),v[_]=new Ve(E,M))}return v?Io(a.cm,v,l.primIndex):l}function xs(a,l,p,d,v){var _=ne(a,l.line);if(_.markedSpans)for(var C=0;C<_.markedSpans.length;++C){var x=_.markedSpans[C],E=x.marker,M="selectLeft"in E?!E.selectLeft:E.inclusiveLeft,G="selectRight"in E?!E.selectRight:E.inclusiveRight;if((x.from==null||(M?x.from<=l.ch:x.from<l.ch))&&(x.to==null||(G?x.to>=l.ch:x.to>l.ch))){if(v&&(Zt(E,"beforeCursorEnter"),E.explicitlyCleared))if(_.markedSpans){--C;continue}else break;if(!E.atomic)continue;if(p){var Z=E.find(d<0?1:-1),gt=void 0;if((d<0?G:M)&&(Z=Ry(a,Z,-d,Z&&Z.line==l.line?_:null)),Z&&Z.line==l.line&&(gt=pe(Z,p))&&(d<0?gt<0:gt>0))return xs(a,Z,l,d,v)}var lt=E.find(d<0?-1:1);return(d<0?M:G)&&(lt=Ry(a,lt,d,lt.line==l.line?_:null)),lt?xs(a,lt,l,d,v):null}}return l}function Gc(a,l,p,d,v){var _=d||1,C=xs(a,l,p,_,v)||!v&&xs(a,l,p,_,!0)||xs(a,l,p,-_,v)||!v&&xs(a,l,p,-_,!0);return C||(a.cantEdit=!0,jt(a.first,0))}function Ry(a,l,p,d){return p<0&&l.ch==0?l.line>a.first?Rt(a,jt(l.line-1)):null:p>0&&l.ch==(d||ne(a,l.line)).text.length?l.line<a.first+a.size-1?jt(l.line+1,0):null:new jt(l.line,l.ch+p)}function Fy(a){a.setSelection(jt(a.firstLine(),0),jt(a.lastLine()),At)}function Vy(a,l,p){var d={canceled:!1,from:l.from,to:l.to,text:l.text,origin:l.origin,cancel:function(){return d.canceled=!0}};return p&&(d.update=function(v,_,C,x){v&&(d.from=Rt(a,v)),_&&(d.to=Rt(a,_)),C&&(d.text=C),x!==void 0&&(d.origin=x)}),Zt(a,"beforeChange",a,d),a.cm&&Zt(a.cm,"beforeChange",a.cm,d),d.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:d.from,to:d.to,text:d.text,origin:d.origin}}function Ss(a,l,p){if(a.cm){if(!a.cm.curOp)return Rr(a.cm,Ss)(a,l,p);if(a.cm.state.suppressEdits)return}if(!((Oe(a,"beforeChange")||a.cm&&Oe(a.cm,"beforeChange"))&&(l=Vy(a,l,!0),!l))){var d=wr&&!p&&no(a,l.from,l.to);if(d)for(var v=d.length-1;v>=0;--v)Uy(a,{from:d[v].from,to:d[v].to,text:v?[""]:l.text,origin:l.origin});else Uy(a,l)}}function Uy(a,l){if(!(l.text.length==1&&l.text[0]==""&&pe(l.from,l.to)==0)){var p=Qp(a,l);Py(a,l,p,a.cm?a.cm.curOp.id:NaN),Wl(a,l,p,si(a,l));var d=[];Gi(a,function(v,_){!_&&te(d,v.history)==-1&&(Wy(v.history,l),d.push(v.history)),Wl(v,l,null,si(v,l))})}}function Yc(a,l,p){var d=a.cm&&a.cm.state.suppressEdits;if(!(d&&!p)){for(var v=a.history,_,C=a.sel,x=l=="undo"?v.done:v.undone,E=l=="undo"?v.undone:v.done,M=0;M<x.length&&(_=x[M],!(p?_.ranges&&!_.equals(a.sel):!_.ranges));M++);if(M!=x.length){for(v.lastOrigin=v.lastSelOrigin=null;;)if(_=x.pop(),_.ranges){if(Wc(_,E),p&&!_.equals(a.sel)){Xr(a,_,{clearRedo:!1});return}C=_}else if(d){x.push(_);return}else break;var G=[];Wc(C,E),E.push({changes:G,generation:v.generation}),v.generation=_.generation||++v.maxGeneration;for(var Z=Oe(a,"beforeChange")||a.cm&&Oe(a.cm,"beforeChange"),gt=function(Lt){var Ft=_.changes[Lt];if(Ft.origin=l,Z&&!Vy(a,Ft,!1))return x.length=0,{};G.push(rh(a,Ft));var Xt=Lt?Qp(a,Ft):de(x);Wl(a,Ft,Xt,Ay(a,Ft)),!Lt&&a.cm&&a.cm.scrollIntoView({from:Ft.from,to:$i(Ft)});var re=[];Gi(a,function(qt,oe){!oe&&te(re,qt.history)==-1&&(Wy(qt.history,Ft),re.push(qt.history)),Wl(qt,Ft,null,Ay(qt,Ft))})},lt=_.changes.length-1;lt>=0;--lt){var xt=gt(lt);if(xt)return xt.v}}}}function Hy(a,l){if(l!=0&&(a.first+=l,a.sel=new io(Ze(a.sel.ranges,function(v){return new Ve(jt(v.anchor.line+l,v.anchor.ch),jt(v.head.line+l,v.head.ch))}),a.sel.primIndex),a.cm)){yn(a.cm,a.first,a.first-l,l);for(var p=a.cm.display,d=p.viewFrom;d<p.viewTo;d++)zi(a.cm,d,"gutter")}}function Wl(a,l,p,d){if(a.cm&&!a.cm.curOp)return Rr(a.cm,Wl)(a,l,p,d);if(l.to.line<a.first){Hy(a,l.text.length-1-(l.to.line-l.from.line));return}if(!(l.from.line>a.lastLine())){if(l.from.line<a.first){var v=l.text.length-1-(a.first-l.from.line);Hy(a,v),l={from:jt(a.first,0),to:jt(l.to.line+v,l.to.ch),text:[de(l.text)],origin:l.origin}}var _=a.lastLine();l.to.line>_&&(l={from:l.from,to:jt(_,ne(a,_).text.length),text:[l.text[0]],origin:l.origin}),l.removed=jr(a,l.from,l.to),p||(p=Qp(a,l)),a.cm?U1(a.cm,l,d):eh(a,l,d),$c(a,p,At),a.cantEdit&&Gc(a,jt(a.firstLine(),0))&&(a.cantEdit=!1)}}function U1(a,l,p){var d=a.doc,v=a.display,_=l.from,C=l.to,x=!1,E=_.line;a.options.lineWrapping||(E=ke(tr(ne(d,_.line))),d.iter(E,C.line+1,function(lt){if(lt==v.maxLine)return x=!0,!0})),d.sel.contains(l.from,l.to)>-1&&se(a),eh(d,l,p,iy(a)),a.options.lineWrapping||(d.iter(E,_.line+l.text.length,function(lt){var xt=ci(lt);xt>v.maxLineLength&&(v.maxLine=lt,v.maxLineLength=xt,v.maxLineChanged=!0,x=!1)}),x&&(a.curOp.updateMaxLine=!0)),Di(d,_.line),Hl(a,400);var M=l.text.length-(C.line-_.line)-1;l.full?yn(a):_.line==C.line&&l.text.length==1&&!Sy(a.doc,l)?zi(a,_.line,"text"):yn(a,_.line,C.line+1,M);var G=Oe(a,"changes"),Z=Oe(a,"change");if(Z||G){var gt={from:_,to:C,text:l.text,removed:l.removed,origin:l.origin};Z&&ur(a,"change",a,gt),G&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(gt)}a.display.selForContextMenu=null}function Os(a,l,p,d,v){var _;d||(d=p),pe(d,p)<0&&(_=[d,p],p=_[0],d=_[1]),typeof l=="string"&&(l=a.splitLines(l)),Ss(a,{from:p,to:d,text:l,origin:v})}function By(a,l,p,d){p<a.line?a.line+=d:l<a.line&&(a.line=l,a.ch=0)}function zy(a,l,p,d){for(var v=0;v<a.length;++v){var _=a[v],C=!0;if(_.ranges){_.copied||(_=a[v]=_.deepCopy(),_.copied=!0);for(var x=0;x<_.ranges.length;x++)By(_.ranges[x].anchor,l,p,d),By(_.ranges[x].head,l,p,d);continue}for(var E=0;E<_.changes.length;++E){var M=_.changes[E];if(p<M.from.line)M.from=jt(M.from.line+d,M.from.ch),M.to=jt(M.to.line+d,M.to.ch);else if(l<=M.to.line){C=!1;break}}C||(a.splice(0,v+1),v=0)}}function Wy(a,l){var p=l.from.line,d=l.to.line,v=l.text.length-(d-p)-1;zy(a.done,p,d,v),zy(a.undone,p,d,v)}function Kl(a,l,p,d){var v=l,_=l;return typeof l=="number"?_=ne(a,It(a,l)):v=ke(l),v==null?null:(d(_,v)&&a.cm&&zi(a.cm,v,p),_)}function $l(a){this.lines=a,this.parent=null;for(var l=0,p=0;p<a.length;++p)a[p].parent=this,l+=a[p].height;this.height=l}$l.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,l){for(var p=a,d=a+l;p<d;++p){var v=this.lines[p];this.height-=v.height,ds(v),ur(v,"delete")}this.lines.splice(a,l)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,l,p){this.height+=p,this.lines=this.lines.slice(0,a).concat(l).concat(this.lines.slice(a));for(var d=0;d<l.length;++d)l[d].parent=this},iterN:function(a,l,p){for(var d=a+l;a<d;++a)if(p(this.lines[a]))return!0}};function Gl(a){this.children=a;for(var l=0,p=0,d=0;d<a.length;++d){var v=a[d];l+=v.chunkSize(),p+=v.height,v.parent=this}this.size=l,this.height=p,this.parent=null}Gl.prototype={chunkSize:function(){return this.size},removeInner:function(a,l){this.size-=l;for(var p=0;p<this.children.length;++p){var d=this.children[p],v=d.chunkSize();if(a<v){var _=Math.min(l,v-a),C=d.height;if(d.removeInner(a,_),this.height-=C-d.height,v==_&&(this.children.splice(p--,1),d.parent=null),(l-=_)==0)break;a=0}else a-=v}if(this.size-l<25&&(this.children.length>1||!(this.children[0]instanceof $l))){var x=[];this.collapse(x),this.children=[new $l(x)],this.children[0].parent=this}},collapse:function(a){for(var l=0;l<this.children.length;++l)this.children[l].collapse(a)},insertInner:function(a,l,p){this.size+=l.length,this.height+=p;for(var d=0;d<this.children.length;++d){var v=this.children[d],_=v.chunkSize();if(a<=_){if(v.insertInner(a,l,p),v.lines&&v.lines.length>50){for(var C=v.lines.length%25+25,x=C;x<v.lines.length;){var E=new $l(v.lines.slice(x,x+=25));v.height-=E.height,this.children.splice(++d,0,E),E.parent=this}v.lines=v.lines.slice(0,C),this.maybeSpill()}break}a-=_}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var l=a.children.splice(a.children.length-5,5),p=new Gl(l);if(a.parent){a.size-=p.size,a.height-=p.height;var v=te(a.parent.children,a);a.parent.children.splice(v+1,0,p)}else{var d=new Gl(a.children);d.parent=a,a.children=[d,p],a=d}p.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,l,p){for(var d=0;d<this.children.length;++d){var v=this.children[d],_=v.chunkSize();if(a<_){var C=Math.min(l,_-a);if(v.iterN(a,C,p))return!0;if((l-=C)==0)break;a=0}else a-=_}}};var Yl=function(a,l,p){if(p)for(var d in p)p.hasOwnProperty(d)&&(this[d]=p[d]);this.doc=a,this.node=l};Yl.prototype.clear=function(){var a=this.doc.cm,l=this.line.widgets,p=this.line,d=ke(p);if(!(d==null||!l)){for(var v=0;v<l.length;++v)l[v]==this&&l.splice(v--,1);l.length||(p.widgets=null);var _=Hi(this);Nr(p,Math.max(0,p.height-_)),a&&(Fn(a,function(){Ky(a,p,-_),zi(a,d,"widget")}),ur(a,"lineWidgetCleared",a,this,d))}},Yl.prototype.changed=function(){var a=this,l=this.height,p=this.doc.cm,d=this.line;this.height=null;var v=Hi(this)-l;v&&(mn(this.doc,d)||Nr(d,d.height+v),p&&Fn(p,function(){p.curOp.forceUpdate=!0,Ky(p,d,v),ur(p,"lineWidgetChanged",p,a,ke(d))}))},Me(Yl);function Ky(a,l,p){_o(l)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&Gp(a,p)}function H1(a,l,p,d){var v=new Yl(a,p,d),_=a.cm;return _&&v.noHScroll&&(_.display.alignWidgets=!0),Kl(a,l,"widget",function(C){var x=C.widgets||(C.widgets=[]);if(v.insertAt==null?x.push(v):x.splice(Math.min(x.length,Math.max(0,v.insertAt)),0,v),v.line=C,_&&!mn(a,C)){var E=_o(C)<a.scrollTop;Nr(C,C.height+Hi(v)),E&&Gp(_,v.height),_.curOp.forceUpdate=!0}return!0}),_&&ur(_,"lineWidgetAdded",_,v,typeof l=="number"?l:ke(l)),v}var $y=0,Yi=function(a,l){this.lines=[],this.type=l,this.doc=a,this.id=++$y};Yi.prototype.clear=function(){if(!this.explicitlyCleared){var a=this.doc.cm,l=a&&!a.curOp;if(l&&ja(a),Oe(this,"clear")){var p=this.find();p&&ur(this,"clear",p.from,p.to)}for(var d=null,v=null,_=0;_<this.lines.length;++_){var C=this.lines[_],x=rn(C.markedSpans,this);a&&!this.collapsed?zi(a,ke(C),"text"):a&&(x.to!=null&&(v=ke(C)),x.from!=null&&(d=ke(C))),C.markedSpans=Pr(C.markedSpans,x),x.from==null&&this.collapsed&&!mn(this.doc,C)&&a&&Nr(C,ms(a.display))}if(a&&this.collapsed&&!a.options.lineWrapping)for(var E=0;E<this.lines.length;++E){var M=tr(this.lines[E]),G=ci(M);G>a.display.maxLineLength&&(a.display.maxLine=M,a.display.maxLineLength=G,a.display.maxLineChanged=!0)}d!=null&&a&&this.collapsed&&yn(a,d,v+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,a&&Ny(a.doc)),a&&ur(a,"markerCleared",a,this,d,v),l&&Na(a),this.parent&&this.parent.clear()}},Yi.prototype.find=function(a,l){a==null&&this.type=="bookmark"&&(a=1);for(var p,d,v=0;v<this.lines.length;++v){var _=this.lines[v],C=rn(_.markedSpans,this);if(C.from!=null&&(p=jt(l?_:ke(_),C.from),a==-1))return p;if(C.to!=null&&(d=jt(l?_:ke(_),C.to),a==1))return d}return p&&{from:p,to:d}},Yi.prototype.changed=function(){var a=this,l=this.find(-1,!0),p=this,d=this.doc.cm;!l||!d||Fn(d,function(){var v=l.line,_=ke(l.line),C=ht(d,_);if(C&&(jl(C),d.curOp.selectionChanged=d.curOp.forceUpdate=!0),d.curOp.updateMaxLine=!0,!mn(p.doc,v)&&p.height!=null){var x=p.height;p.height=null;var E=Hi(p)-x;E&&Nr(v,v.height+E)}ur(d,"markerChanged",d,a)})},Yi.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var l=this.doc.cm.curOp;(!l.maybeHiddenMarkers||te(l.maybeHiddenMarkers,this)==-1)&&(l.maybeUnhiddenMarkers||(l.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},Yi.prototype.detachLine=function(a){if(this.lines.splice(te(this.lines,a),1),!this.lines.length&&this.doc.cm){var l=this.doc.cm.curOp;(l.maybeHiddenMarkers||(l.maybeHiddenMarkers=[])).push(this)}},Me(Yi);function Ts(a,l,p,d,v){if(d&&d.shared)return B1(a,l,p,d,v);if(a.cm&&!a.cm.curOp)return Rr(a.cm,Ts)(a,l,p,d,v);var _=new Yi(a,v),C=pe(l,p);if(d&&Ot(d,_,!1),C>0||C==0&&_.clearWhenEmpty!==!1)return _;if(_.replacedWith&&(_.collapsed=!0,_.widgetNode=z("span",[_.replacedWith],"CodeMirror-widget"),d.handleMouseEvents||_.widgetNode.setAttribute("cm-ignore-events","true"),d.insertLeft&&(_.widgetNode.insertLeft=!0)),_.collapsed){if(me(a,l.line,l,p,_)||l.line!=p.line&&me(a,p.line,l,p,_))throw new Error("Inserting collapsed marker partially overlapping an existing one");to()}_.addToHistory&&Py(a,{from:l,to:p,origin:"markText"},a.sel,NaN);var x=l.line,E=a.cm,M;if(a.iter(x,p.line+1,function(Z){E&&_.collapsed&&!E.options.lineWrapping&&tr(Z)==E.display.maxLine&&(M=!0),_.collapsed&&x!=l.line&&Nr(Z,0),fs(Z,new Lo(_,x==l.line?l.ch:null,x==p.line?p.ch:null),a.cm&&a.cm.curOp),++x}),_.collapsed&&a.iter(l.line,p.line+1,function(Z){mn(a,Z)&&Nr(Z,0)}),_.clearOnEnter&&yt(_,"beforeCursorEnter",function(){return _.clear()}),_.readOnly&&(Ta(),(a.history.done.length||a.history.undone.length)&&a.clearHistory()),_.collapsed&&(_.id=++$y,_.atomic=!0),E){if(M&&(E.curOp.updateMaxLine=!0),_.collapsed)yn(E,l.line,p.line+1);else if(_.className||_.startStyle||_.endStyle||_.css||_.attributes||_.title)for(var G=l.line;G<=p.line;G++)zi(E,G,"text");_.atomic&&Ny(E.doc),ur(E,"markerAdded",E,_)}return _}var Xl=function(a,l){this.markers=a,this.primary=l;for(var p=0;p<a.length;++p)a[p].parent=this};Xl.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var a=0;a<this.markers.length;++a)this.markers[a].clear();ur(this,"clear")}},Xl.prototype.find=function(a,l){return this.primary.find(a,l)},Me(Xl);function B1(a,l,p,d,v){d=Ot(d),d.shared=!1;var _=[Ts(a,l,p,d,v)],C=_[0],x=d.widgetNode;return Gi(a,function(E){x&&(d.widgetNode=x.cloneNode(!0)),_.push(Ts(E,Rt(E,l),Rt(E,p),d,v));for(var M=0;M<E.linked.length;++M)if(E.linked[M].isParent)return;C=de(_)}),new Xl(_,C)}function Gy(a){return a.findMarks(jt(a.first,0),a.clipPos(jt(a.lastLine())),function(l){return l.parent})}function z1(a,l){for(var p=0;p<l.length;p++){var d=l[p],v=d.find(),_=a.clipPos(v.from),C=a.clipPos(v.to);if(pe(_,C)){var x=Ts(a,_,C,d.primary,d.primary.type);d.markers.push(x),x.parent=d}}}function W1(a){for(var l=function(d){var v=a[d],_=[v.primary.doc];Gi(v.primary.doc,function(E){return _.push(E)});for(var C=0;C<v.markers.length;C++){var x=v.markers[C];te(_,x.doc)==-1&&(x.parent=null,v.markers.splice(C--,1))}},p=0;p<a.length;p++)l(p)}var K1=0,_n=function(a,l,p,d,v){if(!(this instanceof _n))return new _n(a,l,p,d,v);p==null&&(p=0),Gl.call(this,[new $l([new Ir("",null)])]),this.first=p,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=p;var _=jt(p,0);this.sel=Ki(_),this.history=new zc(null),this.id=++K1,this.modeOption=l,this.lineSep=d,this.direction=v=="rtl"?"rtl":"ltr",this.extend=!1,typeof a=="string"&&(a=this.splitLines(a)),eh(this,{from:_,to:_,text:a}),Xr(this,Ki(_),At)};_n.prototype=A(Gl.prototype,{constructor:_n,iter:function(a,l,p){p?this.iterN(a-this.first,l-a,p):this.iterN(this.first,this.first+this.size,a)},insert:function(a,l){for(var p=0,d=0;d<l.length;++d)p+=l[d].height;this.insertInner(a-this.first,l,p)},remove:function(a,l){this.removeInner(a-this.first,l)},getValue:function(a){var l=Qe(this,this.first,this.first+this.size);return a===!1?l:l.join(a||this.lineSeparator())},setValue:Fr(function(a){var l=jt(this.first,0),p=this.first+this.size-1;Ss(this,{from:l,to:jt(p,ne(this,p).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0),this.cm&&Rl(this.cm,0,0),Xr(this,Ki(l),At)}),replaceRange:function(a,l,p,d){l=Rt(this,l),p=p?Rt(this,p):l,Os(this,a,l,p,d)},getRange:function(a,l,p){var d=jr(this,Rt(this,a),Rt(this,l));return p===!1?d:p===""?d.join(""):d.join(p||this.lineSeparator())},getLine:function(a){var l=this.getLineHandle(a);return l&&l.text},getLineHandle:function(a){if(jn(this,a))return ne(this,a)},getLineNumber:function(a){return ke(a)},getLineHandleVisualStart:function(a){return typeof a=="number"&&(a=ne(this,a)),tr(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return Rt(this,a)},getCursor:function(a){var l=this.sel.primary(),p;return a==null||a=="head"?p=l.head:a=="anchor"?p=l.anchor:a=="end"||a=="to"||a===!1?p=l.to():p=l.from(),p},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Fr(function(a,l,p){Ly(this,Rt(this,typeof a=="number"?jt(a,l||0):a),null,p)}),setSelection:Fr(function(a,l,p){Ly(this,Rt(this,a),Rt(this,l||a),p)}),extendSelection:Fr(function(a,l,p){Kc(this,Rt(this,a),l&&Rt(this,l),p)}),extendSelections:Fr(function(a,l){My(this,Pe(this,a),l)}),extendSelectionsBy:Fr(function(a,l){var p=Ze(this.sel.ranges,a);My(this,Pe(this,p),l)}),setSelections:Fr(function(a,l,p){if(a.length){for(var d=[],v=0;v<a.length;v++)d[v]=new Ve(Rt(this,a[v].anchor),Rt(this,a[v].head||a[v].anchor));l==null&&(l=Math.min(a.length-1,this.sel.primIndex)),Xr(this,Io(this.cm,d,l),p)}}),addSelection:Fr(function(a,l,p){var d=this.sel.ranges.slice(0);d.push(new Ve(Rt(this,a),Rt(this,l||a))),Xr(this,Io(this.cm,d,d.length-1),p)}),getSelection:function(a){for(var l=this.sel.ranges,p,d=0;d<l.length;d++){var v=jr(this,l[d].from(),l[d].to());p=p?p.concat(v):v}return a===!1?p:p.join(a||this.lineSeparator())},getSelections:function(a){for(var l=[],p=this.sel.ranges,d=0;d<p.length;d++){var v=jr(this,p[d].from(),p[d].to());a!==!1&&(v=v.join(a||this.lineSeparator())),l[d]=v}return l},replaceSelection:function(a,l,p){for(var d=[],v=0;v<this.sel.ranges.length;v++)d[v]=a;this.replaceSelections(d,l,p||"+input")},replaceSelections:Fr(function(a,l,p){for(var d=[],v=this.sel,_=0;_<v.ranges.length;_++){var C=v.ranges[_];d[_]={from:C.from(),to:C.to(),text:this.splitLines(a[_]),origin:p}}for(var x=l&&l!="end"&&L1(this,d,l),E=d.length-1;E>=0;E--)Ss(this,d[E]);x?Dy(this,x):this.cm&&ws(this.cm)}),undo:Fr(function(){Yc(this,"undo")}),redo:Fr(function(){Yc(this,"redo")}),undoSelection:Fr(function(){Yc(this,"undo",!0)}),redoSelection:Fr(function(){Yc(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,l=0,p=0,d=0;d<a.done.length;d++)a.done[d].ranges||++l;for(var v=0;v<a.undone.length;v++)a.undone[v].ranges||++p;return{undo:l,redo:p}},clearHistory:function(){var a=this;this.history=new zc(this.history),Gi(this,function(l){return l.history=a.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){return a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:bs(this.history.done),undone:bs(this.history.undone)}},setHistory:function(a){var l=this.history=new zc(this.history);l.done=bs(a.done.slice(0),null,!0),l.undone=bs(a.undone.slice(0),null,!0)},setGutterMarker:Fr(function(a,l,p){return Kl(this,a,"gutter",function(d){var v=d.gutterMarkers||(d.gutterMarkers={});return v[l]=p,!p&&wt(v)&&(d.gutterMarkers=null),!0})}),clearGutter:Fr(function(a){var l=this;this.iter(function(p){p.gutterMarkers&&p.gutterMarkers[a]&&Kl(l,p,"gutter",function(){return p.gutterMarkers[a]=null,wt(p.gutterMarkers)&&(p.gutterMarkers=null),!0})})}),lineInfo:function(a){var l;if(typeof a=="number"){if(!jn(this,a)||(l=a,a=ne(this,a),!a))return null}else if(l=ke(a),l==null)return null;return{line:l,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:Fr(function(a,l,p){return Kl(this,a,l=="gutter"?"gutter":"class",function(d){var v=l=="text"?"textClass":l=="background"?"bgClass":l=="gutter"?"gutterClass":"wrapClass";if(!d[v])d[v]=p;else{if(K(p).test(d[v]))return!1;d[v]+=" "+p}return!0})}),removeLineClass:Fr(function(a,l,p){return Kl(this,a,l=="gutter"?"gutter":"class",function(d){var v=l=="text"?"textClass":l=="background"?"bgClass":l=="gutter"?"gutterClass":"wrapClass",_=d[v];if(_)if(p==null)d[v]=null;else{var C=_.match(K(p));if(!C)return!1;var x=C.index+C[0].length;d[v]=_.slice(0,C.index)+(!C.index||x==_.length?"":" ")+_.slice(x)||null}else return!1;return!0})}),addLineWidget:Fr(function(a,l,p){return H1(this,a,l,p)}),removeLineWidget:function(a){a.clear()},markText:function(a,l,p){return Ts(this,Rt(this,a),Rt(this,l),p,p&&p.type||"range")},setBookmark:function(a,l){var p={replacedWith:l&&(l.nodeType==null?l.widget:l),insertLeft:l&&l.insertLeft,clearWhenEmpty:!1,shared:l&&l.shared,handleMouseEvents:l&&l.handleMouseEvents};return a=Rt(this,a),Ts(this,a,a,p,"bookmark")},findMarksAt:function(a){a=Rt(this,a);var l=[],p=ne(this,a.line).markedSpans;if(p)for(var d=0;d<p.length;++d){var v=p[d];(v.from==null||v.from<=a.ch)&&(v.to==null||v.to>=a.ch)&&l.push(v.marker.parent||v.marker)}return l},findMarks:function(a,l,p){a=Rt(this,a),l=Rt(this,l);var d=[],v=a.line;return this.iter(a.line,l.line+1,function(_){var C=_.markedSpans;if(C)for(var x=0;x<C.length;x++){var E=C[x];!(E.to!=null&&v==a.line&&a.ch>=E.to||E.from==null&&v!=a.line||E.from!=null&&v==l.line&&E.from>=l.ch)&&(!p||p(E.marker))&&d.push(E.marker.parent||E.marker)}++v}),d},getAllMarks:function(){var a=[];return this.iter(function(l){var p=l.markedSpans;if(p)for(var d=0;d<p.length;++d)p[d].from!=null&&a.push(p[d].marker)}),a},posFromIndex:function(a){var l,p=this.first,d=this.lineSeparator().length;return this.iter(function(v){var _=v.text.length+d;if(_>a)return l=a,!0;a-=_,++p}),Rt(this,jt(p,l))},indexFromPos:function(a){a=Rt(this,a);var l=a.ch;if(a.line<this.first||a.ch<0)return 0;var p=this.lineSeparator().length;return this.iter(this.first,a.line,function(d){l+=d.text.length+p}),l},copy:function(a){var l=new _n(Qe(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return l.scrollTop=this.scrollTop,l.scrollLeft=this.scrollLeft,l.sel=this.sel,l.extend=!1,a&&(l.history.undoDepth=this.history.undoDepth,l.setHistory(this.getHistory())),l},linkedDoc:function(a){a||(a={});var l=this.first,p=this.first+this.size;a.from!=null&&a.from>l&&(l=a.from),a.to!=null&&a.to<p&&(p=a.to);var d=new _n(Qe(this,l,p),a.mode||this.modeOption,l,this.lineSep,this.direction);return a.sharedHist&&(d.history=this.history),(this.linked||(this.linked=[])).push({doc:d,sharedHist:a.sharedHist}),d.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],z1(d,Gy(this)),d},unlinkDoc:function(a){if(a instanceof er&&(a=a.doc),this.linked)for(var l=0;l<this.linked.length;++l){var p=this.linked[l];if(p.doc==a){this.linked.splice(l,1),a.unlinkDoc(this),W1(Gy(this));break}}if(a.history==this.history){var d=[a.id];Gi(a,function(v){return d.push(v.id)},!0),a.history=new zc(null),a.history.done=bs(this.history.done,d),a.history.undone=bs(this.history.undone,d)}},iterLinkedDocs:function(a){Gi(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):hr(a)},lineSeparator:function(){return this.lineSep||`
`},setDirection:Fr(function(a){a!="rtl"&&(a="ltr"),a!=this.direction&&(this.direction=a,this.iter(function(l){return l.order=null}),this.cm&&D1(this.cm))})}),_n.prototype.eachLine=_n.prototype.iter;var Yy=0;function $1(a){var l=this;if(Xy(l),!(Kt(l,a)||wo(l.display,a))){Ee(a),u&&(Yy=+new Date);var p=Aa(l,a,!0),d=a.dataTransfer.files;if(!(!p||l.isReadOnly()))if(d&&d.length&&window.FileReader&&window.File)for(var v=d.length,_=Array(v),C=0,x=function(){++C==v&&Rr(l,function(){p=Rt(l.doc,p);var lt={from:p,to:p,text:l.doc.splitLines(_.filter(function(xt){return xt!=null}).join(l.doc.lineSeparator())),origin:"paste"};Ss(l.doc,lt),Dy(l.doc,Ki(Rt(l.doc,p),Rt(l.doc,$i(lt))))})()},E=function(lt,xt){if(l.options.allowDropFileTypes&&te(l.options.allowDropFileTypes,lt.type)==-1){x();return}var Lt=new FileReader;Lt.onerror=function(){return x()},Lt.onload=function(){var Ft=Lt.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Ft)){x();return}_[xt]=Ft,x()},Lt.readAsText(lt)},M=0;M<d.length;M++)E(d[M],M);else{if(l.state.draggingText&&l.doc.sel.contains(p)>-1){l.state.draggingText(a),setTimeout(function(){return l.display.input.focus()},20);return}try{var G=a.dataTransfer.getData("Text");if(G){var Z;if(l.state.draggingText&&!l.state.draggingText.copy&&(Z=l.listSelections()),$c(l.doc,Ki(p,p)),Z)for(var gt=0;gt<Z.length;++gt)Os(l.doc,"",Z[gt].anchor,Z[gt].head,"drag");l.replaceSelection(G,"around","paste"),l.display.input.focus()}}catch{}}}}function G1(a,l){if(u&&(!a.state.draggingText||+new Date-Yy<100)){F(l);return}if(!(Kt(a,l)||wo(a.display,l))&&(l.dataTransfer.setData("Text",a.getSelection()),l.dataTransfer.effectAllowed="copyMove",l.dataTransfer.setDragImage&&!y)){var p=W("img",null,null,"position: fixed; left: 0; top: 0;");p.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",m&&(p.width=p.height=1,a.display.wrapper.appendChild(p),p._top=p.offsetTop),l.dataTransfer.setDragImage(p,0,0),m&&p.parentNode.removeChild(p)}}function Y1(a,l){var p=Aa(a,l);if(p){var d=document.createDocumentFragment();ly(a,p,d),a.display.dragCursor||(a.display.dragCursor=W("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv)),V(a.display.dragCursor,d)}}function Xy(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function qy(a){if(document.getElementsByClassName){for(var l=document.getElementsByClassName("CodeMirror"),p=[],d=0;d<l.length;d++){var v=l[d].CodeMirror;v&&p.push(v)}p.length&&p[0].operation(function(){for(var _=0;_<p.length;_++)a(p[_])})}}var Jy=!1;function X1(){Jy||(q1(),Jy=!0)}function q1(){var a;yt(window,"resize",function(){a==null&&(a=setTimeout(function(){a=null,qy(J1)},100))}),yt(window,"blur",function(){return qy(_s)})}function J1(a){var l=a.display;l.cachedCharWidth=l.cachedTextHeight=l.cachedPaddingH=null,l.scrollbarsClipped=!1,a.setSize()}for(var Xi={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},ql=0;ql<10;ql++)Xi[ql+48]=Xi[ql+96]=String(ql);for(var Xc=65;Xc<=90;Xc++)Xi[Xc]=String.fromCharCode(Xc);for(var Jl=1;Jl<=12;Jl++)Xi[Jl+111]=Xi[Jl+63235]="F"+Jl;var pi={};pi.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},pi.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},pi.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},pi.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},pi.default=T?pi.macDefault:pi.pcDefault;function Z1(a){var l=a.split(/-(?!$)/);a=l[l.length-1];for(var p,d,v,_,C=0;C<l.length-1;C++){var x=l[C];if(/^(cmd|meta|m)$/i.test(x))_=!0;else if(/^a(lt)?$/i.test(x))p=!0;else if(/^(c|ctrl|control)$/i.test(x))d=!0;else if(/^s(hift)?$/i.test(x))v=!0;else throw new Error("Unrecognized modifier name: "+x)}return p&&(a="Alt-"+a),d&&(a="Ctrl-"+a),_&&(a="Cmd-"+a),v&&(a="Shift-"+a),a}function Q1(a){var l={};for(var p in a)if(a.hasOwnProperty(p)){var d=a[p];if(/^(name|fallthrough|(de|at)tach)$/.test(p))continue;if(d=="..."){delete a[p];continue}for(var v=Ze(p.split(" "),Z1),_=0;_<v.length;_++){var C=void 0,x=void 0;_==v.length-1?(x=v.join(" "),C=d):(x=v.slice(0,_+1).join(" "),C="...");var E=l[x];if(!E)l[x]=C;else if(E!=C)throw new Error("Inconsistent bindings for "+x)}delete a[p]}for(var M in l)a[M]=l[M];return a}function Es(a,l,p,d){l=qc(l);var v=l.call?l.call(a,d):l[a];if(v===!1)return"nothing";if(v==="...")return"multi";if(v!=null&&p(v))return"handled";if(l.fallthrough){if(Object.prototype.toString.call(l.fallthrough)!="[object Array]")return Es(a,l.fallthrough,p,d);for(var _=0;_<l.fallthrough.length;_++){var C=Es(a,l.fallthrough[_],p,d);if(C)return C}}}function Zy(a){var l=typeof a=="string"?a:Xi[a.keyCode];return l=="Ctrl"||l=="Alt"||l=="Shift"||l=="Mod"}function Qy(a,l,p){var d=a;return l.altKey&&d!="Alt"&&(a="Alt-"+a),(ft?l.metaKey:l.ctrlKey)&&d!="Ctrl"&&(a="Ctrl-"+a),(ft?l.ctrlKey:l.metaKey)&&d!="Mod"&&(a="Cmd-"+a),!p&&l.shiftKey&&d!="Shift"&&(a="Shift-"+a),a}function t0(a,l){if(m&&a.keyCode==34&&a.char)return!1;var p=Xi[a.keyCode];return p==null||a.altGraphKey?!1:(a.keyCode==3&&a.code&&(p=a.code),Qy(p,a,l))}function qc(a){return typeof a=="string"?pi[a]:a}function Ps(a,l){for(var p=a.doc.sel.ranges,d=[],v=0;v<p.length;v++){for(var _=l(p[v]);d.length&&pe(_.from,de(d).to)<=0;){var C=d.pop();if(pe(C.from,_.from)<0){_.from=C.from;break}}d.push(_)}Fn(a,function(){for(var x=d.length-1;x>=0;x--)Os(a.doc,"",d[x].from,d[x].to,"+delete");ws(a)})}function ih(a,l,p){var d=ut(a.text,l+p,p);return d<0||d>a.text.length?null:d}function ah(a,l,p){var d=ih(a,l.ch,p);return d==null?null:new jt(l.line,d,p<0?"after":"before")}function sh(a,l,p,d,v){if(a){l.doc.direction=="rtl"&&(v=-v);var _=N(p,l.doc.direction);if(_){var C=v<0?de(_):_[0],x=v<0==(C.level==1),E=x?"after":"before",M;if(C.level>0||l.doc.direction=="rtl"){var G=Pt(l,p);M=v<0?p.text.length-1:0;var Z=Ht(l,G,M).top;M=ie(function(gt){return Ht(l,G,gt).top==Z},v<0==(C.level==1)?C.from:C.to-1,M),E=="before"&&(M=ih(p,M,1))}else M=v<0?C.to:C.from;return new jt(d,M,E)}}return new jt(d,v<0?p.text.length:0,v<0?"before":"after")}function tO(a,l,p,d){var v=N(l,a.doc.direction);if(!v)return ah(l,p,d);p.ch>=l.text.length?(p.ch=l.text.length,p.sticky="before"):p.ch<=0&&(p.ch=0,p.sticky="after");var _=B(v,p.ch,p.sticky),C=v[_];if(a.doc.direction=="ltr"&&C.level%2==0&&(d>0?C.to>p.ch:C.from<p.ch))return ah(l,p,d);var x=function(Xt,re){return ih(l,Xt instanceof jt?Xt.ch:Xt,re)},E,M=function(Xt){return a.options.lineWrapping?(E=E||Pt(a,l),oy(a,l,E,Xt)):{begin:0,end:l.text.length}},G=M(p.sticky=="before"?x(p,-1):p.ch);if(a.doc.direction=="rtl"||C.level==1){var Z=C.level==1==d<0,gt=x(p,Z?1:-1);if(gt!=null&&(Z?gt<=C.to&&gt<=G.end:gt>=C.from&&gt>=G.begin)){var lt=Z?"before":"after";return new jt(p.line,gt,lt)}}var xt=function(Xt,re,qt){for(var oe=function(Ke,Vr){return Vr?new jt(p.line,x(Ke,1),"before"):new jt(p.line,Ke,"after")};Xt>=0&&Xt<v.length;Xt+=re){var he=v[Xt],fe=re>0==(he.level!=1),Te=fe?qt.begin:x(qt.end,-1);if(he.from<=Te&&Te<he.to||(Te=fe?he.from:x(he.to,-1),qt.begin<=Te&&Te<qt.end))return oe(Te,fe)}},Lt=xt(_+d,d,G);if(Lt)return Lt;var Ft=d>0?G.end:x(G.begin,-1);return Ft!=null&&!(d>0&&Ft==l.text.length)&&(Lt=xt(d>0?0:v.length-1,d,M(Ft)),Lt)?Lt:null}var Zl={selectAll:Fy,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),At)},killLine:function(a){return Ps(a,function(l){if(l.empty()){var p=ne(a.doc,l.head.line).text.length;return l.head.ch==p&&l.head.line<a.lastLine()?{from:l.head,to:jt(l.head.line+1,0)}:{from:l.head,to:jt(l.head.line,p)}}else return{from:l.from(),to:l.to()}})},deleteLine:function(a){return Ps(a,function(l){return{from:jt(l.from().line,0),to:Rt(a.doc,jt(l.to().line+1,0))}})},delLineLeft:function(a){return Ps(a,function(l){return{from:jt(l.from().line,0),to:l.from()}})},delWrappedLineLeft:function(a){return Ps(a,function(l){var p=a.charCoords(l.head,"div").top+5,d=a.coordsChar({left:0,top:p},"div");return{from:d,to:l.from()}})},delWrappedLineRight:function(a){return Ps(a,function(l){var p=a.charCoords(l.head,"div").top+5,d=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:p},"div");return{from:l.from(),to:d}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(jt(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(jt(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(l){return e0(a,l.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(l){return r0(a,l.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(l){return eO(a,l.head.line)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(l){var p=a.cursorCoords(l.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:p},"div")},Yt)},goLineLeft:function(a){return a.extendSelectionsBy(function(l){var p=a.cursorCoords(l.head,"div").top+5;return a.coordsChar({left:0,top:p},"div")},Yt)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(l){var p=a.cursorCoords(l.head,"div").top+5,d=a.coordsChar({left:0,top:p},"div");return d.ch<a.getLine(d.line).search(/\S/)?r0(a,l.head):d},Yt)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,"codepoint")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("	")},insertSoftTab:function(a){for(var l=[],p=a.listSelections(),d=a.options.tabSize,v=0;v<p.length;v++){var _=p[v].from(),C=Vt(a.getLine(_.line),_.ch,d);l.push(Ae(d-C%d))}a.replaceSelections(l)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return Fn(a,function(){for(var l=a.listSelections(),p=[],d=0;d<l.length;d++)if(l[d].empty()){var v=l[d].head,_=ne(a.doc,v.line).text;if(_){if(v.ch==_.length&&(v=new jt(v.line,v.ch-1)),v.ch>0)v=new jt(v.line,v.ch+1),a.replaceRange(_.charAt(v.ch-1)+_.charAt(v.ch-2),jt(v.line,v.ch-2),v,"+transpose");else if(v.line>a.doc.first){var C=ne(a.doc,v.line-1).text;C&&(v=new jt(v.line,1),a.replaceRange(_.charAt(0)+a.doc.lineSeparator()+C.charAt(C.length-1),jt(v.line-1,C.length-1),v,"+transpose"))}}p.push(new Ve(v,v))}a.setSelections(p)})},newlineAndIndent:function(a){return Fn(a,function(){for(var l=a.listSelections(),p=l.length-1;p>=0;p--)a.replaceRange(a.doc.lineSeparator(),l[p].anchor,l[p].head,"+input");l=a.listSelections();for(var d=0;d<l.length;d++)a.indentLine(l[d].from().line,null,!0);ws(a)})},openLine:function(a){return a.replaceSelection(`
`,"start")},toggleOverwrite:function(a){return a.toggleOverwrite()}};function e0(a,l){var p=ne(a.doc,l),d=tr(p);return d!=p&&(l=ke(d)),sh(!0,a,d,l,1)}function eO(a,l){var p=ne(a.doc,l),d=Cr(p);return d!=p&&(l=ke(d)),sh(!0,a,p,l,-1)}function r0(a,l){var p=e0(a,l.line),d=ne(a.doc,p.line),v=N(d,a.doc.direction);if(!v||v[0].level==0){var _=Math.max(p.ch,d.text.search(/\S/)),C=l.line==p.line&&l.ch<=_&&l.ch;return jt(p.line,C?0:_,p.sticky)}return p}function Jc(a,l,p){if(typeof l=="string"&&(l=Zl[l],!l))return!1;a.display.input.ensurePolled();var d=a.display.shift,v=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),p&&(a.display.shift=!1),v=l(a)!=bt}finally{a.display.shift=d,a.state.suppressEdits=!1}return v}function rO(a,l,p){for(var d=0;d<a.state.keyMaps.length;d++){var v=Es(l,a.state.keyMaps[d],p,a);if(v)return v}return a.options.extraKeys&&Es(l,a.options.extraKeys,p,a)||Es(l,a.options.keyMap,p,a)}var nO=new Tt;function Ql(a,l,p,d){var v=a.state.keySeq;if(v){if(Zy(l))return"handled";if(/\'$/.test(l)?a.state.keySeq=null:nO.set(50,function(){a.state.keySeq==v&&(a.state.keySeq=null,a.display.input.reset())}),n0(a,v+" "+l,p,d))return!0}return n0(a,l,p,d)}function n0(a,l,p,d){var v=rO(a,l,d);return v=="multi"&&(a.state.keySeq=l),v=="handled"&&ur(a,"keyHandled",a,l,p),(v=="handled"||v=="multi")&&(Ee(p),zp(a)),!!v}function o0(a,l){var p=t0(l,!0);return p?l.shiftKey&&!a.state.keySeq?Ql(a,"Shift-"+p,l,function(d){return Jc(a,d,!0)})||Ql(a,p,l,function(d){if(typeof d=="string"?/^go[A-Z]/.test(d):d.motion)return Jc(a,d)}):Ql(a,p,l,function(d){return Jc(a,d)}):!1}function oO(a,l,p){return Ql(a,"'"+p+"'",l,function(d){return Jc(a,d,!0)})}var lh=null;function i0(a){var l=this;if(!(a.target&&a.target!=l.display.input.getField())&&(l.curOp.focus=_t(),!Kt(l,a))){u&&c<11&&a.keyCode==27&&(a.returnValue=!1);var p=a.keyCode;l.display.shift=p==16||a.shiftKey;var d=o0(l,a);m&&(lh=d?p:null,!d&&p==88&&!Jn&&(T?a.metaKey:a.ctrlKey)&&l.replaceSelection("",null,"cut")),e&&!T&&!d&&p==46&&a.shiftKey&&!a.ctrlKey&&document.execCommand&&document.execCommand("cut"),p==18&&!/\bCodeMirror-crosshair\b/.test(l.display.lineDiv.className)&&iO(l)}}function iO(a){var l=a.display.lineDiv;nt(l,"CodeMirror-crosshair");function p(d){(d.keyCode==18||!d.altKey)&&(rt(l,"CodeMirror-crosshair"),Qt(document,"keyup",p),Qt(document,"mouseover",p))}yt(document,"keyup",p),yt(document,"mouseover",p)}function a0(a){a.keyCode==16&&(this.doc.sel.shift=!1),Kt(this,a)}function s0(a){var l=this;if(!(a.target&&a.target!=l.display.input.getField())&&!(wo(l.display,a)||Kt(l,a)||a.ctrlKey&&!a.altKey||T&&a.metaKey)){var p=a.keyCode,d=a.charCode;if(m&&p==lh){lh=null,Ee(a);return}if(!(m&&(!a.which||a.which<10)&&o0(l,a))){var v=String.fromCharCode(d??p);v!="\b"&&(oO(l,a,v)||l.display.input.onKeyPress(a))}}}var aO=400,uh=function(a,l,p){this.time=a,this.pos=l,this.button=p};uh.prototype.compare=function(a,l,p){return this.time+aO>a&&pe(l,this.pos)==0&&p==this.button};var tu,eu;function sO(a,l){var p=+new Date;return eu&&eu.compare(p,a,l)?(tu=eu=null,"triple"):tu&&tu.compare(p,a,l)?(eu=new uh(p,a,l),tu=null,"double"):(tu=new uh(p,a,l),eu=null,"single")}function l0(a){var l=this,p=l.display;if(!(Kt(l,a)||p.activeTouch&&p.input.supportsTouch())){if(p.input.ensurePolled(),p.shift=a.shiftKey,wo(p,a)){f||(p.scroller.draggable=!1,setTimeout(function(){return p.scroller.draggable=!0},100));return}if(!ch(l,a)){var d=Aa(l,a),v=dt(a),_=d?sO(d,v):"single";window.focus(),v==1&&l.state.selectingText&&l.state.selectingText(a),!(d&&lO(l,v,d,_,a))&&(v==1?d?cO(l,d,_,a):tt(a)==p.scroller&&Ee(a):v==2?(d&&Kc(l.doc,d),setTimeout(function(){return p.input.focus()},20)):v==3&&(Q?l.display.input.onContextMenu(a):Wp(l)))}}}function lO(a,l,p,d,v){var _="Click";return d=="double"?_="Double"+_:d=="triple"&&(_="Triple"+_),_=(l==1?"Left":l==2?"Middle":"Right")+_,Ql(a,Qy(_,v),v,function(C){if(typeof C=="string"&&(C=Zl[C]),!C)return!1;var x=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),x=C(a,p)!=bt}finally{a.state.suppressEdits=!1}return x})}function uO(a,l,p){var d=a.getOption("configureMouse"),v=d?d(a,l,p):{};if(v.unit==null){var _=j?p.shiftKey&&p.metaKey:p.altKey;v.unit=_?"rectangle":l=="single"?"char":l=="double"?"word":"line"}return(v.extend==null||a.doc.extend)&&(v.extend=a.doc.extend||p.shiftKey),v.addNew==null&&(v.addNew=T?p.metaKey:p.ctrlKey),v.moveOnDrag==null&&(v.moveOnDrag=!(T?p.altKey:p.ctrlKey)),v}function cO(a,l,p,d){u?setTimeout(st(uy,a),0):a.curOp.focus=_t();var v=uO(a,p,d),_=a.doc.sel,C;a.options.dragDrop&&kt&&!a.isReadOnly()&&p=="single"&&(C=_.contains(l))>-1&&(pe((C=_.ranges[C]).from(),l)<0||l.xRel>0)&&(pe(C.to(),l)>0||l.xRel<0)?fO(a,d,l,v):dO(a,d,l,v)}function fO(a,l,p,d){var v=a.display,_=!1,C=Rr(a,function(M){f&&(v.scroller.draggable=!1),a.state.draggingText=!1,a.state.delayingBlurEvent&&(a.hasFocus()?a.state.delayingBlurEvent=!1:Wp(a)),Qt(v.wrapper.ownerDocument,"mouseup",C),Qt(v.wrapper.ownerDocument,"mousemove",x),Qt(v.scroller,"dragstart",E),Qt(v.scroller,"drop",C),_||(Ee(M),d.addNew||Kc(a.doc,p,null,null,d.extend),f&&!y||u&&c==9?setTimeout(function(){v.wrapper.ownerDocument.body.focus({preventScroll:!0}),v.input.focus()},20):v.input.focus())}),x=function(M){_=_||Math.abs(l.clientX-M.clientX)+Math.abs(l.clientY-M.clientY)>=10},E=function(){return _=!0};f&&(v.scroller.draggable=!0),a.state.draggingText=C,C.copy=!d.moveOnDrag,yt(v.wrapper.ownerDocument,"mouseup",C),yt(v.wrapper.ownerDocument,"mousemove",x),yt(v.scroller,"dragstart",E),yt(v.scroller,"drop",C),a.state.delayingBlurEvent=!0,setTimeout(function(){return v.input.focus()},20),v.scroller.dragDrop&&v.scroller.dragDrop()}function u0(a,l,p){if(p=="char")return new Ve(l,l);if(p=="word")return a.findWordAt(l);if(p=="line")return new Ve(jt(l.line,0),Rt(a.doc,jt(l.line+1,0)));var d=p(a,l);return new Ve(d.from,d.to)}function dO(a,l,p,d){u&&Wp(a);var v=a.display,_=a.doc;Ee(l);var C,x,E=_.sel,M=E.ranges;if(d.addNew&&!d.extend?(x=_.sel.contains(p),x>-1?C=M[x]:C=new Ve(p,p)):(C=_.sel.primary(),x=_.sel.primIndex),d.unit=="rectangle")d.addNew||(C=new Ve(p,p)),p=Aa(a,l,!0,!0),x=-1;else{var G=u0(a,p,d.unit);d.extend?C=nh(C,G.anchor,G.head,d.extend):C=G}d.addNew?x==-1?(x=M.length,Xr(_,Io(a,M.concat([C]),x),{scroll:!1,origin:"*mouse"})):M.length>1&&M[x].empty()&&d.unit=="char"&&!d.extend?(Xr(_,Io(a,M.slice(0,x).concat(M.slice(x+1)),0),{scroll:!1,origin:"*mouse"}),E=_.sel):oh(_,x,C,Wt):(x=0,Xr(_,new io([C],0),Wt),E=_.sel);var Z=p;function gt(qt){if(pe(Z,qt)!=0)if(Z=qt,d.unit=="rectangle"){for(var oe=[],he=a.options.tabSize,fe=Vt(ne(_,p.line).text,p.ch,he),Te=Vt(ne(_,qt.line).text,qt.ch,he),Ke=Math.min(fe,Te),Vr=Math.max(fe,Te),ar=Math.min(p.line,qt.line),Vn=Math.min(a.lastLine(),Math.max(p.line,qt.line));ar<=Vn;ar++){var wn=ne(_,ar).text,br=Ut(wn,Ke,he);Ke==Vr?oe.push(new Ve(jt(ar,br),jt(ar,br))):wn.length>br&&oe.push(new Ve(jt(ar,br),jt(ar,Ut(wn,Vr,he))))}oe.length||oe.push(new Ve(p,p)),Xr(_,Io(a,E.ranges.slice(0,x).concat(oe),x),{origin:"*mouse",scroll:!1}),a.scrollIntoView(qt)}else{var Cn=C,Wr=u0(a,qt,d.unit),Ar=Cn.anchor,xr;pe(Wr.anchor,Ar)>0?(xr=Wr.head,Ar=St(Cn.from(),Wr.anchor)):(xr=Wr.anchor,Ar=q(Cn.to(),Wr.head));var cr=E.ranges.slice(0);cr[x]=pO(a,new Ve(Rt(_,Ar),xr)),Xr(_,Io(a,cr,x),Wt)}}var lt=v.wrapper.getBoundingClientRect(),xt=0;function Lt(qt){var oe=++xt,he=Aa(a,qt,!0,d.unit=="rectangle");if(he)if(pe(he,Z)!=0){a.curOp.focus=_t(),gt(he);var fe=Vc(v,_);(he.line>=fe.to||he.line<fe.from)&&setTimeout(Rr(a,function(){xt==oe&&Lt(qt)}),150)}else{var Te=qt.clientY<lt.top?-20:qt.clientY>lt.bottom?20:0;Te&&setTimeout(Rr(a,function(){xt==oe&&(v.scroller.scrollTop+=Te,Lt(qt))}),50)}}function Ft(qt){a.state.selectingText=!1,xt=1/0,qt&&(Ee(qt),v.input.focus()),Qt(v.wrapper.ownerDocument,"mousemove",Xt),Qt(v.wrapper.ownerDocument,"mouseup",re),_.history.lastSelOrigin=null}var Xt=Rr(a,function(qt){qt.buttons===0||!dt(qt)?Ft(qt):Lt(qt)}),re=Rr(a,Ft);a.state.selectingText=re,yt(v.wrapper.ownerDocument,"mousemove",Xt),yt(v.wrapper.ownerDocument,"mouseup",re)}function pO(a,l){var p=l.anchor,d=l.head,v=ne(a.doc,p.line);if(pe(p,d)==0&&p.sticky==d.sticky)return l;var _=N(v);if(!_)return l;var C=B(_,p.ch,p.sticky),x=_[C];if(x.from!=p.ch&&x.to!=p.ch)return l;var E=C+(x.from==p.ch==(x.level!=1)?0:1);if(E==0||E==_.length)return l;var M;if(d.line!=p.line)M=(d.line-p.line)*(a.doc.direction=="ltr"?1:-1)>0;else{var G=B(_,d.ch,d.sticky),Z=G-C||(d.ch-p.ch)*(x.level==1?-1:1);G==E-1||G==E?M=Z<0:M=Z>0}var gt=_[E+(M?-1:0)],lt=M==(gt.level==1),xt=lt?gt.from:gt.to,Lt=lt?"after":"before";return p.ch==xt&&p.sticky==Lt?l:new Ve(new jt(p.line,xt,Lt),d)}function c0(a,l,p,d){var v,_;if(l.touches)v=l.touches[0].clientX,_=l.touches[0].clientY;else try{v=l.clientX,_=l.clientY}catch{return!1}if(v>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;d&&Ee(l);var C=a.display,x=C.lineDiv.getBoundingClientRect();if(_>x.bottom||!Oe(a,p))return Tr(l);_-=x.top-C.viewOffset;for(var E=0;E<a.display.gutterSpecs.length;++E){var M=C.gutters.childNodes[E];if(M&&M.getBoundingClientRect().right>=v){var G=ze(a.doc,_),Z=a.display.gutterSpecs[E];return Zt(a,p,a,G,Z.className,l),Tr(l)}}}function ch(a,l){return c0(a,l,"gutterClick",!0)}function f0(a,l){wo(a.display,l)||hO(a,l)||Kt(a,l,"contextmenu")||Q||a.display.input.onContextMenu(l)}function hO(a,l){return Oe(a,"gutterContextMenu")?c0(a,l,"gutterContextMenu",!1):!1}function d0(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Nl(a)}var ks={toString:function(){return"CodeMirror.Init"}},p0={},Zc={};function vO(a){var l=a.optionHandlers;function p(d,v,_,C){a.defaults[d]=v,_&&(l[d]=C?function(x,E,M){M!=ks&&_(x,E,M)}:_)}a.defineOption=p,a.Init=ks,p("value","",function(d,v){return d.setValue(v)},!0),p("mode",null,function(d,v){d.doc.modeOption=v,th(d)},!0),p("indentUnit",2,th,!0),p("indentWithTabs",!1),p("smartIndent",!0),p("tabSize",4,function(d){zl(d),Nl(d),yn(d)},!0),p("lineSeparator",null,function(d,v){if(d.doc.lineSep=v,!!v){var _=[],C=d.doc.first;d.doc.iter(function(E){for(var M=0;;){var G=E.text.indexOf(v,M);if(G==-1)break;M=G+v.length,_.push(jt(C,G))}C++});for(var x=_.length-1;x>=0;x--)Os(d.doc,v,_[x],jt(_[x].line,_[x].ch+v.length))}}),p("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(d,v,_){d.state.specialChars=new RegExp(v.source+(v.test("	")?"":"|	"),"g"),_!=ks&&d.refresh()}),p("specialCharPlaceholder",xc,function(d){return d.refresh()},!0),p("electricChars",!0),p("inputStyle",P?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),p("spellcheck",!1,function(d,v){return d.getInputField().spellcheck=v},!0),p("autocorrect",!1,function(d,v){return d.getInputField().autocorrect=v},!0),p("autocapitalize",!1,function(d,v){return d.getInputField().autocapitalize=v},!0),p("rtlMoveVisually",!X),p("wholeLineUpdateBefore",!0),p("theme","default",function(d){d0(d),Bl(d)},!0),p("keyMap","default",function(d,v,_){var C=qc(v),x=_!=ks&&qc(_);x&&x.detach&&x.detach(d,C),C.attach&&C.attach(d,x||null)}),p("extraKeys",null),p("configureMouse",null),p("lineWrapping",!1,mO,!0),p("gutters",[],function(d,v){d.display.gutterSpecs=Zp(v,d.options.lineNumbers),Bl(d)},!0),p("fixedGutter",!0,function(d,v){d.display.gutters.style.left=v?Hp(d.display)+"px":"0",d.refresh()},!0),p("coverGutterNextToScrollbar",!1,function(d){return Cs(d)},!0),p("scrollbarStyle","native",function(d){vy(d),Cs(d),d.display.scrollbars.setScrollTop(d.doc.scrollTop),d.display.scrollbars.setScrollLeft(d.doc.scrollLeft)},!0),p("lineNumbers",!1,function(d,v){d.display.gutterSpecs=Zp(d.options.gutters,v),Bl(d)},!0),p("firstLineNumber",1,Bl,!0),p("lineNumberFormatter",function(d){return d},Bl,!0),p("showCursorWhenSelecting",!1,Il,!0),p("resetSelectionOnContextMenu",!0),p("lineWiseCopyCut",!0),p("pasteLinesPerSelection",!0),p("selectionsMayTouch",!1),p("readOnly",!1,function(d,v){v=="nocursor"&&(_s(d),d.display.input.blur()),d.display.input.readOnlyChanged(v)}),p("screenReaderLabel",null,function(d,v){v=v===""?null:v,d.display.input.screenReaderLabelChanged(v)}),p("disableInput",!1,function(d,v){v||d.display.input.reset()},!0),p("dragDrop",!0,gO),p("allowDropFileTypes",null),p("cursorBlinkRate",530),p("cursorScrollMargin",0),p("cursorHeight",1,Il,!0),p("singleCursorHeightPerLine",!0,Il,!0),p("workTime",100),p("workDelay",100),p("flattenSpans",!0,zl,!0),p("addModeClass",!1,zl,!0),p("pollInterval",100),p("undoDepth",200,function(d,v){return d.doc.history.undoDepth=v}),p("historyEventDelay",1250),p("viewportMargin",10,function(d){return d.refresh()},!0),p("maxHighlightLength",1e4,zl,!0),p("moveInputWithCursor",!0,function(d,v){v||d.display.input.resetPosition()}),p("tabindex",null,function(d,v){return d.display.input.getField().tabIndex=v||""}),p("autofocus",null),p("direction","ltr",function(d,v){return d.doc.setDirection(v)},!0),p("phrases",null)}function gO(a,l,p){var d=p&&p!=ks;if(!l!=!d){var v=a.display.dragFunctions,_=l?yt:Qt;_(a.display.scroller,"dragstart",v.start),_(a.display.scroller,"dragenter",v.enter),_(a.display.scroller,"dragover",v.over),_(a.display.scroller,"dragleave",v.leave),_(a.display.scroller,"drop",v.drop)}}function mO(a){a.options.lineWrapping?(nt(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(rt(a.display.wrapper,"CodeMirror-wrap"),Ni(a)),Bp(a),yn(a),Nl(a),setTimeout(function(){return Cs(a)},100)}function er(a,l){var p=this;if(!(this instanceof er))return new er(a,l);this.options=l=l?Ot(l):{},Ot(p0,l,!1);var d=l.value;typeof d=="string"?d=new _n(d,l.mode,null,l.lineSeparator,l.direction):l.mode&&(d.modeOption=l.mode),this.doc=d;var v=new er.inputStyles[l.inputStyle](this),_=this.display=new A1(a,d,v,l);_.wrapper.CodeMirror=this,d0(this),l.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),vy(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Tt,keySeq:null,specialChars:null},l.autofocus&&!P&&_.input.focus(),u&&c<11&&setTimeout(function(){return p.display.input.reset(!0)},20),yO(this),X1(),ja(this),this.curOp.forceUpdate=!0,Oy(this,d),l.autofocus&&!P||this.hasFocus()?setTimeout(function(){p.hasFocus()&&!p.state.focused&&Kp(p)},20):_s(this);for(var C in Zc)Zc.hasOwnProperty(C)&&Zc[C](this,l[C],ks);yy(this),l.finishInit&&l.finishInit(this);for(var x=0;x<fh.length;++x)fh[x](this);Na(this),f&&l.lineWrapping&&getComputedStyle(_.lineDiv).textRendering=="optimizelegibility"&&(_.lineDiv.style.textRendering="auto")}er.defaults=p0,er.optionHandlers=Zc;function yO(a){var l=a.display;yt(l.scroller,"mousedown",Rr(a,l0)),u&&c<11?yt(l.scroller,"dblclick",Rr(a,function(E){if(!Kt(a,E)){var M=Aa(a,E);if(!(!M||ch(a,E)||wo(a.display,E))){Ee(E);var G=a.findWordAt(M);Kc(a.doc,G.anchor,G.head)}}})):yt(l.scroller,"dblclick",function(E){return Kt(a,E)||Ee(E)}),yt(l.scroller,"contextmenu",function(E){return f0(a,E)}),yt(l.input.getField(),"contextmenu",function(E){l.scroller.contains(E.target)||f0(a,E)});var p,d={end:0};function v(){l.activeTouch&&(p=setTimeout(function(){return l.activeTouch=null},1e3),d=l.activeTouch,d.end=+new Date)}function _(E){if(E.touches.length!=1)return!1;var M=E.touches[0];return M.radiusX<=1&&M.radiusY<=1}function C(E,M){if(M.left==null)return!0;var G=M.left-E.left,Z=M.top-E.top;return G*G+Z*Z>20*20}yt(l.scroller,"touchstart",function(E){if(!Kt(a,E)&&!_(E)&&!ch(a,E)){l.input.ensurePolled(),clearTimeout(p);var M=+new Date;l.activeTouch={start:M,moved:!1,prev:M-d.end<=300?d:null},E.touches.length==1&&(l.activeTouch.left=E.touches[0].pageX,l.activeTouch.top=E.touches[0].pageY)}}),yt(l.scroller,"touchmove",function(){l.activeTouch&&(l.activeTouch.moved=!0)}),yt(l.scroller,"touchend",function(E){var M=l.activeTouch;if(M&&!wo(l,E)&&M.left!=null&&!M.moved&&new Date-M.start<300){var G=a.coordsChar(l.activeTouch,"page"),Z;!M.prev||C(M,M.prev)?Z=new Ve(G,G):!M.prev.prev||C(M,M.prev.prev)?Z=a.findWordAt(G):Z=new Ve(jt(G.line,0),Rt(a.doc,jt(G.line+1,0))),a.setSelection(Z.anchor,Z.head),a.focus(),Ee(E)}v()}),yt(l.scroller,"touchcancel",v),yt(l.scroller,"scroll",function(){l.scroller.clientHeight&&(Fl(a,l.scroller.scrollTop),La(a,l.scroller.scrollLeft,!0),Zt(a,"scroll",a))}),yt(l.scroller,"mousewheel",function(E){return Cy(a,E)}),yt(l.scroller,"DOMMouseScroll",function(E){return Cy(a,E)}),yt(l.wrapper,"scroll",function(){return l.wrapper.scrollTop=l.wrapper.scrollLeft=0}),l.dragFunctions={enter:function(E){Kt(a,E)||F(E)},over:function(E){Kt(a,E)||(Y1(a,E),F(E))},start:function(E){return G1(a,E)},drop:Rr(a,$1),leave:function(E){Kt(a,E)||Xy(a)}};var x=l.input.getField();yt(x,"keyup",function(E){return a0.call(a,E)}),yt(x,"keydown",Rr(a,i0)),yt(x,"keypress",Rr(a,s0)),yt(x,"focus",function(E){return Kp(a,E)}),yt(x,"blur",function(E){return _s(a,E)})}var fh=[];er.defineInitHook=function(a){return fh.push(a)};function ru(a,l,p,d){var v=a.doc,_;p==null&&(p="add"),p=="smart"&&(v.mode.indent?_=ni(a,l).state:p="prev");var C=a.options.tabSize,x=ne(v,l),E=Vt(x.text,null,C);x.stateAfter&&(x.stateAfter=null);var M=x.text.match(/^\s*/)[0],G;if(!d&&!/\S/.test(x.text))G=0,p="not";else if(p=="smart"&&(G=v.mode.indent(_,x.text.slice(M.length),x.text),G==bt||G>150)){if(!d)return;p="prev"}p=="prev"?l>v.first?G=Vt(ne(v,l-1).text,null,C):G=0:p=="add"?G=E+a.options.indentUnit:p=="subtract"?G=E-a.options.indentUnit:typeof p=="number"&&(G=E+p),G=Math.max(0,G);var Z="",gt=0;if(a.options.indentWithTabs)for(var lt=Math.floor(G/C);lt;--lt)gt+=C,Z+="	";if(gt<G&&(Z+=Ae(G-gt)),Z!=M)return Os(v,Z,jt(l,0),jt(l,M.length),"+input"),x.stateAfter=null,!0;for(var xt=0;xt<v.sel.ranges.length;xt++){var Lt=v.sel.ranges[xt];if(Lt.head.line==l&&Lt.head.ch<M.length){var Ft=jt(l,M.length);oh(v,xt,new Ve(Ft,Ft));break}}}var Ro=null;function Qc(a){Ro=a}function dh(a,l,p,d,v){var _=a.doc;a.display.shift=!1,d||(d=_.sel);var C=+new Date-200,x=v=="paste"||a.state.pasteIncoming>C,E=hr(l),M=null;if(x&&d.ranges.length>1)if(Ro&&Ro.text.join(`
`)==l){if(d.ranges.length%Ro.text.length==0){M=[];for(var G=0;G<Ro.text.length;G++)M.push(_.splitLines(Ro.text[G]))}}else E.length==d.ranges.length&&a.options.pasteLinesPerSelection&&(M=Ze(E,function(Xt){return[Xt]}));for(var Z=a.curOp.updateInput,gt=d.ranges.length-1;gt>=0;gt--){var lt=d.ranges[gt],xt=lt.from(),Lt=lt.to();lt.empty()&&(p&&p>0?xt=jt(xt.line,xt.ch-p):a.state.overwrite&&!x?Lt=jt(Lt.line,Math.min(ne(_,Lt.line).text.length,Lt.ch+de(E).length)):x&&Ro&&Ro.lineWise&&Ro.text.join(`
`)==E.join(`
`)&&(xt=Lt=jt(xt.line,0)));var Ft={from:xt,to:Lt,text:M?M[gt%M.length]:E,origin:v||(x?"paste":a.state.cutIncoming>C?"cut":"+input")};Ss(a.doc,Ft),ur(a,"inputRead",a,Ft)}l&&!x&&v0(a,l),ws(a),a.curOp.updateInput<2&&(a.curOp.updateInput=Z),a.curOp.typing=!0,a.state.pasteIncoming=a.state.cutIncoming=-1}function h0(a,l){var p=a.clipboardData&&a.clipboardData.getData("Text");if(p)return a.preventDefault(),!l.isReadOnly()&&!l.options.disableInput&&Fn(l,function(){return dh(l,p,0,null,"paste")}),!0}function v0(a,l){if(!(!a.options.electricChars||!a.options.smartIndent))for(var p=a.doc.sel,d=p.ranges.length-1;d>=0;d--){var v=p.ranges[d];if(!(v.head.ch>100||d&&p.ranges[d-1].head.line==v.head.line)){var _=a.getModeAt(v.head),C=!1;if(_.electricChars){for(var x=0;x<_.electricChars.length;x++)if(l.indexOf(_.electricChars.charAt(x))>-1){C=ru(a,v.head.line,"smart");break}}else _.electricInput&&_.electricInput.test(ne(a.doc,v.head.line).text.slice(0,v.head.ch))&&(C=ru(a,v.head.line,"smart"));C&&ur(a,"electricInput",a,v.head.line)}}}function g0(a){for(var l=[],p=[],d=0;d<a.doc.sel.ranges.length;d++){var v=a.doc.sel.ranges[d].head.line,_={anchor:jt(v,0),head:jt(v+1,0)};p.push(_),l.push(a.getRange(_.anchor,_.head))}return{text:l,ranges:p}}function m0(a,l,p,d){a.setAttribute("autocorrect",p?"":"off"),a.setAttribute("autocapitalize",d?"":"off"),a.setAttribute("spellcheck",!!l)}function y0(){var a=W("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),l=W("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return f?a.style.width="1000px":a.setAttribute("wrap","off"),O&&(a.style.border="1px solid black"),m0(a),l}function _O(a){var l=a.optionHandlers,p=a.helpers={};a.prototype={constructor:a,focus:function(){window.focus(),this.display.input.focus()},setOption:function(d,v){var _=this.options,C=_[d];_[d]==v&&d!="mode"||(_[d]=v,l.hasOwnProperty(d)&&Rr(this,l[d])(this,v,C),Zt(this,"optionChange",this,d))},getOption:function(d){return this.options[d]},getDoc:function(){return this.doc},addKeyMap:function(d,v){this.state.keyMaps[v?"push":"unshift"](qc(d))},removeKeyMap:function(d){for(var v=this.state.keyMaps,_=0;_<v.length;++_)if(v[_]==d||v[_].name==d)return v.splice(_,1),!0},addOverlay:on(function(d,v){var _=d.token?d:a.getMode(this.options,d);if(_.startState)throw new Error("Overlays may not be stateful.");He(this.state.overlays,{mode:_,modeSpec:d,opaque:v&&v.opaque,priority:v&&v.priority||0},function(C){return C.priority}),this.state.modeGen++,yn(this)}),removeOverlay:on(function(d){for(var v=this.state.overlays,_=0;_<v.length;++_){var C=v[_].modeSpec;if(C==d||typeof d=="string"&&C.name==d){v.splice(_,1),this.state.modeGen++,yn(this);return}}}),indentLine:on(function(d,v,_){typeof v!="string"&&typeof v!="number"&&(v==null?v=this.options.smartIndent?"smart":"prev":v=v?"add":"subtract"),jn(this.doc,d)&&ru(this,d,v,_)}),indentSelection:on(function(d){for(var v=this.doc.sel.ranges,_=-1,C=0;C<v.length;C++){var x=v[C];if(x.empty())x.head.line>_&&(ru(this,x.head.line,d,!0),_=x.head.line,C==this.doc.sel.primIndex&&ws(this));else{var E=x.from(),M=x.to(),G=Math.max(_,E.line);_=Math.min(this.lastLine(),M.line-(M.ch?0:1))+1;for(var Z=G;Z<_;++Z)ru(this,Z,d);var gt=this.doc.sel.ranges;E.ch==0&&v.length==gt.length&&gt[C].from().ch>0&&oh(this.doc,C,new Ve(E,gt[C].to()),At)}}}),getTokenAt:function(d,v){return Li(this,d,v)},getLineTokens:function(d,v){return Li(this,jt(d),v,!0)},getTokenTypeAt:function(d){d=Rt(this.doc,d);var v=Ai(this,ne(this.doc,d.line)),_=0,C=(v.length-1)/2,x=d.ch,E;if(x==0)E=v[2];else for(;;){var M=_+C>>1;if((M?v[M*2-1]:0)>=x)C=M;else if(v[M*2+1]<x)_=M+1;else{E=v[M*2+2];break}}var G=E?E.indexOf("overlay "):-1;return G<0?E:G==0?null:E.slice(0,G-1)},getModeAt:function(d){var v=this.doc.mode;return v.innerMode?a.innerMode(v,this.getTokenAt(d).state).mode:v},getHelper:function(d,v){return this.getHelpers(d,v)[0]},getHelpers:function(d,v){var _=[];if(!p.hasOwnProperty(v))return _;var C=p[v],x=this.getModeAt(d);if(typeof x[v]=="string")C[x[v]]&&_.push(C[x[v]]);else if(x[v])for(var E=0;E<x[v].length;E++){var M=C[x[v][E]];M&&_.push(M)}else x.helperType&&C[x.helperType]?_.push(C[x.helperType]):C[x.name]&&_.push(C[x.name]);for(var G=0;G<C._global.length;G++){var Z=C._global[G];Z.pred(x,this)&&te(_,Z.val)==-1&&_.push(Z.val)}return _},getStateAfter:function(d,v){var _=this.doc;return d=It(_,d??_.first+_.size-1),ni(this,d+1,v).state},cursorCoords:function(d,v){var _,C=this.doc.sel.primary();return d==null?_=C.head:typeof d=="object"?_=Rt(this.doc,d):_=d?C.from():C.to(),No(this,_,v||"page")},charCoords:function(d,v){return Nc(this,Rt(this.doc,d),v||"page")},coordsChar:function(d,v){return d=ey(this,d,v||"page"),Fp(this,d.left,d.top)},lineAtHeight:function(d,v){return d=ey(this,{top:d,left:0},v||"page").top,ze(this.doc,d+this.display.viewOffset)},heightAtLine:function(d,v,_){var C=!1,x;if(typeof d=="number"){var E=this.doc.first+this.doc.size-1;d<this.doc.first?d=this.doc.first:d>E&&(d=E,C=!0),x=ne(this.doc,d)}else x=d;return jc(this,x,{top:0,left:0},v||"page",_||C).top+(C?this.doc.height-_o(x):0)},defaultTextHeight:function(){return ms(this.display)},defaultCharWidth:function(){return ys(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(d,v,_,C,x){var E=this.display;d=No(this,Rt(this.doc,d));var M=d.bottom,G=d.left;if(v.style.position="absolute",v.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(v),E.sizer.appendChild(v),C=="over")M=d.top;else if(C=="above"||C=="near"){var Z=Math.max(E.wrapper.clientHeight,this.doc.height),gt=Math.max(E.sizer.clientWidth,E.lineSpace.clientWidth);(C=="above"||d.bottom+v.offsetHeight>Z)&&d.top>v.offsetHeight?M=d.top-v.offsetHeight:d.bottom+v.offsetHeight<=Z&&(M=d.bottom),G+v.offsetWidth>gt&&(G=gt-v.offsetWidth)}v.style.top=M+"px",v.style.left=v.style.right="",x=="right"?(G=E.sizer.clientWidth-v.offsetWidth,v.style.right="0px"):(x=="left"?G=0:x=="middle"&&(G=(E.sizer.clientWidth-v.offsetWidth)/2),v.style.left=G+"px"),_&&g1(this,{left:G,top:M,right:G+v.offsetWidth,bottom:M+v.offsetHeight})},triggerOnKeyDown:on(i0),triggerOnKeyPress:on(s0),triggerOnKeyUp:a0,triggerOnMouseDown:on(l0),execCommand:function(d){if(Zl.hasOwnProperty(d))return Zl[d].call(null,this)},triggerElectric:on(function(d){v0(this,d)}),findPosH:function(d,v,_,C){var x=1;v<0&&(x=-1,v=-v);for(var E=Rt(this.doc,d),M=0;M<v&&(E=ph(this.doc,E,x,_,C),!E.hitSide);++M);return E},moveH:on(function(d,v){var _=this;this.extendSelectionsBy(function(C){return _.display.shift||_.doc.extend||C.empty()?ph(_.doc,C.head,d,v,_.options.rtlMoveVisually):d<0?C.from():C.to()},Yt)}),deleteH:on(function(d,v){var _=this.doc.sel,C=this.doc;_.somethingSelected()?C.replaceSelection("",null,"+delete"):Ps(this,function(x){var E=ph(C,x.head,d,v,!1);return d<0?{from:E,to:x.head}:{from:x.head,to:E}})}),findPosV:function(d,v,_,C){var x=1,E=C;v<0&&(x=-1,v=-v);for(var M=Rt(this.doc,d),G=0;G<v;++G){var Z=No(this,M,"div");if(E==null?E=Z.left:Z.left=E,M=_0(this,Z,x,_),M.hitSide)break}return M},moveV:on(function(d,v){var _=this,C=this.doc,x=[],E=!this.display.shift&&!C.extend&&C.sel.somethingSelected();if(C.extendSelectionsBy(function(G){if(E)return d<0?G.from():G.to();var Z=No(_,G.head,"div");G.goalColumn!=null&&(Z.left=G.goalColumn),x.push(Z.left);var gt=_0(_,Z,d,v);return v=="page"&&G==C.sel.primary()&&Gp(_,Nc(_,gt,"div").top-Z.top),gt},Yt),x.length)for(var M=0;M<C.sel.ranges.length;M++)C.sel.ranges[M].goalColumn=x[M]}),findWordAt:function(d){var v=this.doc,_=ne(v,d.line).text,C=d.ch,x=d.ch;if(_){var E=this.getHelper(d,"wordChars");(d.sticky=="before"||x==_.length)&&C?--C:++x;for(var M=_.charAt(C),G=ct(M,E)?function(Z){return ct(Z,E)}:/\s/.test(M)?function(Z){return/\s/.test(Z)}:function(Z){return!/\s/.test(Z)&&!ct(Z)};C>0&&G(_.charAt(C-1));)--C;for(;x<_.length&&G(_.charAt(x));)++x}return new Ve(jt(d.line,C),jt(d.line,x))},toggleOverwrite:function(d){d!=null&&d==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?nt(this.display.cursorDiv,"CodeMirror-overwrite"):rt(this.display.cursorDiv,"CodeMirror-overwrite"),Zt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==_t()},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:on(function(d,v){Rl(this,d,v)}),getScrollInfo:function(){var d=this.display.scroller;return{left:d.scrollLeft,top:d.scrollTop,height:d.scrollHeight-Rn(this)-this.display.barHeight,width:d.scrollWidth-Rn(this)-this.display.barWidth,clientHeight:k(this),clientWidth:di(this)}},scrollIntoView:on(function(d,v){d==null?(d={from:this.doc.sel.primary().head,to:null},v==null&&(v=this.options.cursorScrollMargin)):typeof d=="number"?d={from:jt(d,0),to:null}:d.from==null&&(d={from:d,to:null}),d.to||(d.to=d.from),d.margin=v||0,d.from.line!=null?m1(this,d):fy(this,d.from,d.to,d.margin)}),setSize:on(function(d,v){var _=this,C=function(E){return typeof E=="number"||/^\d+$/.test(String(E))?E+"px":E};d!=null&&(this.display.wrapper.style.width=C(d)),v!=null&&(this.display.wrapper.style.height=C(v)),this.options.lineWrapping&&Zm(this);var x=this.display.viewFrom;this.doc.iter(x,this.display.viewTo,function(E){if(E.widgets){for(var M=0;M<E.widgets.length;M++)if(E.widgets[M].noHScroll){zi(_,x,"widget");break}}++x}),this.curOp.forceUpdate=!0,Zt(this,"refresh",this)}),operation:function(d){return Fn(this,d)},startOperation:function(){return ja(this)},endOperation:function(){return Na(this)},refresh:on(function(){var d=this.display.cachedTextHeight;yn(this),this.curOp.forceUpdate=!0,Nl(this),Rl(this,this.doc.scrollLeft,this.doc.scrollTop),qp(this.display),(d==null||Math.abs(d-ms(this.display))>.5||this.options.lineWrapping)&&Bp(this),Zt(this,"refresh",this)}),swapDoc:on(function(d){var v=this.doc;return v.cm=null,this.state.selectingText&&this.state.selectingText(),Oy(this,d),Nl(this),this.display.input.reset(),Rl(this,d.scrollLeft,d.scrollTop),this.curOp.forceScroll=!0,ur(this,"swapDoc",this,v),v}),phrase:function(d){var v=this.options.phrases;return v&&Object.prototype.hasOwnProperty.call(v,d)?v[d]:d},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Me(a),a.registerHelper=function(d,v,_){p.hasOwnProperty(d)||(p[d]=a[d]={_global:[]}),p[d][v]=_},a.registerGlobalHelper=function(d,v,_,C){a.registerHelper(d,v,C),p[d]._global.push({pred:_,val:C})}}function ph(a,l,p,d,v){var _=l,C=p,x=ne(a,l.line),E=v&&a.direction=="rtl"?-p:p;function M(){var re=l.line+E;return re<a.first||re>=a.first+a.size?!1:(l=new jt(re,l.ch,l.sticky),x=ne(a,re))}function G(re){var qt;if(d=="codepoint"){var oe=x.text.charCodeAt(l.ch+(p>0?0:-1));if(isNaN(oe))qt=null;else{var he=p>0?oe>=55296&&oe<56320:oe>=56320&&oe<57343;qt=new jt(l.line,Math.max(0,Math.min(x.text.length,l.ch+p*(he?2:1))),-p)}}else v?qt=tO(a.cm,x,l,p):qt=ah(x,l,p);if(qt==null)if(!re&&M())l=sh(v,a.cm,x,l.line,E);else return!1;else l=qt;return!0}if(d=="char"||d=="codepoint")G();else if(d=="column")G(!0);else if(d=="word"||d=="group")for(var Z=null,gt=d=="group",lt=a.cm&&a.cm.getHelper(l,"wordChars"),xt=!0;!(p<0&&!G(!xt));xt=!1){var Lt=x.text.charAt(l.ch)||`
`,Ft=ct(Lt,lt)?"w":gt&&Lt==`
`?"n":!gt||/\s/.test(Lt)?null:"p";if(gt&&!xt&&!Ft&&(Ft="s"),Z&&Z!=Ft){p<0&&(p=1,G(),l.sticky="after");break}if(Ft&&(Z=Ft),p>0&&!G(!xt))break}var Xt=Gc(a,l,_,C,!0);return Qn(_,Xt)&&(Xt.hitSide=!0),Xt}function _0(a,l,p,d){var v=a.doc,_=l.left,C;if(d=="page"){var x=Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),E=Math.max(x-.5*ms(a.display),3);C=(p>0?l.bottom:l.top)+p*E}else d=="line"&&(C=p>0?l.bottom+3:l.top-3);for(var M;M=Fp(a,_,C),!!M.outside;){if(p<0?C<=0:C>=v.height){M.hitSide=!0;break}C+=p*5}return M}var Be=function(a){this.cm=a,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Tt,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Be.prototype.init=function(a){var l=this,p=this,d=p.cm,v=p.div=a.lineDiv;v.contentEditable=!0,m0(v,d.options.spellcheck,d.options.autocorrect,d.options.autocapitalize);function _(x){for(var E=x.target;E;E=E.parentNode){if(E==v)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(E.className))break}return!1}yt(v,"paste",function(x){!_(x)||Kt(d,x)||h0(x,d)||c<=11&&setTimeout(Rr(d,function(){return l.updateFromDOM()}),20)}),yt(v,"compositionstart",function(x){l.composing={data:x.data,done:!1}}),yt(v,"compositionupdate",function(x){l.composing||(l.composing={data:x.data,done:!1})}),yt(v,"compositionend",function(x){l.composing&&(x.data!=l.composing.data&&l.readFromDOMSoon(),l.composing.done=!0)}),yt(v,"touchstart",function(){return p.forceCompositionEnd()}),yt(v,"input",function(){l.composing||l.readFromDOMSoon()});function C(x){if(!(!_(x)||Kt(d,x))){if(d.somethingSelected())Qc({lineWise:!1,text:d.getSelections()}),x.type=="cut"&&d.replaceSelection("",null,"cut");else if(d.options.lineWiseCopyCut){var E=g0(d);Qc({lineWise:!0,text:E.text}),x.type=="cut"&&d.operation(function(){d.setSelections(E.ranges,0,At),d.replaceSelection("",null,"cut")})}else return;if(x.clipboardData){x.clipboardData.clearData();var M=Ro.text.join(`
`);if(x.clipboardData.setData("Text",M),x.clipboardData.getData("Text")==M){x.preventDefault();return}}var G=y0(),Z=G.firstChild;d.display.lineSpace.insertBefore(G,d.display.lineSpace.firstChild),Z.value=Ro.text.join(`
`);var gt=_t();Dt(Z),setTimeout(function(){d.display.lineSpace.removeChild(G),gt.focus(),gt==v&&p.showPrimarySelection()},50)}}yt(v,"copy",C),yt(v,"cut",C)},Be.prototype.screenReaderLabelChanged=function(a){a?this.div.setAttribute("aria-label",a):this.div.removeAttribute("aria-label")},Be.prototype.prepareSelection=function(){var a=sy(this.cm,!1);return a.focus=_t()==this.div,a},Be.prototype.showSelection=function(a,l){!a||!this.cm.display.view.length||((a.focus||l)&&this.showPrimarySelection(),this.showMultipleSelections(a))},Be.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Be.prototype.showPrimarySelection=function(){var a=this.getSelection(),l=this.cm,p=l.doc.sel.primary(),d=p.from(),v=p.to();if(l.display.viewTo==l.display.viewFrom||d.line>=l.display.viewTo||v.line<l.display.viewFrom){a.removeAllRanges();return}var _=tf(l,a.anchorNode,a.anchorOffset),C=tf(l,a.focusNode,a.focusOffset);if(!(_&&!_.bad&&C&&!C.bad&&pe(St(_,C),d)==0&&pe(q(_,C),v)==0)){var x=l.display.view,E=d.line>=l.display.viewFrom&&w0(l,d)||{node:x[0].measure.map[2],offset:0},M=v.line<l.display.viewTo&&w0(l,v);if(!M){var G=x[x.length-1].measure,Z=G.maps?G.maps[G.maps.length-1]:G.map;M={node:Z[Z.length-1],offset:Z[Z.length-2]-Z[Z.length-3]}}if(!E||!M){a.removeAllRanges();return}var gt=a.rangeCount&&a.getRangeAt(0),lt;try{lt=it(E.node,E.offset,M.offset,M.node)}catch{}lt&&(!e&&l.state.focused?(a.collapse(E.node,E.offset),lt.collapsed||(a.removeAllRanges(),a.addRange(lt))):(a.removeAllRanges(),a.addRange(lt)),gt&&a.anchorNode==null?a.addRange(gt):e&&this.startGracePeriod()),this.rememberSelection()}},Be.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){a.gracePeriod=!1,a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)},Be.prototype.showMultipleSelections=function(a){V(this.cm.display.cursorDiv,a.cursors),V(this.cm.display.selectionDiv,a.selection)},Be.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode,this.lastAnchorOffset=a.anchorOffset,this.lastFocusNode=a.focusNode,this.lastFocusOffset=a.focusOffset},Be.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;var l=a.getRangeAt(0).commonAncestorContainer;return L(this.div,l)},Be.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||_t()!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Be.prototype.blur=function(){this.div.blur()},Be.prototype.getField=function(){return this.div},Be.prototype.supportsTouch=function(){return!0},Be.prototype.receivedFocus=function(){var a=this,l=this;this.selectionInEditor()?setTimeout(function(){return a.pollSelection()},20):Fn(this.cm,function(){return l.cm.curOp.selectionChanged=!0});function p(){l.cm.state.focused&&(l.pollSelection(),l.polling.set(l.cm.options.pollInterval,p))}this.polling.set(this.cm.options.pollInterval,p)},Be.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset},Be.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var a=this.getSelection(),l=this.cm;if(S&&g&&this.cm.display.gutterSpecs.length&&wO(a.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var p=tf(l,a.anchorNode,a.anchorOffset),d=tf(l,a.focusNode,a.focusOffset);p&&d&&Fn(l,function(){Xr(l.doc,Ki(p,d),At),(p.bad||d.bad)&&(l.curOp.selectionChanged=!0)})}}},Be.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var a=this.cm,l=a.display,p=a.doc.sel.primary(),d=p.from(),v=p.to();if(d.ch==0&&d.line>a.firstLine()&&(d=jt(d.line-1,ne(a.doc,d.line-1).length)),v.ch==ne(a.doc,v.line).text.length&&v.line<a.lastLine()&&(v=jt(v.line+1,0)),d.line<l.viewFrom||v.line>l.viewTo-1)return!1;var _,C,x;d.line==l.viewFrom||(_=Ma(a,d.line))==0?(C=ke(l.view[0].line),x=l.view[0].node):(C=ke(l.view[_].line),x=l.view[_-1].node.nextSibling);var E=Ma(a,v.line),M,G;if(E==l.view.length-1?(M=l.viewTo-1,G=l.lineDiv.lastChild):(M=ke(l.view[E+1].line)-1,G=l.view[E+1].node.previousSibling),!x)return!1;for(var Z=a.doc.splitLines(CO(a,x,G,C,M)),gt=jr(a.doc,jt(C,0),jt(M,ne(a.doc,M).text.length));Z.length>1&&gt.length>1;)if(de(Z)==de(gt))Z.pop(),gt.pop(),M--;else if(Z[0]==gt[0])Z.shift(),gt.shift(),C++;else break;for(var lt=0,xt=0,Lt=Z[0],Ft=gt[0],Xt=Math.min(Lt.length,Ft.length);lt<Xt&&Lt.charCodeAt(lt)==Ft.charCodeAt(lt);)++lt;for(var re=de(Z),qt=de(gt),oe=Math.min(re.length-(Z.length==1?lt:0),qt.length-(gt.length==1?lt:0));xt<oe&&re.charCodeAt(re.length-xt-1)==qt.charCodeAt(qt.length-xt-1);)++xt;if(Z.length==1&&gt.length==1&&C==d.line)for(;lt&&lt>d.ch&&re.charCodeAt(re.length-xt-1)==qt.charCodeAt(qt.length-xt-1);)lt--,xt++;Z[Z.length-1]=re.slice(0,re.length-xt).replace(/^\u200b+/,""),Z[0]=Z[0].slice(lt).replace(/\u200b+$/,"");var he=jt(C,lt),fe=jt(M,gt.length?de(gt).length-xt:0);if(Z.length>1||Z[0]||pe(he,fe))return Os(a.doc,Z,he,fe,"+input"),!0},Be.prototype.ensurePolled=function(){this.forceCompositionEnd()},Be.prototype.reset=function(){this.forceCompositionEnd()},Be.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Be.prototype.readFromDOMSoon=function(){var a=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(a.readDOMTimeout=null,a.composing)if(a.composing.done)a.composing=null;else return;a.updateFromDOM()},80))},Be.prototype.updateFromDOM=function(){var a=this;(this.cm.isReadOnly()||!this.pollContent())&&Fn(this.cm,function(){return yn(a.cm)})},Be.prototype.setUneditable=function(a){a.contentEditable="false"},Be.prototype.onKeyPress=function(a){a.charCode==0||this.composing||(a.preventDefault(),this.cm.isReadOnly()||Rr(this.cm,dh)(this.cm,String.fromCharCode(a.charCode==null?a.keyCode:a.charCode),0))},Be.prototype.readOnlyChanged=function(a){this.div.contentEditable=String(a!="nocursor")},Be.prototype.onContextMenu=function(){},Be.prototype.resetPosition=function(){},Be.prototype.needsContentAttribute=!0;function w0(a,l){var p=ht(a,l.line);if(!p||p.hidden)return null;var d=ne(a.doc,l.line),v=J(p,d,l.line),_=N(d,a.doc.direction),C="left";if(_){var x=B(_,l.ch);C=x%2?"right":"left"}var E=be(v.map,l.ch,C);return E.offset=E.collapse=="right"?E.end:E.start,E}function wO(a){for(var l=a;l;l=l.parentNode)if(/CodeMirror-gutter-wrapper/.test(l.className))return!0;return!1}function As(a,l){return l&&(a.bad=!0),a}function CO(a,l,p,d,v){var _="",C=!1,x=a.doc.lineSeparator(),E=!1;function M(lt){return function(xt){return xt.id==lt}}function G(){C&&(_+=x,E&&(_+=x),C=E=!1)}function Z(lt){lt&&(G(),_+=lt)}function gt(lt){if(lt.nodeType==1){var xt=lt.getAttribute("cm-text");if(xt){Z(xt);return}var Lt=lt.getAttribute("cm-marker"),Ft;if(Lt){var Xt=a.findMarks(jt(d,0),jt(v+1,0),M(+Lt));Xt.length&&(Ft=Xt[0].find(0))&&Z(jr(a.doc,Ft.from,Ft.to).join(x));return}if(lt.getAttribute("contenteditable")=="false")return;var re=/^(pre|div|p|li|table|br)$/i.test(lt.nodeName);if(!/^br$/i.test(lt.nodeName)&&lt.textContent.length==0)return;re&&G();for(var qt=0;qt<lt.childNodes.length;qt++)gt(lt.childNodes[qt]);/^(pre|p)$/i.test(lt.nodeName)&&(E=!0),re&&(C=!0)}else lt.nodeType==3&&Z(lt.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;gt(l),l!=p;)l=l.nextSibling,E=!1;return _}function tf(a,l,p){var d;if(l==a.display.lineDiv){if(d=a.display.lineDiv.childNodes[p],!d)return As(a.clipPos(jt(a.display.viewTo-1)),!0);l=null,p=0}else for(d=l;;d=d.parentNode){if(!d||d==a.display.lineDiv)return null;if(d.parentNode&&d.parentNode==a.display.lineDiv)break}for(var v=0;v<a.display.view.length;v++){var _=a.display.view[v];if(_.node==d)return bO(_,l,p)}}function bO(a,l,p){var d=a.text.firstChild,v=!1;if(!l||!L(d,l))return As(jt(ke(a.line),0),!0);if(l==d&&(v=!0,l=d.childNodes[p],p=0,!l)){var _=a.rest?de(a.rest):a.line;return As(jt(ke(_),_.text.length),v)}var C=l.nodeType==3?l:null,x=l;for(!C&&l.childNodes.length==1&&l.firstChild.nodeType==3&&(C=l.firstChild,p&&(p=C.nodeValue.length));x.parentNode!=d;)x=x.parentNode;var E=a.measure,M=E.maps;function G(Ft,Xt,re){for(var qt=-1;qt<(M?M.length:0);qt++)for(var oe=qt<0?E.map:M[qt],he=0;he<oe.length;he+=3){var fe=oe[he+2];if(fe==Ft||fe==Xt){var Te=ke(qt<0?a.line:a.rest[qt]),Ke=oe[he]+re;return(re<0||fe!=Ft)&&(Ke=oe[he+(re?1:0)]),jt(Te,Ke)}}}var Z=G(C,x,p);if(Z)return As(Z,v);for(var gt=x.nextSibling,lt=C?C.nodeValue.length-p:0;gt;gt=gt.nextSibling){if(Z=G(gt,gt.firstChild,0),Z)return As(jt(Z.line,Z.ch-lt),v);lt+=gt.textContent.length}for(var xt=x.previousSibling,Lt=p;xt;xt=xt.previousSibling){if(Z=G(xt,xt.firstChild,-1),Z)return As(jt(Z.line,Z.ch+Lt),v);Lt+=xt.textContent.length}}var gr=function(a){this.cm=a,this.prevInput="",this.pollingFast=!1,this.polling=new Tt,this.hasSelection=!1,this.composing=null};gr.prototype.init=function(a){var l=this,p=this,d=this.cm;this.createField(a);var v=this.textarea;a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild),O&&(v.style.width="0px"),yt(v,"input",function(){u&&c>=9&&l.hasSelection&&(l.hasSelection=null),p.poll()}),yt(v,"paste",function(C){Kt(d,C)||h0(C,d)||(d.state.pasteIncoming=+new Date,p.fastPoll())});function _(C){if(!Kt(d,C)){if(d.somethingSelected())Qc({lineWise:!1,text:d.getSelections()});else if(d.options.lineWiseCopyCut){var x=g0(d);Qc({lineWise:!0,text:x.text}),C.type=="cut"?d.setSelections(x.ranges,null,At):(p.prevInput="",v.value=x.text.join(`
`),Dt(v))}else return;C.type=="cut"&&(d.state.cutIncoming=+new Date)}}yt(v,"cut",_),yt(v,"copy",_),yt(a.scroller,"paste",function(C){if(!(wo(a,C)||Kt(d,C))){if(!v.dispatchEvent){d.state.pasteIncoming=+new Date,p.focus();return}var x=new Event("paste");x.clipboardData=C.clipboardData,v.dispatchEvent(x)}}),yt(a.lineSpace,"selectstart",function(C){wo(a,C)||Ee(C)}),yt(v,"compositionstart",function(){var C=d.getCursor("from");p.composing&&p.composing.range.clear(),p.composing={start:C,range:d.markText(C,d.getCursor("to"),{className:"CodeMirror-composing"})}}),yt(v,"compositionend",function(){p.composing&&(p.poll(),p.composing.range.clear(),p.composing=null)})},gr.prototype.createField=function(a){this.wrapper=y0(),this.textarea=this.wrapper.firstChild},gr.prototype.screenReaderLabelChanged=function(a){a?this.textarea.setAttribute("aria-label",a):this.textarea.removeAttribute("aria-label")},gr.prototype.prepareSelection=function(){var a=this.cm,l=a.display,p=a.doc,d=sy(a);if(a.options.moveInputWithCursor){var v=No(a,p.sel.primary().head,"div"),_=l.wrapper.getBoundingClientRect(),C=l.lineDiv.getBoundingClientRect();d.teTop=Math.max(0,Math.min(l.wrapper.clientHeight-10,v.top+C.top-_.top)),d.teLeft=Math.max(0,Math.min(l.wrapper.clientWidth-10,v.left+C.left-_.left))}return d},gr.prototype.showSelection=function(a){var l=this.cm,p=l.display;V(p.cursorDiv,a.cursors),V(p.selectionDiv,a.selection),a.teTop!=null&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")},gr.prototype.reset=function(a){if(!(this.contextMenuPending||this.composing)){var l=this.cm;if(l.somethingSelected()){this.prevInput="";var p=l.getSelection();this.textarea.value=p,l.state.focused&&Dt(this.textarea),u&&c>=9&&(this.hasSelection=p)}else a||(this.prevInput=this.textarea.value="",u&&c>=9&&(this.hasSelection=null))}},gr.prototype.getField=function(){return this.textarea},gr.prototype.supportsTouch=function(){return!1},gr.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!P||_t()!=this.textarea))try{this.textarea.focus()}catch{}},gr.prototype.blur=function(){this.textarea.blur()},gr.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},gr.prototype.receivedFocus=function(){this.slowPoll()},gr.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll(),a.cm.state.focused&&a.slowPoll()})},gr.prototype.fastPoll=function(){var a=!1,l=this;l.pollingFast=!0;function p(){var d=l.poll();!d&&!a?(a=!0,l.polling.set(60,p)):(l.pollingFast=!1,l.slowPoll())}l.polling.set(20,p)},gr.prototype.poll=function(){var a=this,l=this.cm,p=this.textarea,d=this.prevInput;if(this.contextMenuPending||!l.state.focused||Ye(p)&&!d&&!this.composing||l.isReadOnly()||l.options.disableInput||l.state.keySeq)return!1;var v=p.value;if(v==d&&!l.somethingSelected())return!1;if(u&&c>=9&&this.hasSelection===v||T&&/[\uf700-\uf7ff]/.test(v))return l.display.input.reset(),!1;if(l.doc.sel==l.display.selForContextMenu){var _=v.charCodeAt(0);if(_==8203&&!d&&(d="​"),_==8666)return this.reset(),this.cm.execCommand("undo")}for(var C=0,x=Math.min(d.length,v.length);C<x&&d.charCodeAt(C)==v.charCodeAt(C);)++C;return Fn(l,function(){dh(l,v.slice(C),d.length-C,null,a.composing?"*compose":null),v.length>1e3||v.indexOf(`
`)>-1?p.value=a.prevInput="":a.prevInput=v,a.composing&&(a.composing.range.clear(),a.composing.range=l.markText(a.composing.start,l.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},gr.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},gr.prototype.onKeyPress=function(){u&&c>=9&&(this.hasSelection=null),this.fastPoll()},gr.prototype.onContextMenu=function(a){var l=this,p=l.cm,d=p.display,v=l.textarea;l.contextMenuPending&&l.contextMenuPending();var _=Aa(p,a),C=d.scroller.scrollTop;if(!_||m)return;var x=p.options.resetSelectionOnContextMenu;x&&p.doc.sel.contains(_)==-1&&Rr(p,Xr)(p.doc,Ki(_),At);var E=v.style.cssText,M=l.wrapper.style.cssText,G=l.wrapper.offsetParent.getBoundingClientRect();l.wrapper.style.cssText="position: static",v.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(a.clientY-G.top-5)+"px; left: "+(a.clientX-G.left-5)+`px;
      z-index: 1000; background: `+(u?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var Z;f&&(Z=window.scrollY),d.input.focus(),f&&window.scrollTo(null,Z),d.input.reset(),p.somethingSelected()||(v.value=l.prevInput=" "),l.contextMenuPending=lt,d.selForContextMenu=p.doc.sel,clearTimeout(d.detectingSelectAll);function gt(){if(v.selectionStart!=null){var Lt=p.somethingSelected(),Ft="​"+(Lt?v.value:"");v.value="⇚",v.value=Ft,l.prevInput=Lt?"":"​",v.selectionStart=1,v.selectionEnd=Ft.length,d.selForContextMenu=p.doc.sel}}function lt(){if(l.contextMenuPending==lt&&(l.contextMenuPending=!1,l.wrapper.style.cssText=M,v.style.cssText=E,u&&c<9&&d.scrollbars.setScrollTop(d.scroller.scrollTop=C),v.selectionStart!=null)){(!u||u&&c<9)&&gt();var Lt=0,Ft=function(){d.selForContextMenu==p.doc.sel&&v.selectionStart==0&&v.selectionEnd>0&&l.prevInput=="​"?Rr(p,Fy)(p):Lt++<10?d.detectingSelectAll=setTimeout(Ft,500):(d.selForContextMenu=null,d.input.reset())};d.detectingSelectAll=setTimeout(Ft,200)}}if(u&&c>=9&&gt(),Q){F(a);var xt=function(){Qt(window,"mouseup",xt),setTimeout(lt,20)};yt(window,"mouseup",xt)}else setTimeout(lt,50)},gr.prototype.readOnlyChanged=function(a){a||this.reset(),this.textarea.disabled=a=="nocursor",this.textarea.readOnly=!!a},gr.prototype.setUneditable=function(){},gr.prototype.needsContentAttribute=!1;function xO(a,l){if(l=l?Ot(l):{},l.value=a.value,!l.tabindex&&a.tabIndex&&(l.tabindex=a.tabIndex),!l.placeholder&&a.placeholder&&(l.placeholder=a.placeholder),l.autofocus==null){var p=_t();l.autofocus=p==a||a.getAttribute("autofocus")!=null&&p==document.body}function d(){a.value=x.getValue()}var v;if(a.form&&(yt(a.form,"submit",d),!l.leaveSubmitMethodAlone)){var _=a.form;v=_.submit;try{var C=_.submit=function(){d(),_.submit=v,_.submit(),_.submit=C}}catch{}}l.finishInit=function(E){E.save=d,E.getTextArea=function(){return a},E.toTextArea=function(){E.toTextArea=isNaN,d(),a.parentNode.removeChild(E.getWrapperElement()),a.style.display="",a.form&&(Qt(a.form,"submit",d),!l.leaveSubmitMethodAlone&&typeof a.form.submit=="function"&&(a.form.submit=v))}},a.style.display="none";var x=er(function(E){return a.parentNode.insertBefore(E,a.nextSibling)},l);return x}function SO(a){a.off=Qt,a.on=yt,a.wheelEventPixels=M1,a.Doc=_n,a.splitLines=hr,a.countColumn=Vt,a.findColumn=Ut,a.isWordChar=Y,a.Pass=bt,a.signal=Zt,a.Line=Ir,a.changeEnd=$i,a.scrollbarModel=hy,a.Pos=jt,a.cmpPos=pe,a.modes=Ln,a.mimeModes=Ne,a.resolveMode=Gr,a.getMode=ve,a.modeExtensions=Dn,a.extendMode=vn,a.copyState=yr,a.startState=en,a.innerMode=_r,a.commands=Zl,a.keyMap=pi,a.keyName=t0,a.isModifierKey=Zy,a.lookupKey=Es,a.normalizeKeyMap=Q1,a.StringStream=Ie,a.SharedTextMarker=Xl,a.TextMarker=Yi,a.LineWidget=Yl,a.e_preventDefault=Ee,a.e_stopPropagation=ir,a.e_stop=F,a.addClass=nt,a.contains=L,a.rmClass=rt,a.keyNames=Xi}vO(er),_O(er);var OO="iter insert remove copy getEditor constructor".split(" ");for(var ef in _n.prototype)_n.prototype.hasOwnProperty(ef)&&te(OO,ef)<0&&(er.prototype[ef]=function(a){return function(){return a.apply(this.doc,arguments)}}(_n.prototype[ef]));return Me(_n),er.inputStyles={textarea:gr,contenteditable:Be},er.defineMode=function(a){!er.defaults.mode&&a!="null"&&(er.defaults.mode=a),vr.apply(this,arguments)},er.defineMIME=Le,er.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}}),er.defineMIME("text/plain","null"),er.defineExtension=function(a,l){er.prototype[a]=l},er.defineDocExtension=function(a,l){_n.prototype[a]=l},er.fromTextArea=xO,SO(er),er.version="5.63.0",er})},656:(o,r,t)=>{(function(e){e(t(237))})(function(e){e.defineMode("css",function(H,V){var W=V.inline;V.propertyKeywords||(V=e.resolveMode("text/css"));var z=H.indentUnit,it=V.tokenHooks,L=V.documentTypes||{},_t=V.mediaTypes||{},nt=V.mediaFeatures||{},Ct=V.mediaValueKeywords||{},Dt=V.propertyKeywords||{},st=V.nonStandardPropertyKeywords||{},Ot=V.fontProperties||{},Vt=V.counterDescriptors||{},Tt=V.colorKeywords||{},te=V.valueKeywords||{},pt=V.allowNested,bt=V.lineComment,At=V.supportsAtComponent===!0,Wt=H.highlightNonStandardPropertyKeywords!==!1,Yt,Ut;function ee($,vt){return Yt=vt,$}function Ae($,vt){var ut=$.next();if(it[ut]){var ie=it[ut]($,vt);if(ie!==!1)return ie}if(ut=="@")return $.eatWhile(/[\w\\\-]/),ee("def",$.current());if(ut=="="||(ut=="~"||ut=="|")&&$.eat("="))return ee(null,"compare");if(ut=='"'||ut=="'")return vt.tokenize=de(ut),vt.tokenize($,vt);if(ut=="#")return $.eatWhile(/[\w\\\-]/),ee("atom","hash");if(ut=="!")return $.match(/^\s*\w*/),ee("keyword","important");if(/\d/.test(ut)||ut=="."&&$.eat(/\d/))return $.eatWhile(/[\w.%]/),ee("number","unit");if(ut==="-"){if(/[\d.]/.test($.peek()))return $.eatWhile(/[\w.%]/),ee("number","unit");if($.match(/^-[\w\\\-]*/))return $.eatWhile(/[\w\\\-]/),$.match(/^\s*:/,!1)?ee("variable-2","variable-definition"):ee("variable-2","variable");if($.match(/^\w+-/))return ee("meta","meta")}else return/[,+>*\/]/.test(ut)?ee(null,"select-op"):ut=="."&&$.match(/^-?[_a-z][_a-z0-9-]*/i)?ee("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(ut)?ee(null,ut):$.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test($.current())&&(vt.tokenize=Ze),ee("variable callee","variable")):/[\w\\\-]/.test(ut)?($.eatWhile(/[\w\\\-]/),ee("property","word")):ee(null,null)}function de($){return function(vt,ut){for(var ie=!1,Ce;(Ce=vt.next())!=null;){if(Ce==$&&!ie){$==")"&&vt.backUp(1);break}ie=!ie&&Ce=="\\"}return(Ce==$||!ie&&$!=")")&&(ut.tokenize=null),ee("string","string")}}function Ze($,vt){return $.next(),$.match(/^\s*[\"\')]/,!1)?vt.tokenize=null:vt.tokenize=de(")"),ee(null,"(")}function He($,vt,ut){this.type=$,this.indent=vt,this.prev=ut}function _e($,vt,ut,ie){return $.context=new He(ut,vt.indentation()+(ie===!1?0:z),$.context),ut}function A($){return $.context.prev&&($.context=$.context.prev),$.context.type}function U($,vt,ut){return wt[ut.context.type]($,vt,ut)}function Y($,vt,ut,ie){for(var Ce=ie||1;Ce>0;Ce--)ut.context=ut.context.prev;return U($,vt,ut)}function ct($){var vt=$.current().toLowerCase();te.hasOwnProperty(vt)?Ut="atom":Tt.hasOwnProperty(vt)?Ut="keyword":Ut="variable"}var wt={};return wt.top=function($,vt,ut){if($=="{")return _e(ut,vt,"block");if($=="}"&&ut.context.prev)return A(ut);if(At&&/@component/i.test($))return _e(ut,vt,"atComponentBlock");if(/^@(-moz-)?document$/i.test($))return _e(ut,vt,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test($))return _e(ut,vt,"atBlock");if(/^@(font-face|counter-style)/i.test($))return ut.stateArg=$,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test($))return"keyframes";if($&&$.charAt(0)=="@")return _e(ut,vt,"at");if($=="hash")Ut="builtin";else if($=="word")Ut="tag";else{if($=="variable-definition")return"maybeprop";if($=="interpolation")return _e(ut,vt,"interpolation");if($==":")return"pseudo";if(pt&&$=="(")return _e(ut,vt,"parens")}return ut.context.type},wt.block=function($,vt,ut){if($=="word"){var ie=vt.current().toLowerCase();return Dt.hasOwnProperty(ie)?(Ut="property","maybeprop"):st.hasOwnProperty(ie)?(Ut=Wt?"string-2":"property","maybeprop"):pt?(Ut=vt.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(Ut+=" error","maybeprop")}else return $=="meta"?"block":!pt&&($=="hash"||$=="qualifier")?(Ut="error","block"):wt.top($,vt,ut)},wt.maybeprop=function($,vt,ut){return $==":"?_e(ut,vt,"prop"):U($,vt,ut)},wt.prop=function($,vt,ut){if($==";")return A(ut);if($=="{"&&pt)return _e(ut,vt,"propBlock");if($=="}"||$=="{")return Y($,vt,ut);if($=="(")return _e(ut,vt,"parens");if($=="hash"&&!/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(vt.current()))Ut+=" error";else if($=="word")ct(vt);else if($=="interpolation")return _e(ut,vt,"interpolation");return"prop"},wt.propBlock=function($,vt,ut){return $=="}"?A(ut):$=="word"?(Ut="property","maybeprop"):ut.context.type},wt.parens=function($,vt,ut){return $=="{"||$=="}"?Y($,vt,ut):$==")"?A(ut):$=="("?_e(ut,vt,"parens"):$=="interpolation"?_e(ut,vt,"interpolation"):($=="word"&&ct(vt),"parens")},wt.pseudo=function($,vt,ut){return $=="meta"?"pseudo":$=="word"?(Ut="variable-3",ut.context.type):U($,vt,ut)},wt.documentTypes=function($,vt,ut){return $=="word"&&L.hasOwnProperty(vt.current())?(Ut="tag",ut.context.type):wt.atBlock($,vt,ut)},wt.atBlock=function($,vt,ut){if($=="(")return _e(ut,vt,"atBlock_parens");if($=="}"||$==";")return Y($,vt,ut);if($=="{")return A(ut)&&_e(ut,vt,pt?"block":"top");if($=="interpolation")return _e(ut,vt,"interpolation");if($=="word"){var ie=vt.current().toLowerCase();ie=="only"||ie=="not"||ie=="and"||ie=="or"?Ut="keyword":_t.hasOwnProperty(ie)?Ut="attribute":nt.hasOwnProperty(ie)?Ut="property":Ct.hasOwnProperty(ie)?Ut="keyword":Dt.hasOwnProperty(ie)?Ut="property":st.hasOwnProperty(ie)?Ut=Wt?"string-2":"property":te.hasOwnProperty(ie)?Ut="atom":Tt.hasOwnProperty(ie)?Ut="keyword":Ut="error"}return ut.context.type},wt.atComponentBlock=function($,vt,ut){return $=="}"?Y($,vt,ut):$=="{"?A(ut)&&_e(ut,vt,pt?"block":"top",!1):($=="word"&&(Ut="error"),ut.context.type)},wt.atBlock_parens=function($,vt,ut){return $==")"?A(ut):$=="{"||$=="}"?Y($,vt,ut,2):wt.atBlock($,vt,ut)},wt.restricted_atBlock_before=function($,vt,ut){return $=="{"?_e(ut,vt,"restricted_atBlock"):$=="word"&&ut.stateArg=="@counter-style"?(Ut="variable","restricted_atBlock_before"):U($,vt,ut)},wt.restricted_atBlock=function($,vt,ut){return $=="}"?(ut.stateArg=null,A(ut)):$=="word"?(ut.stateArg=="@font-face"&&!Ot.hasOwnProperty(vt.current().toLowerCase())||ut.stateArg=="@counter-style"&&!Vt.hasOwnProperty(vt.current().toLowerCase())?Ut="error":Ut="property","maybeprop"):"restricted_atBlock"},wt.keyframes=function($,vt,ut){return $=="word"?(Ut="variable","keyframes"):$=="{"?_e(ut,vt,"top"):U($,vt,ut)},wt.at=function($,vt,ut){return $==";"?A(ut):$=="{"||$=="}"?Y($,vt,ut):($=="word"?Ut="tag":$=="hash"&&(Ut="builtin"),"at")},wt.interpolation=function($,vt,ut){return $=="}"?A(ut):$=="{"||$==";"?Y($,vt,ut):($=="word"?Ut="variable":$!="variable"&&$!="("&&$!=")"&&(Ut="error"),"interpolation")},{startState:function($){return{tokenize:null,state:W?"block":"top",stateArg:null,context:new He(W?"block":"top",$||0,null)}},token:function($,vt){if(!vt.tokenize&&$.eatSpace())return null;var ut=(vt.tokenize||Ae)($,vt);return ut&&typeof ut=="object"&&(Yt=ut[1],ut=ut[0]),Ut=ut,Yt!="comment"&&(vt.state=wt[vt.state](Yt,$,vt)),Ut},indent:function($,vt){var ut=$.context,ie=vt&&vt.charAt(0),Ce=ut.indent;return ut.type=="prop"&&(ie=="}"||ie==")")&&(ut=ut.prev),ut.prev&&(ie=="}"&&(ut.type=="block"||ut.type=="top"||ut.type=="interpolation"||ut.type=="restricted_atBlock")?(ut=ut.prev,Ce=ut.indent):(ie==")"&&(ut.type=="parens"||ut.type=="atBlock_parens")||ie=="{"&&(ut.type=="at"||ut.type=="atBlock"))&&(Ce=Math.max(0,ut.indent-z))),Ce},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:bt,fold:"brace"}});function n(H){for(var V={},W=0;W<H.length;++W)V[H[W].toLowerCase()]=!0;return V}var i=["domain","regexp","url","url-prefix"],s=n(i),u=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],c=n(u),f=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme"],h=n(f),g=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light"],m=n(g),y=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],w=n(y),b=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],O=n(b),S=["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],P=n(S),T=["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"],j=n(T),X=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],at=n(X),ft=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],Q=n(ft),K=i.concat(u).concat(f).concat(g).concat(y).concat(b).concat(X).concat(ft);e.registerHelper("hintWords","css",K);function rt(H,V){for(var W=!1,z;(z=H.next())!=null;){if(W&&z=="/"){V.tokenize=null;break}W=z=="*"}return["comment","comment"]}e.defineMIME("text/css",{documentTypes:s,mediaTypes:c,mediaFeatures:h,mediaValueKeywords:m,propertyKeywords:w,nonStandardPropertyKeywords:O,fontProperties:P,counterDescriptors:j,colorKeywords:at,valueKeywords:Q,tokenHooks:{"/":function(H,V){return H.eat("*")?(V.tokenize=rt,rt(H,V)):!1}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:c,mediaFeatures:h,mediaValueKeywords:m,propertyKeywords:w,nonStandardPropertyKeywords:O,colorKeywords:at,valueKeywords:Q,fontProperties:P,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(H,V){return H.eat("/")?(H.skipToEnd(),["comment","comment"]):H.eat("*")?(V.tokenize=rt,rt(H,V)):["operator","operator"]},":":function(H){return H.match(/^\s*\{/,!1)?[null,null]:!1},$:function(H){return H.match(/^[\w-]+/),H.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(H){return H.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:c,mediaFeatures:h,mediaValueKeywords:m,propertyKeywords:w,nonStandardPropertyKeywords:O,colorKeywords:at,valueKeywords:Q,fontProperties:P,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(H,V){return H.eat("/")?(H.skipToEnd(),["comment","comment"]):H.eat("*")?(V.tokenize=rt,rt(H,V)):["operator","operator"]},"@":function(H){return H.eat("{")?[null,"interpolation"]:H.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)?!1:(H.eatWhile(/[\w\\\-]/),H.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),e.defineMIME("text/x-gss",{documentTypes:s,mediaTypes:c,mediaFeatures:h,propertyKeywords:w,nonStandardPropertyKeywords:O,fontProperties:P,counterDescriptors:j,colorKeywords:at,valueKeywords:Q,supportsAtComponent:!0,tokenHooks:{"/":function(H,V){return H.eat("*")?(V.tokenize=rt,rt(H,V)):!1}},name:"css",helperType:"gss"})})},520:(o,r,t)=>{(function(e){e(t(237),t(576),t(792),t(656))})(function(e){var n={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};function i(m,y,w){var b=m.current(),O=b.search(y);return O>-1?m.backUp(b.length-O):b.match(/<\/?$/)&&(m.backUp(b.length),m.match(y,!1)||m.match(b)),w}var s={};function u(m){var y=s[m];return y||(s[m]=new RegExp("\\s+"+m+`\\s*=\\s*('|")?([^'"]+)('|")?\\s*`))}function c(m,y){var w=m.match(u(y));return w?/^\s*(.*?)\s*$/.exec(w[2])[1]:""}function f(m,y){return new RegExp((y?"^":"")+"</s*"+m+"s*>","i")}function h(m,y){for(var w in m)for(var b=y[w]||(y[w]=[]),O=m[w],S=O.length-1;S>=0;S--)b.unshift(O[S])}function g(m,y){for(var w=0;w<m.length;w++){var b=m[w];if(!b[0]||b[1].test(c(y,b[0])))return b[2]}}e.defineMode("htmlmixed",function(m,y){var w=e.getMode(m,{name:"xml",htmlMode:!0,multilineTagIndentFactor:y.multilineTagIndentFactor,multilineTagIndentPastTag:y.multilineTagIndentPastTag,allowMissingTagName:y.allowMissingTagName}),b={},O=y&&y.tags,S=y&&y.scriptTypes;if(h(n,b),O&&h(O,b),S)for(var P=S.length-1;P>=0;P--)b.script.unshift(["type",S[P].matches,S[P].mode]);function T(j,X){var at=w.token(j,X.htmlState),ft=/\btag\b/.test(at),Q;if(ft&&!/[<>\s\/]/.test(j.current())&&(Q=X.htmlState.tagName&&X.htmlState.tagName.toLowerCase())&&b.hasOwnProperty(Q))X.inTag=Q+" ";else if(X.inTag&&ft&&/>$/.test(j.current())){var K=/^([\S]+) (.*)/.exec(X.inTag);X.inTag=null;var rt=j.current()==">"&&g(b[K[1]],K[2]),H=e.getMode(m,rt),V=f(K[1],!0),W=f(K[1],!1);X.token=function(z,it){return z.match(V,!1)?(it.token=T,it.localState=it.localMode=null,null):i(z,W,it.localMode.token(z,it.localState))},X.localMode=H,X.localState=e.startState(H,w.indent(X.htmlState,"",""))}else X.inTag&&(X.inTag+=j.current(),j.eol()&&(X.inTag+=" "));return at}return{startState:function(){var j=e.startState(w);return{token:T,inTag:null,localMode:null,localState:null,htmlState:j}},copyState:function(j){var X;return j.localState&&(X=e.copyState(j.localMode,j.localState)),{token:j.token,inTag:j.inTag,localMode:j.localMode,localState:X,htmlState:e.copyState(w,j.htmlState)}},token:function(j,X){return X.token(j,X)},indent:function(j,X,at){return!j.localMode||/^\s*<\//.test(X)?w.indent(j.htmlState,X,at):j.localMode.indent?j.localMode.indent(j.localState,X,at):e.Pass},innerMode:function(j){return{state:j.localState||j.htmlState,mode:j.localMode||w}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")})},792:(o,r,t)=>{(function(e){e(t(237))})(function(e){e.defineMode("javascript",function(n,i){var s=n.indentUnit,u=i.statementIndent,c=i.jsonld,f=i.json||c,h=i.trackScope!==!1,g=i.typescript,m=i.wordCharacters||/[\w$\xa1-\uffff]/,y=function(){function I(qe){return{type:qe,style:"keyword"}}var q=I("keyword a"),St=I("keyword b"),It=I("keyword c"),Rt=I("keyword d"),Se=I("operator"),Pe={type:"atom",style:"atom"};return{if:I("if"),while:q,with:q,else:St,do:St,try:St,finally:St,return:Rt,break:Rt,continue:Rt,new:I("new"),delete:It,void:It,throw:It,debugger:I("debugger"),var:I("var"),const:I("var"),let:I("var"),function:I("function"),catch:I("catch"),for:I("for"),switch:I("switch"),case:I("case"),default:I("default"),in:Se,typeof:Se,instanceof:Se,true:Pe,false:Pe,null:Pe,undefined:Pe,NaN:Pe,Infinity:Pe,this:I("this"),class:I("class"),super:I("atom"),yield:It,export:I("export"),import:I("import"),extends:It,await:It}}(),w=/[+\-*&%=<>!?|~^@]/,b=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function O(I){for(var q=!1,St,It=!1;(St=I.next())!=null;){if(!q){if(St=="/"&&!It)return;St=="["?It=!0:It&&St=="]"&&(It=!1)}q=!q&&St=="\\"}}var S,P;function T(I,q,St){return S=I,P=St,q}function j(I,q){var St=I.next();if(St=='"'||St=="'")return q.tokenize=X(St),q.tokenize(I,q);if(St=="."&&I.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return T("number","number");if(St=="."&&I.match(".."))return T("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(St))return T(St);if(St=="="&&I.eat(">"))return T("=>","operator");if(St=="0"&&I.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return T("number","number");if(/\d/.test(St))return I.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),T("number","number");if(St=="/")return I.eat("*")?(q.tokenize=at,at(I,q)):I.eat("/")?(I.skipToEnd(),T("comment","comment")):Qn(I,q,1)?(O(I),I.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),T("regexp","string-2")):(I.eat("="),T("operator","operator",I.current()));if(St=="`")return q.tokenize=ft,ft(I,q);if(St=="#"&&I.peek()=="!")return I.skipToEnd(),T("meta","meta");if(St=="#"&&I.eatWhile(m))return T("variable","property");if(St=="<"&&I.match("!--")||St=="-"&&I.match("->")&&!/\S/.test(I.string.slice(0,I.start)))return I.skipToEnd(),T("comment","comment");if(w.test(St))return(St!=">"||!q.lexical||q.lexical.type!=">")&&(I.eat("=")?(St=="!"||St=="=")&&I.eat("="):/[<>*+\-|&?]/.test(St)&&(I.eat(St),St==">"&&I.eat(St))),St=="?"&&I.eat(".")?T("."):T("operator","operator",I.current());if(m.test(St)){I.eatWhile(m);var It=I.current();if(q.lastType!="."){if(y.propertyIsEnumerable(It)){var Rt=y[It];return T(Rt.type,Rt.style,It)}if(It=="async"&&I.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return T("async","keyword",It)}return T("variable","variable",It)}}function X(I){return function(q,St){var It=!1,Rt;if(c&&q.peek()=="@"&&q.match(b))return St.tokenize=j,T("jsonld-keyword","meta");for(;(Rt=q.next())!=null&&!(Rt==I&&!It);)It=!It&&Rt=="\\";return It||(St.tokenize=j),T("string","string")}}function at(I,q){for(var St=!1,It;It=I.next();){if(It=="/"&&St){q.tokenize=j;break}St=It=="*"}return T("comment","comment")}function ft(I,q){for(var St=!1,It;(It=I.next())!=null;){if(!St&&(It=="`"||It=="$"&&I.eat("{"))){q.tokenize=j;break}St=!St&&It=="\\"}return T("quasi","string-2",I.current())}var Q="([{}])";function K(I,q){q.fatArrowAt&&(q.fatArrowAt=null);var St=I.string.indexOf("=>",I.start);if(!(St<0)){if(g){var It=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(I.string.slice(I.start,St));It&&(St=It.index)}for(var Rt=0,Se=!1,Pe=St-1;Pe>=0;--Pe){var qe=I.string.charAt(Pe),Fe=Q.indexOf(qe);if(Fe>=0&&Fe<3){if(!Rt){++Pe;break}if(--Rt==0){qe=="("&&(Se=!0);break}}else if(Fe>=3&&Fe<6)++Rt;else if(m.test(qe))Se=!0;else if(/["'\/`]/.test(qe))for(;;--Pe){if(Pe==0)return;var Nn=I.string.charAt(Pe-1);if(Nn==qe&&I.string.charAt(Pe-2)!="\\"){Pe--;break}}else if(Se&&!Rt){++Pe;break}}Se&&!Rt&&(q.fatArrowAt=Pe)}}var rt={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function H(I,q,St,It,Rt,Se){this.indented=I,this.column=q,this.type=St,this.prev=Rt,this.info=Se,It!=null&&(this.align=It)}function V(I,q){if(!h)return!1;for(var St=I.localVars;St;St=St.next)if(St.name==q)return!0;for(var It=I.context;It;It=It.prev)for(var St=It.vars;St;St=St.next)if(St.name==q)return!0}function W(I,q,St,It,Rt){var Se=I.cc;for(z.state=I,z.stream=Rt,z.marked=null,z.cc=Se,z.style=q,I.lexical.hasOwnProperty("align")||(I.lexical.align=!0);;){var Pe=Se.length?Se.pop():f?ee:Yt;if(Pe(St,It)){for(;Se.length&&Se[Se.length-1].lex;)Se.pop()();return z.marked?z.marked:St=="variable"&&V(I,It)?"variable-2":q}}}var z={state:null,column:null,marked:null,cc:null};function it(){for(var I=arguments.length-1;I>=0;I--)z.cc.push(arguments[I])}function L(){return it.apply(null,arguments),!0}function _t(I,q){for(var St=q;St;St=St.next)if(St.name==I)return!0;return!1}function nt(I){var q=z.state;if(z.marked="def",!!h){if(q.context){if(q.lexical.info=="var"&&q.context&&q.context.block){var St=Ct(I,q.context);if(St!=null){q.context=St;return}}else if(!_t(I,q.localVars)){q.localVars=new Ot(I,q.localVars);return}}i.globalVars&&!_t(I,q.globalVars)&&(q.globalVars=new Ot(I,q.globalVars))}}function Ct(I,q){if(q)if(q.block){var St=Ct(I,q.prev);return St?St==q.prev?q:new st(St,q.vars,!0):null}else return _t(I,q.vars)?q:new st(q.prev,new Ot(I,q.vars),!1);else return null}function Dt(I){return I=="public"||I=="private"||I=="protected"||I=="abstract"||I=="readonly"}function st(I,q,St){this.prev=I,this.vars=q,this.block=St}function Ot(I,q){this.name=I,this.next=q}var Vt=new Ot("this",new Ot("arguments",null));function Tt(){z.state.context=new st(z.state.context,z.state.localVars,!1),z.state.localVars=Vt}function te(){z.state.context=new st(z.state.context,z.state.localVars,!0),z.state.localVars=null}function pt(){z.state.localVars=z.state.context.vars,z.state.context=z.state.context.prev}pt.lex=!0;function bt(I,q){var St=function(){var It=z.state,Rt=It.indented;if(It.lexical.type=="stat")Rt=It.lexical.indented;else for(var Se=It.lexical;Se&&Se.type==")"&&Se.align;Se=Se.prev)Rt=Se.indented;It.lexical=new H(Rt,z.stream.column(),I,null,It.lexical,q)};return St.lex=!0,St}function At(){var I=z.state;I.lexical.prev&&(I.lexical.type==")"&&(I.indented=I.lexical.indented),I.lexical=I.lexical.prev)}At.lex=!0;function Wt(I){function q(St){return St==I?L():I==";"||St=="}"||St==")"||St=="]"?it():L(q)}return q}function Yt(I,q){return I=="var"?L(bt("vardef",q),ce,Wt(";"),At):I=="keyword a"?L(bt("form"),de,Yt,At):I=="keyword b"?L(bt("form"),Yt,At):I=="keyword d"?z.stream.match(/^\s*$/,!1)?L():L(bt("stat"),He,Wt(";"),At):I=="debugger"?L(Wt(";")):I=="{"?L(bt("}"),te,yt,At,pt):I==";"?L():I=="if"?(z.state.lexical.info=="else"&&z.state.cc[z.state.cc.length-1]==At&&z.state.cc.pop()(),L(bt("form"),de,Yt,At,Xe)):I=="function"?L(vr):I=="for"?L(bt("form"),te,tn,Yt,pt,At):I=="class"||g&&q=="interface"?(z.marked="keyword",L(bt("form",I=="class"?I:q),vn,At)):I=="variable"?g&&q=="declare"?(z.marked="keyword",L(Yt)):g&&(q=="module"||q=="enum"||q=="type")&&z.stream.match(/^\s*\w/,!1)?(z.marked="keyword",q=="enum"?L(Zn):q=="type"?L(Gr,Wt("operator"),se,Wt(";")):L(bt("form"),we,Wt("{"),bt("}"),yt,At,At)):g&&q=="namespace"?(z.marked="keyword",L(bt("form"),ee,Yt,At)):g&&q=="abstract"?(z.marked="keyword",L(Yt)):L(bt("stat"),ie):I=="switch"?L(bt("form"),de,Wt("{"),bt("}","switch"),te,yt,At,At,pt):I=="case"?L(ee,Wt(":")):I=="default"?L(Wt(":")):I=="catch"?L(bt("form"),Tt,Ut,Yt,At,pt):I=="export"?L(bt("stat"),Ie,At):I=="import"?L(bt("stat"),jr,At):I=="async"?L(Yt):q=="@"?L(ee,Yt):it(bt("stat"),ee,Wt(";"),At)}function Ut(I){if(I=="(")return L(ve,Wt(")"))}function ee(I,q){return Ze(I,q,!1)}function Ae(I,q){return Ze(I,q,!0)}function de(I){return I!="("?it():L(bt(")"),He,Wt(")"),At)}function Ze(I,q,St){if(z.state.fatArrowAt==z.stream.start){var It=St?wt:ct;if(I=="(")return L(Tt,bt(")"),N(ve,")"),At,Wt("=>"),It,pt);if(I=="variable")return it(Tt,we,Wt("=>"),It,pt)}var Rt=St?A:_e;return rt.hasOwnProperty(I)?L(Rt):I=="function"?L(vr,Rt):I=="class"||g&&q=="interface"?(z.marked="keyword",L(bt("form"),Dn,At)):I=="keyword c"||I=="async"?L(St?Ae:ee):I=="("?L(bt(")"),He,Wt(")"),At,Rt):I=="operator"||I=="spread"?L(St?Ae:ee):I=="["?L(bt("]"),jn,At,Rt):I=="{"?Et(ge,"}",null,Rt):I=="quasi"?it(U,Rt):I=="new"?L($(St)):L()}function He(I){return I.match(/[;\}\)\],]/)?it():it(ee)}function _e(I,q){return I==","?L(He):A(I,q,!1)}function A(I,q,St){var It=St==!1?_e:A,Rt=St==!1?ee:Ae;if(I=="=>")return L(Tt,St?wt:ct,pt);if(I=="operator")return/\+\+|--/.test(q)||g&&q=="!"?L(It):g&&q=="<"&&z.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?L(bt(">"),N(se,">"),At,It):q=="?"?L(ee,Wt(":"),Rt):L(Rt);if(I=="quasi")return it(U,It);if(I!=";"){if(I=="(")return Et(Ae,")","call",It);if(I==".")return L(Ce,It);if(I=="[")return L(bt("]"),He,Wt("]"),At,It);if(g&&q=="as")return z.marked="keyword",L(se,It);if(I=="regexp")return z.state.lastType=z.marked="operator",z.stream.backUp(z.stream.pos-z.stream.start-1),L(Rt)}}function U(I,q){return I!="quasi"?it():q.slice(q.length-2)!="${"?L(U):L(He,Y)}function Y(I){if(I=="}")return z.marked="string-2",z.state.tokenize=ft,L(U)}function ct(I){return K(z.stream,z.state),it(I=="{"?Yt:ee)}function wt(I){return K(z.stream,z.state),it(I=="{"?Yt:Ae)}function $(I){return function(q){return q=="."?L(I?ut:vt):q=="variable"&&g?L(dt,I?A:_e):it(I?Ae:ee)}}function vt(I,q){if(q=="target")return z.marked="keyword",L(_e)}function ut(I,q){if(q=="target")return z.marked="keyword",L(A)}function ie(I){return I==":"?L(At,Yt):it(_e,Wt(";"),At)}function Ce(I){if(I=="variable")return z.marked="property",L()}function ge(I,q){if(I=="async")return z.marked="property",L(ge);if(I=="variable"||z.style=="keyword"){if(z.marked="property",q=="get"||q=="set")return L(B);var St;return g&&z.state.fatArrowAt==z.stream.start&&(St=z.stream.match(/^\s*:\s*/,!1))&&(z.state.fatArrowAt=z.stream.pos+St[0].length),L(ot)}else{if(I=="number"||I=="string")return z.marked=c?"property":z.style+" property",L(ot);if(I=="jsonld-keyword")return L(ot);if(g&&Dt(q))return z.marked="keyword",L(ge);if(I=="[")return L(ee,Nt,Wt("]"),ot);if(I=="spread")return L(Ae,ot);if(q=="*")return z.marked="keyword",L(ge);if(I==":")return it(ot)}}function B(I){return I!="variable"?it(ot):(z.marked="property",L(vr))}function ot(I){if(I==":")return L(Ae);if(I=="(")return it(vr)}function N(I,q,St){function It(Rt,Se){if(St?St.indexOf(Rt)>-1:Rt==","){var Pe=z.state.lexical;return Pe.info=="call"&&(Pe.pos=(Pe.pos||0)+1),L(function(qe,Fe){return qe==q||Fe==q?it():it(I)},It)}return Rt==q||Se==q?L():St&&St.indexOf(";")>-1?it(I):L(Wt(q))}return function(Rt,Se){return Rt==q||Se==q?L():it(I,It)}}function Et(I,q,St){for(var It=3;It<arguments.length;It++)z.cc.push(arguments[It]);return L(bt(q,St),N(I,q),At)}function yt(I){return I=="}"?L():it(Yt,yt)}function Nt(I,q){if(g){if(I==":")return L(se);if(q=="?")return L(Nt)}}function Qt(I,q){if(g&&(I==":"||q=="in"))return L(se)}function Zt(I){if(g&&I==":")return z.stream.match(/^\s*\w+\s+is\b/,!1)?L(ee,Kt,se):L(se)}function Kt(I,q){if(q=="is")return z.marked="keyword",L()}function se(I,q){if(q=="keyof"||q=="typeof"||q=="infer"||q=="readonly")return z.marked="keyword",L(q=="typeof"?Ae:se);if(I=="variable"||q=="void")return z.marked="type",L(tt);if(q=="|"||q=="&")return L(se);if(I=="string"||I=="number"||I=="atom")return L(tt);if(I=="[")return L(bt("]"),N(se,"]",","),At,tt);if(I=="{")return L(bt("}"),Me,At,tt);if(I=="(")return L(N(F,")"),Oe,tt);if(I=="<")return L(N(se,">"),se);if(I=="quasi")return it(ir,tt)}function Oe(I){if(I=="=>")return L(se)}function Me(I){return I.match(/[\}\)\]]/)?L():I==","||I==";"?L(Me):it(Ee,Me)}function Ee(I,q){if(I=="variable"||z.style=="keyword")return z.marked="property",L(Ee);if(q=="?"||I=="number"||I=="string")return L(Ee);if(I==":")return L(se);if(I=="[")return L(Wt("variable"),Qt,Wt("]"),Ee);if(I=="(")return it(Le,Ee);if(!I.match(/[;\}\)\],]/))return L()}function ir(I,q){return I!="quasi"?it():q.slice(q.length-2)!="${"?L(ir):L(se,Tr)}function Tr(I){if(I=="}")return z.marked="string-2",z.state.tokenize=ft,L(ir)}function F(I,q){return I=="variable"&&z.stream.match(/^\s*[?:]/,!1)||q=="?"?L(F):I==":"?L(se):I=="spread"?L(F):it(se)}function tt(I,q){if(q=="<")return L(bt(">"),N(se,">"),At,tt);if(q=="|"||I=="."||q=="&")return L(se);if(I=="[")return L(se,Wt("]"),tt);if(q=="extends"||q=="implements")return z.marked="keyword",L(se);if(q=="?")return L(se,Wt(":"),se)}function dt(I,q){if(q=="<")return L(bt(">"),N(se,">"),At,tt)}function kt(){return it(se,zt)}function zt(I,q){if(q=="=")return L(se)}function ce(I,q){return q=="enum"?(z.marked="keyword",L(Zn)):it(we,Nt,Ye,Jn)}function we(I,q){if(g&&Dt(q))return z.marked="keyword",L(we);if(I=="variable")return nt(q),L();if(I=="spread")return L(we);if(I=="[")return Et(hr,"]");if(I=="{")return Et(Ge,"}")}function Ge(I,q){return I=="variable"&&!z.stream.match(/^\s*:/,!1)?(nt(q),L(Ye)):(I=="variable"&&(z.marked="property"),I=="spread"?L(we):I=="}"?it():I=="["?L(ee,Wt("]"),Wt(":"),Ge):L(Wt(":"),we,Ye))}function hr(){return it(we,Ye)}function Ye(I,q){if(q=="=")return L(Ae)}function Jn(I){if(I==",")return L(ce)}function Xe(I,q){if(I=="keyword b"&&q=="else")return L(bt("form","else"),Yt,At)}function tn(I,q){if(q=="await")return L(tn);if(I=="(")return L(bt(")"),Ln,At)}function Ln(I){return I=="var"?L(ce,Ne):I=="variable"?L(Ne):it(Ne)}function Ne(I,q){return I==")"?L():I==";"?L(Ne):q=="in"||q=="of"?(z.marked="keyword",L(ee,Ne)):it(ee,Ne)}function vr(I,q){if(q=="*")return z.marked="keyword",L(vr);if(I=="variable")return nt(q),L(vr);if(I=="(")return L(Tt,bt(")"),N(ve,")"),At,Zt,Yt,pt);if(g&&q=="<")return L(bt(">"),N(kt,">"),At,vr)}function Le(I,q){if(q=="*")return z.marked="keyword",L(Le);if(I=="variable")return nt(q),L(Le);if(I=="(")return L(Tt,bt(")"),N(ve,")"),At,Zt,pt);if(g&&q=="<")return L(bt(">"),N(kt,">"),At,Le)}function Gr(I,q){if(I=="keyword"||I=="variable")return z.marked="type",L(Gr);if(q=="<")return L(bt(">"),N(kt,">"),At)}function ve(I,q){return q=="@"&&L(ee,ve),I=="spread"?L(ve):g&&Dt(q)?(z.marked="keyword",L(ve)):g&&I=="this"?L(Nt,Ye):it(we,Nt,Ye)}function Dn(I,q){return I=="variable"?vn(I,q):yr(I,q)}function vn(I,q){if(I=="variable")return nt(q),L(yr)}function yr(I,q){if(q=="<")return L(bt(">"),N(kt,">"),At,yr);if(q=="extends"||q=="implements"||g&&I==",")return q=="implements"&&(z.marked="keyword"),L(g?se:ee,yr);if(I=="{")return L(bt("}"),_r,At)}function _r(I,q){if(I=="async"||I=="variable"&&(q=="static"||q=="get"||q=="set"||g&&Dt(q))&&z.stream.match(/^\s+[\w$\xa1-\uffff]/,!1))return z.marked="keyword",L(_r);if(I=="variable"||z.style=="keyword")return z.marked="property",L(en,_r);if(I=="number"||I=="string")return L(en,_r);if(I=="[")return L(ee,Nt,Wt("]"),en,_r);if(q=="*")return z.marked="keyword",L(_r);if(g&&I=="(")return it(Le,_r);if(I==";"||I==",")return L(_r);if(I=="}")return L();if(q=="@")return L(ee,_r)}function en(I,q){if(q=="!"||q=="?")return L(en);if(I==":")return L(se,Ye);if(q=="=")return L(Ae);var St=z.state.lexical.prev,It=St&&St.info=="interface";return it(It?Le:vr)}function Ie(I,q){return q=="*"?(z.marked="keyword",L(ze,Wt(";"))):q=="default"?(z.marked="keyword",L(ee,Wt(";"))):I=="{"?L(N(ne,"}"),ze,Wt(";")):it(Yt)}function ne(I,q){if(q=="as")return z.marked="keyword",L(Wt("variable"));if(I=="variable")return it(Ae,ne)}function jr(I){return I=="string"?L():I=="("?it(ee):I=="."?it(_e):it(Qe,Nr,ze)}function Qe(I,q){return I=="{"?Et(Qe,"}"):(I=="variable"&&nt(q),q=="*"&&(z.marked="keyword"),L(ke))}function Nr(I){if(I==",")return L(Qe,Nr)}function ke(I,q){if(q=="as")return z.marked="keyword",L(Qe)}function ze(I,q){if(q=="from")return z.marked="keyword",L(ee)}function jn(I){return I=="]"?L():it(N(Ae,"]"))}function Zn(){return it(bt("form"),we,Wt("{"),bt("}"),N(jt,"}"),At,At)}function jt(){return it(we,Ye)}function pe(I,q){return I.lastType=="operator"||I.lastType==","||w.test(q.charAt(0))||/[,.]/.test(q.charAt(0))}function Qn(I,q,St){return q.tokenize==j&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(q.lastType)||q.lastType=="quasi"&&/\{\s*$/.test(I.string.slice(0,I.pos-(St||0)))}return{startState:function(I){var q={tokenize:j,lastType:"sof",cc:[],lexical:new H((I||0)-s,0,"block",!1),localVars:i.localVars,context:i.localVars&&new st(null,null,!1),indented:I||0};return i.globalVars&&typeof i.globalVars=="object"&&(q.globalVars=i.globalVars),q},token:function(I,q){if(I.sol()&&(q.lexical.hasOwnProperty("align")||(q.lexical.align=!1),q.indented=I.indentation(),K(I,q)),q.tokenize!=at&&I.eatSpace())return null;var St=q.tokenize(I,q);return S=="comment"?St:(q.lastType=S=="operator"&&(P=="++"||P=="--")?"incdec":S,W(q,St,S,P,I))},indent:function(I,q){if(I.tokenize==at||I.tokenize==ft)return e.Pass;if(I.tokenize!=j)return 0;var St=q&&q.charAt(0),It=I.lexical,Rt;if(!/^\s*else\b/.test(q))for(var Se=I.cc.length-1;Se>=0;--Se){var Pe=I.cc[Se];if(Pe==At)It=It.prev;else if(Pe!=Xe&&Pe!=pt)break}for(;(It.type=="stat"||It.type=="form")&&(St=="}"||(Rt=I.cc[I.cc.length-1])&&(Rt==_e||Rt==A)&&!/^[,\.=+\-*:?[\(]/.test(q));)It=It.prev;u&&It.type==")"&&It.prev.type=="stat"&&(It=It.prev);var qe=It.type,Fe=St==qe;return qe=="vardef"?It.indented+(I.lastType=="operator"||I.lastType==","?It.info.length+1:0):qe=="form"&&St=="{"?It.indented:qe=="form"?It.indented+s:qe=="stat"?It.indented+(pe(I,q)?u||s:0):It.info=="switch"&&!Fe&&i.doubleIndentSwitch!=!1?It.indented+(/^(?:case|default)\b/.test(q)?s:2*s):It.align?It.column+(Fe?0:1):It.indented+(Fe?0:s)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:f?null:"/*",blockCommentEnd:f?null:"*/",blockCommentContinue:f?null:" * ",lineComment:f?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:f?"json":"javascript",jsonldMode:c,jsonMode:f,expressionAllowed:Qn,skipExpression:function(I){W(I,"atom","atom","true",new e.StringStream("",2,null))}}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/manifest+json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},576:(o,r,t)=>{(function(e){e(t(237))})(function(e){var n={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode("xml",function(s,u){var c=s.indentUnit,f={},h=u.htmlMode?n:i;for(var g in h)f[g]=h[g];for(var g in u)f[g]=u[g];var m,y;function w(L,_t){function nt(st){return _t.tokenize=st,st(L,_t)}var Ct=L.next();if(Ct=="<")return L.eat("!")?L.eat("[")?L.match("CDATA[")?nt(S("atom","]]>")):null:L.match("--")?nt(S("comment","-->")):L.match("DOCTYPE",!0,!0)?(L.eatWhile(/[\w\._\-]/),nt(P(1))):null:L.eat("?")?(L.eatWhile(/[\w\._\-]/),_t.tokenize=S("meta","?>"),"meta"):(m=L.eat("/")?"closeTag":"openTag",_t.tokenize=b,"tag bracket");if(Ct=="&"){var Dt;return L.eat("#")?L.eat("x")?Dt=L.eatWhile(/[a-fA-F\d]/)&&L.eat(";"):Dt=L.eatWhile(/[\d]/)&&L.eat(";"):Dt=L.eatWhile(/[\w\.\-:]/)&&L.eat(";"),Dt?"atom":"error"}else return L.eatWhile(/[^&<]/),null}w.isInText=!0;function b(L,_t){var nt=L.next();if(nt==">"||nt=="/"&&L.eat(">"))return _t.tokenize=w,m=nt==">"?"endTag":"selfcloseTag","tag bracket";if(nt=="=")return m="equals",null;if(nt=="<"){_t.tokenize=w,_t.state=ft,_t.tagName=_t.tagStart=null;var Ct=_t.tokenize(L,_t);return Ct?Ct+" tag error":"tag error"}else return/[\'\"]/.test(nt)?(_t.tokenize=O(nt),_t.stringStartCol=L.column(),_t.tokenize(L,_t)):(L.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function O(L){var _t=function(nt,Ct){for(;!nt.eol();)if(nt.next()==L){Ct.tokenize=b;break}return"string"};return _t.isInAttribute=!0,_t}function S(L,_t){return function(nt,Ct){for(;!nt.eol();){if(nt.match(_t)){Ct.tokenize=w;break}nt.next()}return L}}function P(L){return function(_t,nt){for(var Ct;(Ct=_t.next())!=null;){if(Ct=="<")return nt.tokenize=P(L+1),nt.tokenize(_t,nt);if(Ct==">")if(L==1){nt.tokenize=w;break}else return nt.tokenize=P(L-1),nt.tokenize(_t,nt)}return"meta"}}function T(L){return L&&L.toLowerCase()}function j(L,_t,nt){this.prev=L.context,this.tagName=_t||"",this.indent=L.indented,this.startOfLine=nt,(f.doNotIndent.hasOwnProperty(_t)||L.context&&L.context.noIndent)&&(this.noIndent=!0)}function X(L){L.context&&(L.context=L.context.prev)}function at(L,_t){for(var nt;;){if(!L.context||(nt=L.context.tagName,!f.contextGrabbers.hasOwnProperty(T(nt))||!f.contextGrabbers[T(nt)].hasOwnProperty(T(_t))))return;X(L)}}function ft(L,_t,nt){return L=="openTag"?(nt.tagStart=_t.column(),Q):L=="closeTag"?K:ft}function Q(L,_t,nt){return L=="word"?(nt.tagName=_t.current(),y="tag",V):f.allowMissingTagName&&L=="endTag"?(y="tag bracket",V(L,_t,nt)):(y="error",Q)}function K(L,_t,nt){if(L=="word"){var Ct=_t.current();return nt.context&&nt.context.tagName!=Ct&&f.implicitlyClosed.hasOwnProperty(T(nt.context.tagName))&&X(nt),nt.context&&nt.context.tagName==Ct||f.matchClosing===!1?(y="tag",rt):(y="tag error",H)}else return f.allowMissingTagName&&L=="endTag"?(y="tag bracket",rt(L,_t,nt)):(y="error",H)}function rt(L,_t,nt){return L!="endTag"?(y="error",rt):(X(nt),ft)}function H(L,_t,nt){return y="error",rt(L,_t,nt)}function V(L,_t,nt){if(L=="word")return y="attribute",W;if(L=="endTag"||L=="selfcloseTag"){var Ct=nt.tagName,Dt=nt.tagStart;return nt.tagName=nt.tagStart=null,L=="selfcloseTag"||f.autoSelfClosers.hasOwnProperty(T(Ct))?at(nt,Ct):(at(nt,Ct),nt.context=new j(nt,Ct,Dt==nt.indented)),ft}return y="error",V}function W(L,_t,nt){return L=="equals"?z:(f.allowMissing||(y="error"),V(L,_t,nt))}function z(L,_t,nt){return L=="string"?it:L=="word"&&f.allowUnquoted?(y="string",V):(y="error",V(L,_t,nt))}function it(L,_t,nt){return L=="string"?it:V(L,_t,nt)}return{startState:function(L){var _t={tokenize:w,state:ft,indented:L||0,tagName:null,tagStart:null,context:null};return L!=null&&(_t.baseIndent=L),_t},token:function(L,_t){if(!_t.tagName&&L.sol()&&(_t.indented=L.indentation()),L.eatSpace())return null;m=null;var nt=_t.tokenize(L,_t);return(nt||m)&&nt!="comment"&&(y=null,_t.state=_t.state(m||nt,L,_t),y&&(nt=y=="error"?nt+" error":y)),nt},indent:function(L,_t,nt){var Ct=L.context;if(L.tokenize.isInAttribute)return L.tagStart==L.indented?L.stringStartCol+1:L.indented+c;if(Ct&&Ct.noIndent)return e.Pass;if(L.tokenize!=b&&L.tokenize!=w)return nt?nt.match(/^(\s*)/)[0].length:0;if(L.tagName)return f.multilineTagIndentPastTag!==!1?L.tagStart+L.tagName.length+2:L.tagStart+c*(f.multilineTagIndentFactor||1);if(f.alignCDATA&&/<!\[CDATA\[/.test(_t))return 0;var Dt=_t&&/^<(\/)?([\w_:\.-]*)/.exec(_t);if(Dt&&Dt[1])for(;Ct;)if(Ct.tagName==Dt[2]){Ct=Ct.prev;break}else if(f.implicitlyClosed.hasOwnProperty(T(Ct.tagName)))Ct=Ct.prev;else break;else if(Dt)for(;Ct;){var st=f.contextGrabbers[T(Ct.tagName)];if(st&&st.hasOwnProperty(T(Dt[2])))Ct=Ct.prev;else break}for(;Ct&&Ct.prev&&!Ct.startOfLine;)Ct=Ct.prev;return Ct?Ct.indent+c:L.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:f.htmlMode?"html":"xml",helperType:f.htmlMode?"html":"xml",skipAttribute:function(L){L.state==z&&(L.state=V)},xmlCurrentTag:function(L){return L.tagName?{name:L.tagName,close:L.type=="closeTag"}:null},xmlCurrentContext:function(L){for(var _t=[],nt=L.context;nt;nt=nt.prev)_t.push(nt.tagName);return _t.reverse()}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})})},578:(o,r,t)=>{t.d(r,{A:()=>s});var e=t(268),n=function(){var u=function(c,f){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,g){h.__proto__=g}||function(h,g){for(var m in g)Object.prototype.hasOwnProperty.call(g,m)&&(h[m]=g[m])},u(c,f)};return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");u(c,f);function h(){this.constructor=c}c.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}(),i=function(u){n(c,u);function c(f,h,g){var m=u.call(this,h,g)||this;return m._module=f,m}return Object.defineProperty(c.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),c}(e.Kx);const s=i},683:(o,r,t)=>{t.d(r,{A:()=>u,F:()=>i});var e=t(578),n=function(){var c=function(f,h){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&(g[y]=m[y])},c(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");c(f,h);function g(){this.constructor=f}f.prototype=h===null?Object.create(h):(g.prototype=h.prototype,new g)}}(),i;(function(c){c.Select="select",c.Hover="hover",c.Spacing="spacing",c.Target="target",c.Resize="resize"})(i||(i={}));var s=function(c){n(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.prototype.defaults=function(){return{id:"",type:""}},Object.defineProperty(f.prototype,"type",{get:function(){return this.get("type")||""},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"component",{get:function(){var h,g=this.get("component");return g||((h=this.get("componentView"))===null||h===void 0?void 0:h.model)},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"componentView",{get:function(){var h,g=this.get("componentView");return g||((h=this.get("component"))===null||h===void 0?void 0:h.getView())},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"el",{get:function(){var h;return(h=this.componentView)===null||h===void 0?void 0:h.el},enumerable:!1,configurable:!0}),f.prototype.getBoxRect=function(h){var g=this,m=g.el,y=g.em,w=y.Canvas.getCanvasView(),b=this.get("boxRect");return b||(m&&w?w.getElBoxRect(m,h):{x:0,y:0,width:0,height:0})},f.prototype.getStyle=function(h){h===void 0&&(h={});var g=h.boxRect||this.getBoxRect(h),m=g.width,y=g.height,w=g.x,b=g.y;return{width:"".concat(m,"px"),height:"".concat(y,"px"),top:"0",left:"0",position:"absolute",translate:"".concat(w,"px ").concat(b,"px")}},f.prototype.isType=function(h){return this.type===h},f}(e.A);const u=s},242:(o,r,t)=>{t.d(r,{A:()=>n});var e;(function(i){i.run="command:run",i._run="run",i.runCommand="command:run:",i._runCommand="run:",i.runBeforeCommand="command:run:before:",i.abort="command:abort:",i._abort="abort:",i.stop="command:stop",i._stop="stop",i.stopCommand="command:stop:",i._stopCommand="stop:",i.stopBeforeCommand="command:stop:before:"})(e||(e={}));const n=e},404:(o,r,t)=>{t.r(r),t.d(r,{default:()=>e});const e={run:function(n){n.Components.clear(),n.Css.clear()}}},228:(o,r,t)=>{t.r(r),t.d(r,{default:()=>s});var e=t(523),n=t(14),i=t(926);const s={run:function(u){(0,e.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=u,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(u){this.toggleMove(),this.disableDragger()},onKeyUp:function(u){(0,i.Ch)(u)===" "&&this.editor.stopCommand(this.id)},enableDragger:function(u){this.toggleDragger(1,u)},disableDragger:function(u){this.toggleDragger(0,u)},toggleDragger:function(u,c){var f=this,h=f.canvasModel,g=f.em,m=this.dragger,y=u?"add":"remove";this.getCanvas().classList[y]("".concat(this.ppfx,"is__grabbing")),m||(m=new n.A({getPosition:function(){return{x:h.get("x"),y:h.get("y")}},setPosition:function(w){var b=w.x,O=w.y;h.set({x:b,y:O})},onStart:function(w,b){g.trigger("canvas:move:start",b)},onDrag:function(w,b){g.trigger("canvas:move",b)},onEnd:function(w,b){g.trigger("canvas:move:end",b)}}),this.dragger=m),u?m.start(c):m.stop()},toggleMove:function(u){var c=this.ppfx,f=u?"add":"remove",h=u?"on":"off",g={on:i.on,off:i.AU},m=this.getCanvas(),y=["".concat(c,"is__grab")];!u&&y.push("".concat(c,"is__grabbing")),y.forEach(function(w){return m.classList[f](w)}),g[h](document,"keyup",this.onKeyUp),g[h](m,"mousedown",this.enableDragger),g[h](document,"mouseup",this.disableDragger)}}},570:(o,r,t)=>{t.r(r),t.d(r,{default:()=>c,defineCommand:()=>s});var e=t(268),n=t(242),i=function(){var f=function(h,g){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,y){m.__proto__=y}||function(m,y){for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&(m[w]=y[w])},f(h,g)};return function(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Class extends value "+String(g)+" is not a constructor or null");f(h,g);function m(){this.constructor=h}h.prototype=g===null?Object.create(g):(m.prototype=g.prototype,new m)}}();function s(f){return f}var u=function(f){i(h,f);function h(g){var m=f.call(this,0)||this;m.config=g||{},m.em=m.config.em||{};var y=m.config.stylePrefix;return m.pfx=y,m.ppfx=m.config.pStylePrefix,m.hoverClass="".concat(y,"hover"),m.badgeClass="".concat(y,"badge"),m.plhClass="".concat(y,"placeholder"),m.freezClass="".concat(m.ppfx,"freezed"),m.canvas=m.em.Canvas,m.init(m.config),m}return h.prototype.onFrameScroll=function(g){},h.prototype.getCanvas=function(){return this.canvas.getElement()},h.prototype.getCanvasBody=function(){return this.canvas.getBody()},h.prototype.getCanvasTools=function(){return this.canvas.getToolsEl()},h.prototype.offset=function(g){var m=g.getBoundingClientRect();return{top:m.top+g.ownerDocument.body.scrollTop,left:m.left+g.ownerDocument.body.scrollLeft}},h.prototype.init=function(g){},h.prototype.callRun=function(g,m){m===void 0&&(m={});var y=this.id;if(g.trigger("".concat(n.A.runBeforeCommand).concat(y),{options:m}),g.trigger("".concat(n.A._runCommand).concat(y,":before"),m),m.abort){g.trigger("".concat(n.A.abort).concat(y),{options:m}),g.trigger("".concat(n.A._abort).concat(y),m);return}var w=m.sender||g,b=this.run(g,w,m),O={id:y,result:b,options:m};return g.trigger("".concat(n.A.runCommand).concat(y),O),g.trigger(n.A.run,O),g.trigger("".concat(n.A._runCommand).concat(y),b,m),g.trigger(n.A._run,y,b,m),b},h.prototype.callStop=function(g,m){m===void 0&&(m={});var y=this.id,w=m.sender||g;g.trigger("".concat(n.A.stopBeforeCommand).concat(y),{options:m}),g.trigger("".concat(n.A._stopCommand).concat(y,":before"),m);var b=this.stop(g,w,m),O={id:y,result:b,options:m};return g.trigger("".concat(n.A.stopCommand).concat(y),O),g.trigger(n.A.stop,O),g.trigger("".concat(n.A._stopCommand).concat(y),b,m),g.trigger(n.A._stop,y,b,m),b},h.prototype.stopCommand=function(g){this.em.Commands.stop(this.id,g)},h.prototype.run=function(g,m,y){},h.prototype.stop=function(g,m,y){},h}(e.Kx);const c=u},377:(o,r,t)=>{t.r(r),t.d(r,{default:()=>s});var e=t(523),n=function(u,c,f){if(f||arguments.length===2)for(var h=0,g=c.length,m;h<g;h++)(m||!(h in c))&&(m||(m=Array.prototype.slice.call(c,0,h)),m[h]=c[h]);return u.concat(m||Array.prototype.slice.call(c))},i={run:function(u,c,f){var h=this;f===void 0&&(f={});var g=[],m=f.component||u.getSelectedAll();return m=(0,e.isArray)(m)?n([],m,!0):[m],m.filter(Boolean).forEach(function(y){var w,b;if(!y.get("removable"))return h.em.logWarning("The element is not removable",{component:y});g.push(y);var O=((b=(w=y.delegate)===null||w===void 0?void 0:w.remove)===null||b===void 0?void 0:b.call(w,y))||y;O.remove()}),u.selectRemove(g),g}};const s=i},728:(o,r,t)=>{t.r(r),t.d(r,{default:()=>u});var e=t(523),n=t(14),i=function(){return i=Object.assign||function(c){for(var f,h=1,g=arguments.length;h<g;h++){f=arguments[h];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(c[m]=f[m])}return c},i.apply(this,arguments)},s="dmode";const u={run:function(c,f,h){var g=this;h===void 0&&(h={}),(0,e.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget");var m=h.target,y=h.event,w=h.mode,b=h.dragger,O=b===void 0?{}:b,S=m.getEl(),P=i({doc:S.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){return g.guidesStatic},guidesTarget:function(){return g.guidesTarget}},O);this.setupGuides(),this.opts=h,this.editor=c,this.em=c.getModel(),this.target=m,this.isTran=w=="translate",this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var T=this.dragger;return T?T.setOptions(P):(T=new n.A(P),this.dragger=T),y&&T.start(y),this.toggleDrag(1),this.em.trigger("".concat(s,":start"),this.getEventOpts()),T},getEventOpts:function(){return{mode:this.opts.mode,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic}},stop:function(){this.toggleDrag()},setupGuides:function(){(this.guides||[]).forEach(function(c){var f=c.guide;f&&f.parentNode.removeChild(f)}),this.guides=[]},getGuidesContainer:function(){var c=this,f=this.guidesEl;if(!f){var h=this,g=h.editor,m=h.em,y=h.opts,w=g.getConfig().stylePrefix,b=document.createElement("div"),O=document.createElement("div"),S='<div class="'.concat(w,"guide-info__line ").concat(w,`danger-bg">
        <div class="`).concat(w,"guide-info__content ").concat(w,`danger-color"></div>
      </div>`);f=document.createElement("div"),f.className="".concat(w,"guides"),b.className="".concat(w,"guide-info ").concat(w,"guide-info__x"),O.className="".concat(w,"guide-info ").concat(w,"guide-info__y"),b.innerHTML=S,O.innerHTML=S,f.appendChild(b),f.appendChild(O),g.Canvas.getGlobalToolsEl().appendChild(f),this.guidesEl=f,this.elGuideInfoX=b,this.elGuideInfoY=O,this.elGuideInfoContentX=b.querySelector(".".concat(w,"guide-info__content")),this.elGuideInfoContentY=O.querySelector(".".concat(w,"guide-info__content")),m.on("canvas:update frame:scroll",(0,e.debounce)(function(){var P;c.updateGuides(),y.debug&&((P=c.guides)===null||P===void 0||P.forEach(function(T){return c.renderGuide(T)}))},200))}return f},getGuidesStatic:function(){var c=this,f=[],h=this.target.getEl(),g=h.parentNode,m=g===void 0?{}:g;return(0,e.each)(m.children,function(y){return f=f.concat(h!==y?c.getElementGuides(y):[])}),f.concat(this.getElementGuides(m))},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(c){var f=this,h,g;(c||this.guides).forEach(function(m){var y=m.origin,w=h===y?g:f.getElementPos(y);h=y,g=w,(0,e.each)(f.getGuidePosUpdate(m,w),function(b,O){return m[O]=b}),m.originRect=w})},getGuidePosUpdate:function(c,f){var h={},g=f.top,m=f.height,y=f.left,w=f.width;switch(c.type){case"t":h.y=g;break;case"b":h.y=g+m;break;case"l":h.x=y;break;case"r":h.x=y+w;break;case"x":h.x=y+w/2;break;case"y":h.y=g+m/2;break}return h},renderGuide:function(c){c===void 0&&(c={});var f=c.guide||document.createElement("div"),h="px",g=c.active?2:1,m=f.children[0];return f.style="position: absolute; background-color: ".concat(c.active?"green":"red",";"),f.children.length||(m=document.createElement("div"),m.style="position: absolute; color: red; padding: 5px; top: 0; left: 0;",f.appendChild(m)),c.y?(f.style.width="100%",f.style.height="".concat(g).concat(h),f.style.top="".concat(c.y).concat(h),f.style.left=0):(f.style.width="".concat(g).concat(h),f.style.height="100%",f.style.left="".concat(c.x).concat(h),f.style.top="0".concat(h)),!c.guide&&this.guidesContainer.appendChild(f),f},getElementPos:function(c){return this.editor.Canvas.getElementPos(c,{noScroll:1})},getElementGuides:function(c){var f=this,h=this.opts,g=this.getElementPos(c),m=g.top,y=g.height,w=g.left,b=g.width,O=[{type:"t",y:m},{type:"b",y:m+y},{type:"l",x:w},{type:"r",x:w+b},{type:"x",x:w+b/2},{type:"y",y:m+y/2}].map(function(S){return i(i({},S),{origin:c,originRect:g,guide:h.debug&&f.renderGuide(S)})});return O.forEach(function(S){var P;return(P=f.guides)===null||P===void 0?void 0:P.push(S)}),O},getTranslate:function(c,f){f===void 0&&(f="x");var h=0;return(c||"").split(" ").forEach(function(g){var m=g.trim(),y="translate".concat(f.toUpperCase(),"(");m.indexOf(y)===0&&(h=parseFloat(m.replace(y,"")))}),h},setTranslate:function(c,f,h){var g="translate".concat(f.toUpperCase(),"("),m="".concat(g).concat(h,")"),y=(c||"").split(" ").map(function(w){var b=w.trim();return b.indexOf(g)===0&&(w=m),w}).join(" ");return y.indexOf(g)<0&&(y+=" ".concat(m)),y},getPosition:function(){var c=this,f=c.target,h=c.isTran,g=f.getStyle(),m=g.left,y=g.top,w=g.transform,b=0,O=0;return h?(b=this.getTranslate(w),O=this.getTranslate(w,"y")):(b=parseFloat(m||0),O=parseFloat(y||0)),{x:b,y:O}},setPosition:function(c){var f=c.x,h=c.y,g=c.end,m=c.position,y=c.width,w=c.height,b=this,O=b.target,S=b.isTran,P=b.em,T="px",j=!g,X="".concat(parseInt(f,10)).concat(T),at="".concat(parseInt(h,10)).concat(T),ft={};if(S){var Q=O.getStyle().transform||"";Q=this.setTranslate(Q,"x",X),Q=this.setTranslate(Q,"y",at),ft={transform:Q,__p:j},O.addStyle(ft,{avoidStore:!g})}else{var K={position:m,width:y,height:w},rt={left:X,top:at,__p:j};(0,e.keys)(K).forEach(function(H){var V=K[H];V&&(rt[H]=V)}),ft=rt,O.addStyle(ft,{avoidStore:!g})}P==null||P.Styles.__emitCmpStyleUpdate(ft,{components:P.getSelected()})},_getDragData:function(){var c=this.target;return{target:c,parent:c.parent(),index:c.index()}},onStart:function(c){var f=this,h=f.target,g=f.editor,m=f.isTran,y=f.opts,w=y.center,b=y.onStart,O=g.Canvas,S=h.getStyle(),P="absolute",T=[P,"relative"];if(b&&b(this._getDragData()),!m&&S.position!==P){var j=O.offset(h.getEl()),X=j.left,at=j.top,ft=j.width,Q=j.height,K=h.parent(),rt=void 0;do{var H=K.getStyle();rt=T.indexOf(H.position)>=0?K:null,K=K.parent()}while(K&&!rt);if(w){var V=O.getMouseRelativeCanvas(c),W=V.x,z=V.y;X=W,at=z}else if(rt){var it=O.offset(rt.getEl());X=X-it.left,at=at-it.top}this.setPosition({x:X,y:at,width:"".concat(ft,"px"),height:"".concat(Q,"px"),position:P})}},onDrag:function(){var c=this,f=this,h=f.guidesTarget,g=f.opts,m=g.onDrag;this.updateGuides(h),g.debug&&h.forEach(function(y){return c.renderGuide(y)}),g.guidesInfo&&this.renderGuideInfo(h.filter(function(y){return y.active})),m&&m(this._getDragData())},onEnd:function(c,f,h){h===void 0&&(h={});var g=this,m=g.editor,y=g.opts,w=g.id,b=y.onEnd;b&&b(c,h,i(i({event:c},h),this._getDragData())),m.stopCommand(w),this.hideGuidesInfo(),this.em.trigger("".concat(s,":end"),this.getEventOpts())},hideGuidesInfo:function(){var c=this;["X","Y"].forEach(function(f){var h=c["elGuideInfo".concat(f)];h&&(h.style.display="none")})},renderGuideInfo:function(c){var f=this;c===void 0&&(c=[]);var h=this.guidesStatic;this.hideGuidesInfo(),c.forEach(function(g){var m=g.origin,y=g.x,w=f.getElementPos(m),b=(0,e.isUndefined)(y)?"y":"x",O=b==="y",S=w[O?"left":"top"],P=w.rect[O?"left":"top"],T=O?S+w.width:S+w.height,j=O?P+w.rect.width:P+w.rect.height,X=f["elGuideInfo".concat(b.toUpperCase())],at=f["elGuideInfoContent".concat(b.toUpperCase())],ft=X.style,Q=h==null?void 0:h.filter(function(te){return te.type===g.type}).map(function(te){var pt=te.originRect,bt=pt.left,At=pt.width,Wt=pt.top,Yt=pt.height,Ut=O?bt:Wt,ee=O?bt+At:Wt+Yt;return{gap:ee<S?S-ee:Ut-T,guide:te}}).filter(function(te){return te.gap>0}).sort(function(te,pt){return te.gap-pt.gap}).map(function(te){return te.guide})[0];if(Q){var K=Q.originRect,rt=K.left,H=K.width,V=K.top,W=K.height,z=K.rect,it=O?rt<w.left:V<w.top,L=O?rt:V,_t=O?z.left:z.top,nt=O?rt+H:V+W,Ct=O?z.left+z.width:z.top+z.height,Dt=O?g.y:g.x,st=it?nt:T,Ot="".concat(Dt,"px"),Vt=it?S-nt:L-T,Tt=it?P-Ct:_t-j;ft.display="",ft[O?"top":"left"]=Ot,ft[O?"left":"top"]="".concat(st,"px"),ft[O?"width":"height"]="".concat(Vt,"px"),at.innerHTML="".concat(Math.round(Tt),"px"),f.em.trigger("".concat(s,":active"),i(i({},f.getEventOpts()),{guide:g,guidesStatic:h,matched:Q,posFirst:Dt,posSecond:st,size:Vt,sizeRaw:Tt,elGuideInfo:X,elGuideInfoCnt:at}))}})},toggleDrag:function(c){var f=this,h=f.ppfx,g=f.editor,m=c?"add":"remove",y=["".concat(h,"is__grabbing")],w=g.Canvas,b=w.getBody();y.forEach(function(O){return b.classList[m](O)}),w[c?"startAutoscroll":"stopAutoscroll"]()}}},462:(o,r,t)=>{t.r(r),t.d(r,{default:()=>e});const e={run:function(n){if(n.Canvas.hasFocus()){var i=[];n.getSelectedAll().forEach(function(s){var u=s.components(),c=u&&u.filter(function(f){return f.get("selectable")})[0];c&&i.push(c)}),i.length&&n.select(i)}}}},658:(o,r,t)=>{t.r(r),t.d(r,{default:()=>e});const e={run:function(n,i,s){if(s===void 0&&(s={}),!(!n.Canvas.hasFocus()&&!s.force)){var u=[];n.getSelectedAll().forEach(function(c){for(var f=c.parent();f&&!f.get("selectable");)f=f.parent();f&&u.push(f)}),u.length&&n.select(u)}}}},619:(o,r,t)=>{t.r(r),t.d(r,{default:()=>e});const e={run:function(n){if(n.Canvas.hasFocus()){var i=[];n.getSelectedAll().forEach(function(s){var u=s.parent();if(u){var c=u.components().length,f=0,h=0,g;do f++,h=s.index()+f,g=h<=c?u.getChildAt(h):null;while(g&&!g.get("selectable"));i.push(g||s)}}),i.length&&n.select(i)}}}},935:(o,r,t)=>{t.r(r),t.d(r,{default:()=>e});const e={run:function(n){if(n.Canvas.hasFocus()){var i=[];n.getSelectedAll().forEach(function(s){var u=s.parent();if(u){var c=0,f=0,h;do c++,f=s.index()-c,h=f>=0?u.getChildAt(f):null;while(h&&!h.get("selectable"));i.push(h||s)}}),i.length&&n.select(i)}}}},536:(o,r,t)=>{t.r(r),t.d(r,{default:()=>n});var e=t(523);const n={run:function(i,s,u){u===void 0&&(u={});var c=u.target,f=[];if(!c.get("styles"))return f;var h=c.get("type"),g=i.Pages.getAllWrappers(),m=(0,e.flatten)(g.map(function(w){return w.findType(h)})).length;if(!m){var y=i.CssComposer.getAll();f=y.filter(function(w){return w.get("group")==="cmp:".concat(h)}),y.remove(f)}return f}}},957:(o,r,t)=>{t.r(r),t.d(r,{default:()=>n});var e=function(i,s,u){if(u||arguments.length===2)for(var c=0,f=s.length,h;c<f;c++)(h||!(c in s))&&(h||(h=Array.prototype.slice.call(s,0,c)),h[c]=s[c]);return i.concat(h||Array.prototype.slice.call(s))};const n={run:function(i){var s=i.getModel(),u=e([],i.getSelectedAll(),!0).map(function(c){var f,h;return((h=(f=c.delegate)===null||f===void 0?void 0:f.copy)===null||h===void 0?void 0:h.call(f,c))||c}).filter(Boolean);u.length&&s.set("clipboard",u)}}},413:(o,r,t)=>{t.r(r),t.d(r,{default:()=>n});var e=t(926);const n={run:function(i,s,u){var c=this;u===void 0&&(u={}),s&&s.set&&s.set("active",0);var f=i.getConfig(),h=i.Modal,g=f.stylePrefix;if(this.cm=i.CodeManager||null,!this.editors){var m=this.buildEditor("htmlmixed","hopscotch","HTML"),y=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=m.model,this.cssEditor=y.model;var w=(0,e.a_)("div",{class:"".concat(g,"export-dl")});w.appendChild(m.el),w.appendChild(y.el),this.editors=w}h.open({title:f.textViewCode,content:this.editors}).getModel().once("change:open",function(){return i.stopCommand("".concat(c.id))}),this.htmlEditor.setContent(i.getHtml(u.optsHtml)),this.cssEditor.setContent(i.getCss(u.optsCss))},stop:function(i){var s=i.Modal;s&&s.close()},buildEditor:function(i,s,u){var c=this.em.CodeManager,f=c.createViewer({label:u,codeName:i,theme:s}),h=new c.EditorView({model:f,config:c.getConfig()}).render().el;return{model:f,el:h}}}},516:(o,r,t)=>{t.r(r),t.d(r,{default:()=>n});var e=t(523);const n={isEnabled:function(){var i=document;return!!(i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement)},enable:function(i){var s="";return i.requestFullscreen?i.requestFullscreen():i.webkitRequestFullscreen?(s="webkit",i.webkitRequestFullscreen()):i.mozRequestFullScreen?(s="moz",i.mozRequestFullScreen()):i.msRequestFullscreen&&i.msRequestFullscreen(),s},disable:function(){var i=document;this.isEnabled()&&(i.exitFullscreen?i.exitFullscreen():i.webkitExitFullscreen?i.webkitExitFullscreen():i.mozCancelFullScreen?i.mozCancelFullScreen():i.msExitFullscreen&&i.msExitFullscreen())},fsChanged:function(i){this.isEnabled()||(this.stopCommand({sender:this.sender}),document.removeEventListener("".concat(i||"","fullscreenchange"),this.fsChanged))},run:function(i,s,u){u===void 0&&(u={}),this.sender=s;var c=u.target,f=(0,e.isElement)(c)?c:document.querySelector(c),h=this.enable(f||i.getContainer());this.fsChanged=this.fsChanged.bind(this,h),document.addEventListener(h+"fullscreenchange",this.fsChanged)},stop:function(i,s){s&&s.set&&s.set("active",!1),this.disable()}}},13:(o,r,t)=>{t.r(r),t.d(r,{default:()=>c});var e=t(523),n=t(694),i=t(926),s=t(194),u=t(582);const c=(0,e.extend)({},u.default,s.default,{init:function(f){s.default.init.apply(this,arguments),(0,e.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=f,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];s.default.enable.apply(this,f),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var g=this.$wrapper;g.css("cursor","move"),g.on("mousedown",this.initSorter),g.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(f){var h=(0,n.default)(f.target).data("model"),g=h.get("draggable");g&&(this.cacheEl=null,this.startSelectPosition(f.target,this.frameEl.contentDocument),this.sorter.draggable=g,this.sorter.onEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,i.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(f){var h=f.get("draggable");if(h){this.cacheEl=null;var g=f.view.el;this.startSelectPosition(g,this.frameEl.contentDocument),this.sorter.draggable=h,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,i.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(f){this.cacheEl=null;var h=f[f.length-1],g=this.em.getCurrentFrame(),m=h.getEl(g==null?void 0:g.model),y=m.ownerDocument;this.startSelectPosition(m,y,{onStart:this.onStart}),this.sorter.draggable=h.get("draggable"),this.sorter.toMove=f,this.sorter.onMoveClb=this.onDrag,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,i.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,i.AU)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,i.AU)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(f,h){},rollback:function(f,h){var g=f.which||f.keyCode;(g==27||h)&&(this.sorter.moved=!1,this.sorter.endMove())},getBadgeEl:function(){return this.$badge||(this.$badge=(0,n.default)(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=(0,n.default)(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var f=[],h=0;h<arguments.length;h++)f[h]=arguments[h];s.default.stop.apply(this,f),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass);var g=this.$wrapper;g.css("cursor","").unbind().removeClass(this.noSelClass)}})},204:(o,r,t)=>{t.r(r),t.d(r,{default:()=>i});var e=t(523),n=t(926);const i={open:function(s){var u=this,c=this,f=c.editor,h=c.title,g=c.config,m=c.am,y=g.custom;if((0,e.isFunction)(y.open))return y.open(m.__customData());var w=f.Modal;w.open({title:h,content:s}).onceClose(function(){return f.stopCommand(u.id)})},close:function(){var s=this.config.custom;if((0,e.isFunction)(s.close))return s.close(this.am.__customData());var u=this.editor.Modal;u&&u.close()},run:function(s,u,c){c===void 0&&(c={});var f=s.AssetManager,h=f.getConfig(),g=c.types,m=g===void 0?[]:g,y=c.accept,w=c.select;if(this.title=c.modalTitle||s.t("assetManager.modalTitle")||"",this.editor=s,this.config=h,this.am=f,f.setTarget(c.target),f.onClick(c.onClick),f.onDblClick(c.onDblClick),f.onSelect(c.onSelect),f.__behaviour({select:w,types:m,options:c}),h.custom)this.rendered=this.rendered||(0,n.a_)("div"),this.rendered.className="".concat(h.stylePrefix,"custom-wrp"),f.__behaviour({container:this.rendered}),f.__trgCustom();else{if(!this.rendered||m){var b=f.getAll().filter(function(S){return S});m&&m.length&&(b=b.filter(function(S){return m.indexOf(S.get("type"))!==-1})),f.render(b),this.rendered=f.getContainer()}if(y){var O=this.rendered.querySelector("input#".concat(h.stylePrefix,"uploadFile"));O&&O.setAttribute("accept",y)}}return this.open(this.rendered),this},stop:function(s){this.editor=s,this.close(this.rendered)}}},195:(o,r,t)=>{t.r(r),t.d(r,{default:()=>i});var e=t(523),n=t(926);const i={open:function(){var s=this,u=s.container,c=s.editor,f=s.bm,h=s.config,g=h.custom,m=h.appendTo;if((0,e.isFunction)(g.open))return g.open(f.__customData());if(this.firstRender&&!m){var y="views-container",w=c.Panels,b=w.getPanel(y)||w.addPanel({id:y});b.set("appendContent",u).trigger("change:appendContent"),g||u.appendChild(f.render())}u&&(u.style.display="block")},close:function(){var s=this,u=s.container,c=s.config,f=c.custom;if((0,e.isFunction)(f.close))return f.close(this.bm.__customData());u&&(u.style.display="none")},run:function(s){var u=s.Blocks;this.config=u.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,n.a_)("div"),this.editor=s,this.bm=u;var c=this.container;u.__behaviour({container:c}),this.config.custom&&u.__trgCustom(),this.open()},stop:function(){this.close()}}},671:(o,r,t)=>{t.r(r),t.d(r,{default:()=>e});const e={run:function(n){var i=n.LayerManager,s=n.Panels,u=i.getConfig();if(!u.appendTo){if(!this.layers){var c="views-container",f=document.createElement("div"),h=s.getPanel(c)||s.addPanel({id:c});u.custom?i.__trgCustom({container:f}):f.appendChild(i.render()),h.set("appendContent",f).trigger("change:appendContent"),this.layers=f}this.layers.style.display="block"}},stop:function(){var n=this.layers;n&&(n.style.display="none")}}},49:(o,r,t)=>{t.r(r),t.d(r,{default:()=>n});var e=t(694);const n={run:function(i,s){if(this.sender=s,!this.$cnt){var u=i.getConfig(),c=i.Panels,f=i.DeviceManager,h=i.SelectorManager,g=i.StyleManager,m="change:appendContent",y=(0,e.default)("<div></div>"),w=(0,e.default)("<div></div>"),b=(0,e.default)("<div></div>"),O=(0,e.default)("<div></div>");if(this.$cnt=y,this.$cntInner=w,w.append(b),w.append(O),y.append(w),f&&u.showDevices){var S=c.addPanel({id:"devices-c"}),P=f.render();S.set("appendContent",P).trigger(m)}var T=h.getConfig();T.custom?h.__trgCustom({container:b.get(0)}):T.appendTo||b.append(h.render([])),this.sm=g;var j=g.getConfig(),X=j.stylePrefix;this.$header=(0,e.default)('<div class="'.concat(X,'header">').concat(i.t("styleManager.empty"),"</div>")),y.append(this.$header),j.custom?g.__trgCustom({container:O.get(0)}):j.appendTo||O.append(g.render());var at="views-container",ft=c.getPanel(at)||c.addPanel({id:at});ft.set("appendContent",y).trigger(m);var Q=i.getModel();this.listenTo(Q,g.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var i=this,s=i.sender,u=i.sm,c=i.$cntInner,f=i.$header;s&&s.get&&!s.get("active")||!u||(u.getSelected()?(c==null||c.show(),f==null||f.hide()):(c==null||c.hide(),f==null||f.show()))},stop:function(){var i,s;(i=this.$cntInner)===null||i===void 0||i.hide(),(s=this.$header)===null||s===void 0||s.hide()}}},590:(o,r,t)=>{t.r(r),t.d(r,{default:()=>n});var e=t(694);const n={run:function(i,s){this.sender=s;var u=i.getModel(),c=i.Config,f=c.stylePrefix,h=i.TraitManager,g=h.getConfig(),m;if(!g.appendTo){if(!this.$cn){this.$cn=(0,e.default)("<div></div>"),this.$cn2=(0,e.default)("<div></div>"),this.$cn.append(this.$cn2),this.$header=(0,e.default)("<div>").append('<div class="'.concat(g.stylePrefix,'header">').concat(u.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),g.custom?h.__trgCustom({container:this.$cn2.get(0)}):(this.$cn2.append('<div class="'.concat(f,'traits-label">').concat(u.t("traitManager.label"),"</div>")),this.$cn2.append(h.render()));var y=i.Panels;y.getPanel("views-container")?m=y.getPanel("views-container"):m=y.addPanel({id:"views-container"}),m==null||m.set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=i.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var i=this.sender;i&&i.get&&!i.get("active")||(this.target.getSelectedAll().length===1?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},483:(o,r,t)=>{t.r(r),t.d(r,{default:()=>n});var e=t(523);const n={run:function(s,u,c){c===void 0&&(c={});var f=s.getModel(),h=f.get("clipboard"),g=s.getSelected();h!=null&&h.length&&g&&(s.getSelectedAll().forEach(function(m){var y,w,b,O=((w=(y=m.delegate)===null||y===void 0?void 0:y.copy)===null||w===void 0?void 0:w.call(y,m))||m,S=O.collection,P;if(S){var T=O.index()+1,j={at:T,action:c.action||"paste-component"};(0,e.contains)(h,O)&&O.get("copyable")?P=S.add(O.clone(),j):P=i(s,h,O.parent(),j)}else{var X=(b=f.Pages.getSelected())===null||b===void 0?void 0:b.getMainComponent(),j={at:(X==null?void 0:X.components().length)||0,action:c.action||"paste-component"};P=i(s,h,X,j)}P=(0,e.isArray)(P)?P:[P],P.forEach(function(at){return s.trigger("component:paste",at)})}),g.emitUpdate())}};function i(s,u,c,f){var h=u.filter(function(m){return m.get("copyable")}),g=h.filter(function(m){return s.Components.canMove(c,m).result});return c.components().add(g.map(function(m){return m.clone()}),f)}},857:(o,r,t)=>{t.r(r),t.d(r,{default:()=>s});var e=t(523),n=function(u,c,f){if(f||arguments.length===2)for(var h=0,g=c.length,m;h<g;h++)(m||!(h in c))&&(m||(m=Array.prototype.slice.call(c,0,h)),m[h]=c[h]);return u.concat(m||Array.prototype.slice.call(c))},i="core:component-outline";const s={getPanels:function(u){return this.panels||(this.panels=u.Panels.getPanels()),this.panels},preventDrag:function(u){u.abort=1},tglEffects:function(u){var c=this.em,f=u?"on":"off";if(c){var h=c.Canvas,g=h.getBody(),m=h.getToolbarEl();m&&(m.style.display=u?"none":"");var y=g.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,e.each)(y,function(w){return w.style.pointerEvents=u?"all":""}),c[f]("run:tlb-move:before",this.preventDrag)}},run:function(u,c){var f=this;this.sender=c,this.selected=n([],u.getSelectedAll(),!0),u.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=u.Commands.isActive(i)),this.shouldRunSwVisibility&&u.stopCommand(i),u.getModel().stopDefault();var h=this.getPanels(u),g=u.Canvas.getElement(),m=u.getEl(),y=u.Config.stylePrefix;if(!this.helper){var w=document.createElement("span");w.className="".concat(y,"off-prv fa fa-eye-slash"),m.appendChild(w),w.onclick=function(){return f.stopCommand()},this.helper=w}this.helper.style.display="inline-block",h.forEach(function(O){return O.set("visible",!1)});var b=g.style;b.width="100%",b.height="100%",b.top="0",b.left="0",b.padding="0",b.margin="0",u.refresh(),this.tglEffects(1)},stop:function(u){var c=this,f=c.sender,h=f===void 0?{}:f,g=c.selected;h.set&&h.set("active",0);var m=this.getPanels(u);this.shouldRunSwVisibility&&(u.runCommand(i),this.shouldRunSwVisibility=!1),u.getModel().runDefault(),m.forEach(function(w){return w.set("visible",!0)});var y=u.Canvas.getElement();y.setAttribute("style",""),g&&u.select(g),delete this.selected,this.helper&&(this.helper.style.display="none"),u.refresh(),this.tglEffects()}}},869:(o,r,t)=>{t.r(r),t.d(r,{default:()=>n});var e=function(){return e=Object.assign||function(i){for(var s,u=1,c=arguments.length;u<c;u++){s=arguments[u];for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(i[f]=s[f])}return i},e.apply(this,arguments)};const n={run:function(i,s,u){var c=u||{},f=i.Canvas,h=f.getCanvasView(),g=e({appendTo:f.getResizerEl(),prefix:i.getConfig().stylePrefix,posFetcher:h.getElementPos.bind(h),mousePosFetcher:f.getMouseRelativePos.bind(f)},c.options||{}),m=this.canvasResizer;return(!m||c.forceNew)&&(this.canvasResizer=new i.Utils.Resizer(g),m=this.canvasResizer),m.setOptions(g,!0),m.blur(),m.focus(c.el),m},stop:function(){var i;(i=this.canvasResizer)===null||i===void 0||i.blur()}}},194:(o,r,t)=>{t.r(r),t.d(r,{default:()=>rt});var e=t(523),n=t(268),i=function(){var H=function(V,W){return H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,it){z.__proto__=it}||function(z,it){for(var L in it)Object.prototype.hasOwnProperty.call(it,L)&&(z[L]=it[L])},H(V,W)};return function(V,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");H(V,W);function z(){this.constructor=V}V.prototype=W===null?Object.create(W):(z.prototype=W.prototype,new z)}}(),s=function(H){i(V,H);function V(){return H!==null&&H.apply(this,arguments)||this}return V.prototype.defaults=function(){return{command:"",attributes:{}}},V}(n.Kx);const u=s;var c=function(){var H=function(V,W){return H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,it){z.__proto__=it}||function(z,it){for(var L in it)Object.prototype.hasOwnProperty.call(it,L)&&(z[L]=it[L])},H(V,W)};return function(V,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");H(V,W);function z(){this.constructor=V}V.prototype=W===null?Object.create(W):(z.prototype=W.prototype,new z)}}(),f=function(H){c(V,H);function V(){return H!==null&&H.apply(this,arguments)||this}return V}(n.pM);const h=f;f.prototype.model=u;var g=t(754),m=function(){var H=function(V,W){return H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,it){z.__proto__=it}||function(z,it){for(var L in it)Object.prototype.hasOwnProperty.call(it,L)&&(z[L]=it[L])},H(V,W)};return function(V,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");H(V,W);function z(){this.constructor=V}V.prototype=W===null?Object.create(W):(z.prototype=W.prototype,new z)}}(),y=function(){return y=Object.assign||function(H){for(var V,W=1,z=arguments.length;W<z;W++){V=arguments[W];for(var it in V)Object.prototype.hasOwnProperty.call(V,it)&&(H[it]=V[it])}return H},y.apply(this,arguments)},w=function(H){m(V,H);function V(W){var z=H.call(this,W)||this;return z.em=W.config.em,z}return V.prototype.events=function(){return this.model.get("events")||{mousedown:"handleClick"}},V.prototype.attributes=function(){return this.model.get("attributes")},V.prototype.handleClick=function(W){W.preventDefault(),W.stopPropagation();var z=this.em,it=z.Canvas.getFrameEl().getBoundingClientRect(),L=it.left,_t=it.top,nt=y(y({},W),{clientX:W.clientX-L,clientY:W.clientY-_t});z.trigger("toolbar:run:before",{event:nt}),this.execCommand(nt)},V.prototype.execCommand=function(W){var z=this,it=z.em,L=z.model,_t={event:W},nt=L.get("command"),Ct=it.Editor;(0,e.isFunction)(nt)&&nt(Ct,null,_t),(0,e.isString)(nt)&&Ct.runCommand(nt,_t)},V.prototype.render=function(){var W=this,z=W.em,it=W.$el,L=W.model,_t=L.get("id"),nt=L.get("label"),Ct=z.getConfig().stylePrefix;return it.addClass("".concat(Ct,"toolbar-item")),_t&&it.addClass("".concat(Ct,"toolbar-item__").concat(_t)),nt&&it.append(nt),this},V}(n.Ss);const b=w;var O=function(){var H=function(V,W){return H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,it){z.__proto__=it}||function(z,it){for(var L in it)Object.prototype.hasOwnProperty.call(it,L)&&(z[L]=it[L])},H(V,W)};return function(V,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");H(V,W);function z(){this.constructor=V}V.prototype=W===null?Object.create(W):(z.prototype=W.prototype,new z)}}(),S=function(H){O(V,H);function V(W){var z=H.call(this,W)||this,it=W.em;return z.em=it,z.config={em:it},z.listenTo(z.collection,"reset",z.render),z}return V.prototype.onRender=function(){var W=this.em.config.stylePrefix;this.el.className="".concat(W,"toolbar-items")},V}(g.A);const P=S;S.prototype.itemView=b;var T=t(926),j=t(342),X=t(683),at=t(249),ft=function(){return ft=Object.assign||function(H){for(var V,W=1,z=arguments.length;W<z;W++){V=arguments[W];for(var it in V)Object.prototype.hasOwnProperty.call(V,it)&&(H[it]=V[it])}return H},ft.apply(this,arguments)},Q=function(H,V){var W={};for(var z in H)Object.prototype.hasOwnProperty.call(H,z)&&V.indexOf(z)<0&&(W[z]=H[z]);if(H!=null&&typeof Object.getOwnPropertySymbols=="function")for(var it=0,z=Object.getOwnPropertySymbols(H);it<z.length;it++)V.indexOf(z[it])<0&&Object.prototype.propertyIsEnumerable.call(H,z[it])&&(W[z[it]]=H[z[it]]);return W},K;const rt={activeResizer:!1,init:function(){this.onSelect=(0,e.debounce)(this.onSelect,0),(0,e.bindAll)(this,"onHover","onOut","onClick","onFrameScroll","onFrameResize","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),K=!0},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(H){var V=this,W=this.em,z=W.getConfig().listenToEl,it=W.getContainer().parentNode,L=H?"on":"off",_t={on:T.on,off:T.AU},nt=at.I.update;!z.length&&it&&z.push(it);var Ct=function(Dt,st){_t[L](st,"mouseover",V.onHover),_t[L](st,"mouseleave",V.onOut),_t[L](st,"click",V.onClick),_t[L](Dt,"scroll",V.onFrameScroll,!0),_t[L](Dt,"resize",V.onFrameResize)};_t[L](window,"resize",this.onFrameUpdated),_t[L](z,"scroll",this.onContainerChange),W[L]("component:toggled ".concat(nt," undo redo"),this.onSelect,this),W[L]("change:componentHovered",this.onHovered,this),W[L]("component:resize styleable:change component:input",this.updateGlobalPos,this),W[L]("".concat(nt,":toolbar"),this._upToolbar,this),W[L]("frame:updated",this.onFrameUpdated,this),W[L]("canvas:updateTools",this.onFrameUpdated,this),W[L](W.Canvas.events.refresh,this.updateAttached,this),W.Canvas.getFrames().forEach(function(Dt){var st=Dt.view,Ot=st==null?void 0:st.getWindow();Ot&&Ct(Ot,st==null?void 0:st.getBody())})},onHover:function(H){H.stopPropagation();var V=this.em,W=H.target,z=(0,j.getComponentView)(W),it=z==null?void 0:z.frameView,L=z==null?void 0:z.model;if(!L)for(var _t=W.parentNode;!L&&_t&&!(0,T.ZQ)(_t);)L=(0,j.getComponentModel)(_t),_t=_t.parentNode;this.currentDoc=W.ownerDocument,V.setHovered(L,{useValid:!0}),it&&V.setCurrentFrame(it)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(H,V){var W=this,z,it={};V?(z=V.views)===null||z===void 0||z.forEach(function(L){var _t=L.el,nt=W.getElementPos(_t);it={el:_t,pos:nt,component:V,view:(0,j.getViewEl)(_t)},_t.ownerDocument===W.currentDoc&&(W.elHovered=it),W.updateToolsLocal(it)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(L){var _t=L.view,nt=_t&&_t.getToolsEl();nt&&W.toggleToolsEl(0,0,{el:nt})}))},onSelect:function(){var H=this.em,V=H.getSelected(),W=H.getCurrentFrame(),z=V&&V.getView(W==null?void 0:W.model),it=z&&z.el,L={};if(it&&(0,T.zN)(it)){var _t=this.getElementPos(it);L={el:it,pos:_t,component:V,view:(0,j.getViewEl)(it)}}this.elSelected=L,this.updateToolsGlobal(),this.updateLocalPos(L),this.initResize(V)},updateGlobalPos:function(){var H=this.getElSelected();H.el&&(H.pos=this.getElementPos(H.el),this.updateToolsGlobal())},updateLocalPos:function(H){var V=this.getElHovered();V.el&&(V.pos=this.getElementPos(V.el),this.updateToolsLocal(H))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered()},toggleToolsEl:function(H,V,W){W===void 0&&(W={});var z=W.el||this.canvas.getToolsEl(V);return z&&(z.style.display=H?"":"none"),z||{}},showElementOffset:function(H,V,W){W===void 0&&(W={}),K&&this.editor.runCommand("show-offset",{el:H,elPos:V,view:W.view,force:1,top:0,left:0})},hideElementOffset:function(H){this.editor.stopCommand("show-offset",{view:H})},showFixedElementOffset:function(H,V){this.editor.runCommand("show-offset",{el:H,elPos:V,state:"Fixed"})},hideFixedElementOffset:function(){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(H){this.canvas.getHighlighter(H).style.opacity=0},onClick:function(H){H.stopPropagation(),H.preventDefault();var V=this.em;if(V.get("_cmpDrag"))return V.set("_cmpDrag");var W=H.target,z=(0,j.getComponentModel)(W);if(!z)for(var it=W.parentNode;!z&&it&&!(0,T.ZQ)(it);)z=(0,j.getComponentModel)(it),it=it.parentNode;if(z){if(V.isEditing()&&(!z.get("textable")&&z.isChildOf("text")||V.getEditing()!==z))return;this.select(z,H)}},select:function(H,V){V===void 0&&(V={}),H&&(this.editor.select(H,{event:V,useValid:!0}),this.initResize(H))},updateBadge:function(H,V,W){W===void 0&&(W={});var z=this.canvas,it=(0,j.getComponentModel)(H),L=this.getBadge(W),_t=L.style;if(!it||!it.get("badgable")){_t.display="none";return}if(!W.posOnly){var nt=this.canvas.getConfig(),Ct=it.getIcon(),Dt=nt.pStylePrefix||"",st="".concat(Dt,"badge"),Ot=nt.customBadgeLabel,Vt="".concat(Ct?'<div class="'.concat(st,'__icon">').concat(Ct,"</div>"):"",`
        <div class="`).concat(st,'__name">').concat(it.getName(),"</div>");L.innerHTML=Ot?Ot(it):Vt}var Tt="px";_t.display="block";var te=z.getTargetToElementFixed(H,L,{pos:V}),pt=te.top,bt=W.leftOff<0?-W.leftOff:0;_t.top=pt+Tt,_t.left=bt+Tt},showHighlighter:function(H){this.canvas.getHighlighter(H).style.opacity=""},initResize:function(H){var V=this,W=V.em,z=V.canvas,it=W.Editor,L=!(0,e.isElement)(H)&&(0,T.GW)(H)?H:W.getSelected(),_t=L==null?void 0:L.get("resizable"),nt=X.F.Resize,Ct=z.hasCustomSpot(nt);if(z.removeSpots({type:nt}),L&&_t){z.addSpot({type:nt,component:L});var Dt=(0,e.isElement)(H)?H:L.getEl(),st=(0,j.isObject)(_t)?_t:{},Ot=st.onStart,Vt=Ot===void 0?function(){}:Ot,Tt=st.onMove,te=Tt===void 0?function(){}:Tt,pt=st.onEnd,bt=pt===void 0?function(){}:pt,At=st.updateTarget,Wt=At===void 0?function(){}:At,Yt=Q(st,["onStart","onMove","onEnd","updateTarget"]);if(Ct||!Dt||this.activeResizer)return;var Ut,ee=W.config,Ae=ee.stylePrefix||"",de="".concat(Ae,"resizing"),Ze=this,He={component:L,el:Dt},_e=function(U,Y,ct){var wt=ct.docs;wt&&wt.forEach(function($){var vt=$.body,ut=vt.className||"";vt.className=(U=="add"?"".concat(ut," ").concat(de):ut.replace(de,"")).trim()})},A=ft({onStart:function(U,Y){Vt(U,Y);var ct=Y.el,wt=Y.config,$=Y.resizer,vt=wt.keyHeight,ut=wt.keyWidth,ie=wt.currentUnit,Ce=wt.keepAutoHeight,ge=wt.keepAutoWidth;_e("add",U,Y),Ut=W.Styles.getModelToStyle(L),z.toggleFramesEvents(!1);var B=getComputedStyle(ct),ot=Ut.getStyle(),N=ot[ut];wt.autoWidth=ge&&N==="auto",isNaN(parseFloat(N))&&(N=B[ut]);var Et=ot[vt];wt.autoHeight=Ce&&Et==="auto",isNaN(parseFloat(Et))&&(Et=B[vt]),$.startDim.w=parseFloat(N),$.startDim.h=parseFloat(Et),K=!1,ie&&(wt.unitHeight=(0,j.getUnitFromValue)(Et),wt.unitWidth=(0,j.getUnitFromValue)(N)),Ze.activeResizer=!0,it.trigger("component:resize",ft(ft({},He),{type:"start"}))},onMove:function(U){te(U),it.trigger("component:resize",ft(ft({},He),{type:"move"}))},onEnd:function(U,Y){bt(U,Y),_e("remove",U,Y),it.trigger("component:resize",ft(ft({},He),{type:"end"})),z.toggleFramesEvents(!0),K=!0,Ze.activeResizer=!1},updateTarget:function(U,Y,ct){if(Wt(U,Y,ct),!!Ut){var wt=ct.store,$=ct.selectedHandler,vt=ct.config,ut=vt.keyHeight,ie=vt.keyWidth,Ce=vt.autoHeight,ge=vt.autoWidth,B=vt.unitWidth,ot=vt.unitHeight,N=["tc","bc"].indexOf($)>=0,Et=["cl","cr"].indexOf($)>=0,yt={};if(!N){var Nt=z.getBody().offsetWidth,Qt=Y.w<Nt?Y.w:Nt;yt[ie]=ge?"auto":"".concat(Qt).concat(B)}Et||(yt[ut]=Ce?"auto":"".concat(Y.h).concat(ot)),W.getDragMode(L)&&(yt.top="".concat(Y.t).concat(ot),yt.left="".concat(Y.l).concat(B));var Zt=ft(ft({},yt),{__p:!wt});Ut.addStyle(Zt,{avoidStore:!wt}),W.Styles.__emitCmpStyleUpdate(Zt,{components:W.getSelected()})}}},Yt);this.resizer=it.runCommand("resize",{el:Dt,options:A,force:1})}else{if(Ct)return;it.stopCommand("resize"),this.resizer=null}},updateToolbar:function(H){var V=this.canvas,W=this.config.em,z=H===W?W.getSelected():H,it=V.getToolbarEl(),L=it.style,_t=z.get("toolbar"),nt=W.config.showToolbar,Ct=!V.hasCustomSpot(X.F.Select);if(z&&nt&&_t&&_t.length&&Ct){if(L.display="",!this.toolbar){it.innerHTML="",this.toolbar=new h(_t);var Dt=new P({collection:this.toolbar,em:W});it.appendChild(Dt.render().el)}this.toolbar.reset(_t),L.top="-100px",L.left="0"}else L.display="none"},updateToolbarPos:function(H){var V="px",W=this.canvas.getToolbarEl().style;W.top="".concat(H.top).concat(V),W.left="".concat(H.left).concat(V),W.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(H){return H===void 0&&(H={}),this.canvas.getBadgeEl(H.view)},onFrameScroll:function(){this.updateTools(),this.canvas.refreshSpots()},onFrameResize:function(){this.canvas.refresh({all:!0})},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(H){return H&&H.get("status")==="selected"},updateToolsLocal:function(H){var V=this.em.getConfig(),W=H||this.getElHovered(),z=W.el,it=W.pos,L=W.view,_t=W.component;if(!z){this.lastHovered=0;return}var nt=_t.get("hoverable"),Ct=this.lastHovered!==z,Dt=Ct?{}:{posOnly:1},st=this.canvas.hasCustomSpot(X.F.Hover);Ct&&nt&&(this.lastHovered=z,st?this.hideHighlighter(L):this.showHighlighter(L),this.showElementOffset(z,it,{view:L})),this.isCompSelected(_t)&&(this.hideHighlighter(L),!V.showOffsetsSelected&&this.hideElementOffset(L));var Ot="px",Vt=this.toggleToolsEl(1,L),Tt=Vt.style,te=this.canvas.canvasRectOffset(z,it),pt=te.top,bt=te.left;!st&&this.updateBadge(z,it,ft(ft({},Dt),{view:L,topOff:pt,leftOff:bt})),Tt.top=pt+Ot,Tt.left=bt+Ot,Tt.width=it.width+Ot,Tt.height=it.height+Ot,this._trgToolUp("local",{component:_t,el:Vt,top:pt,left:bt,width:it.width,height:it.height})},_upToolbar:(0,e.debounce)(function(){this.updateToolsGlobal({force:1})},0),_trgToolUp:function(H,V){V===void 0&&(V={}),this.em.trigger("canvas:tools:update",ft({type:H},V))},updateToolsGlobal:function(H){H===void 0&&(H={});var V=this.getElSelected(),W=V.el,z=V.pos,it=V.component;if(!W){this.toggleToolsEl(),this.lastSelected=0;return}var L=this.canvas,_t=this.lastSelected!==W;(_t||H.force)&&(this.lastSelected=W,this.updateToolbar(it));var nt="px",Ct=this.toggleToolsEl(1),Dt=Ct.style,st=L.getTargetToElementFixed(W,L.getToolbarEl(),{pos:z}),Ot=st.canvasOffsetTop,Vt=st.canvasOffsetLeft;Dt.top=Ot+nt,Dt.left=Vt+nt,Dt.width=z.width+nt,Dt.height=z.height+nt,this.updateToolbarPos({top:st.top,left:st.left}),this._trgToolUp("global",{component:it,el:Ct,top:Ot,left:Vt,width:z.width,height:z.height})},updateAttached:(0,e.debounce)(function(){this.updateGlobalPos()},0),onContainerChange:(0,e.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(H){return this.canvas.getCanvasView().getElementPos(H,{noScroll:!0})},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(H){H&&H.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(H){(0,j.hasWin)()&&(this.editor=H&&H.get("Editor"),this.enable())},stop:function(H,V,W){if(W===void 0&&(W={}),!!(0,j.hasWin)()){var z=this,it=z.em,L=z.editor;this.onHovered(),this.stopSelectComponent(),!W.preserveSelected&&it.setSelected(),this.toggleToolsEl(),L&&L.stopCommand("resize")}}}},582:(o,r,t)=>{t.r(r),t.d(r,{default:()=>n});var e=t(694);const n={startSelectPosition:function(i,s,u){var c=this;u===void 0&&(u={}),this.isPointed=!1;var f=this.em.Utils,h=i.ownerDocument.body;f&&!this.sorter&&(this.sorter=new f.Sorter({container:h,placer:this.canvas.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,direction:"a",document:s,wmargin:1,nested:1,em:this.em,canvasRelative:1,scale:function(){return c.em.getZoomDecimal()}})),u.onStart&&(this.sorter.onStart=u.onStart),i&&this.sorter.startSort(i,{container:h})},getOffsetDim:function(){var i=this.offset(this.canvas.getFrameEl()),s=this.offset(this.canvas.getElement()),u=i.top-s.top,c=i.left-s.left;return{top:u,left:c}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex=this.posMethod=="after"&&this.cDim.length!==0?this.posIndex+1:this.posIndex,this.sorter&&(this.sorter.moved=0,this.sorter.endMove()),this.cDim&&(this.posIsLastEl=this.cDim.length!==0&&this.posMethod=="after"&&this.posIndex==this.cDim.length,this.posTargetEl=this.cDim.length===0?(0,e.default)(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?(0,e.default)(this.cDim[this.posIndex][5]).parent():(0,e.default)(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(i,s,u){var c=i||0,f=s||"before",h=u.length,g=h!==0&&f=="after"&&c==h;return h!==0&&(!g&&!u[c][4]||u[c-1]&&!u[c-1][4]||g&&!u[c-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},131:(o,r,t)=>{t.r(r),t.d(r,{default:()=>u});var e=t(523),n=t(683),i=t(694),s=function(){return s=Object.assign||function(c){for(var f,h=1,g=arguments.length;h<g;h++){f=arguments[h];for(var m in f)Object.prototype.hasOwnProperty.call(f,m)&&(c[m]=f[m])}return c},s.apply(this,arguments)};const u={getOffsetMethod:function(c){var f=c||"";return"get"+f+"OffsetViewerEl"},run:function(c,f,h){var g=this.canvas,m=h||{},y=m.state||"",w=c.getConfig(),b=this.em.getZoomDecimal(),O=m.el;if(!w.showOffsets||!(O instanceof HTMLElement)||!w.showOffsetsSelected&&y=="Fixed"){c.stopCommand("".concat(this.id),h);return}if(!g.hasCustomSpot(n.F.Spacing)){var S=s({},m.elPos||g.getElementPos(O));(0,e.isUndefined)(m.top)||(S.top=m.top),(0,e.isUndefined)(m.left)||(S.left=m.left);var P=window.getComputedStyle(O),T=this.ppfx,j=y+"State",X=this.getOffsetMethod(y),at=g[X](h.view);at.style.opacity="";var ft=this["marginT"+y],Q=this["marginB"+y],K=this["marginL"+y],rt=this["marginR"+y],H=this["padT"+y],V=this["padB"+y],W=this["padL"+y],z=this["padR"+y];if(at.childNodes.length&&(this[j]="1",ft=at.querySelector("[data-offset-m-t]"),Q=at.querySelector("[data-offset-m-b]"),K=at.querySelector("[data-offset-m-l]"),rt=at.querySelector("[data-offset-m-r]"),H=at.querySelector("[data-offset-p-t]"),V=at.querySelector("[data-offset-p-b]"),W=at.querySelector("[data-offset-p-l]"),z=at.querySelector("[data-offset-p-r]")),!this[j]){var it=y.toLowerCase(),L=it+"margin-v",_t=it+"padding-v",nt=(0,i.default)('<div class="'.concat(T,'marginName">')).get(0),Ct=(0,i.default)('<div class="'.concat(T,'paddingName">')).get(0),Dt=T+L+"-el",st=T+_t+"-el",Ot="".concat(Dt," ").concat(T+L),Vt="".concat(st," ").concat(T+_t);ft=(0,i.default)('<div class="'.concat(Ot,'-top"></div>')).get(0),Q=(0,i.default)('<div class="'.concat(Ot,'-bottom"></div>')).get(0),K=(0,i.default)('<div class="'.concat(Ot,'-left"></div>')).get(0),rt=(0,i.default)('<div class="'.concat(Ot,'-right"></div>')).get(0),H=(0,i.default)('<div class="'.concat(Vt,'-top"></div>')).get(0),V=(0,i.default)('<div class="'.concat(Vt,'-bottom"></div>')).get(0),W=(0,i.default)('<div class="'.concat(Vt,'-left"></div>')).get(0),z=(0,i.default)('<div class="'.concat(Vt,'-right"></div>')).get(0),this["marginT"+y]=ft,this["marginB"+y]=Q,this["marginL"+y]=K,this["marginR"+y]=rt,this["padT"+y]=H,this["padB"+y]=V,this["padL"+y]=W,this["padR"+y]=z,nt.appendChild(ft),nt.appendChild(Q),nt.appendChild(K),nt.appendChild(rt),Ct.appendChild(H),Ct.appendChild(V),Ct.appendChild(W),Ct.appendChild(z),at.appendChild(nt),at.appendChild(Ct),this[j]="1"}var Tt="px",te=parseFloat(P.marginLeft.replace(Tt,""))*b,pt=parseFloat(P.marginRight.replace(Tt,""))*b,bt=parseFloat(P.marginTop.replace(Tt,""))*b,At=parseFloat(P.marginBottom.replace(Tt,""))*b,Wt=ft.style,Yt=Q.style,Ut=K.style,ee=rt.style,Ae=H.style,de=V.style,Ze=W.style,He=z.style,_e=parseFloat(S.left),A=parseFloat(P.width)*b+Tt;Wt.height=bt+Tt,Wt.width=A,Wt.top=S.top-bt+Tt,Wt.left=_e+Tt,Yt.height=At+Tt,Yt.width=A,Yt.top=S.top+S.height+Tt,Yt.left=_e+Tt;var U=S.height+bt+At+Tt,Y=S.top-bt+Tt;Ut.height=U,Ut.width=te+Tt,Ut.top=Y,Ut.left=_e-te+Tt,ee.height=U,ee.width=pt+Tt,ee.top=Y,ee.left=_e+S.width+Tt;var ct=parseFloat(P.paddingTop)*b;Ae.height=ct+Tt;var wt=parseFloat(P.paddingBottom)*b;de.height=wt+Tt;var $=S.height-wt-ct+Tt,vt=S.top+ct+Tt;Ze.height=$,Ze.width=parseFloat(P.paddingLeft)*b+Tt,Ze.top=vt;var ut=parseFloat(P.paddingRight)*b;He.height=$,He.width=ut+Tt,He.top=vt}},stop:function(c,f,h){h===void 0&&(h={});var g=h||{},m=g.state||"",y=this.getOffsetMethod(m),w=h.view,b=this.canvas,O=b[y](w);O.style.opacity=0}}},229:(o,r,t)=>{t.r(r),t.d(r,{default:()=>i});var e=t(523),n=t(342);const i={init:function(){(0,e.bindAll)(this,"_onFramesChange")},run:function(s){this.toggleVis(s,!0)},stop:function(s){this.toggleVis(s,!1)},toggleVis:function(s,u){if(u===void 0&&(u=!0),!s.Commands.isActive("preview")){var c=s.Canvas,f=u?"on":"off",h=c.getModel();h[f]("change:frames",this._onFramesChange),this.handleFrames(c.getFrames(),u)}},handleFrames:function(s,u){var c=this;s.forEach(function(f){var h;!((h=f.view)===null||h===void 0)&&h.loaded&&c._upFrame(f,u),f.__ol||(f.on("loaded",function(){return c._upFrame(f)}),f.__ol=!0)})},_onFramesChange:function(s,u){this.handleFrames(u)},_upFrame:function(s,u){var c,f=this,h=f.ppfx,g=f.em,m=f.id,y=(0,n.isDef)(u)?u:g.Commands.isActive(m),w=y?"add":"remove",b="".concat(h,"dashed");(c=s.view)===null||c===void 0||c.getBody().classList[w](b)}}},268:(o,r,t)=>{t.d(r,{Kx:()=>u,Ss:()=>f,lK:()=>g,pM:()=>c,x2:()=>h});var e=t(391),n=t.n(e),i=function(){var m=function(y,w){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,O){b.__proto__=O}||function(b,O){for(var S in O)Object.prototype.hasOwnProperty.call(O,S)&&(b[S]=O[S])},m(y,w)};return function(y,w){if(typeof w!="function"&&w!==null)throw new TypeError("Class extends value "+String(w)+" is not a constructor or null");m(y,w);function b(){this.constructor=y}y.prototype=w===null?Object.create(w):(b.prototype=w.prototype,new b)}}(),s=function(){return s=Object.assign||function(m){for(var y,w=1,b=arguments.length;w<b;w++){y=arguments[w];for(var O in y)Object.prototype.hasOwnProperty.call(y,O)&&(m[O]=y[O])}return m},s.apply(this,arguments)},u=function(m){i(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y}(n().Model),c=function(m){i(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y}(n().Collection),f=function(m){i(y,m);function y(){return m!==null&&m.apply(this,arguments)||this}return y}(n().View),h;(function(m){m.Screen="screen",m.World="world"})(h||(h={}));var g={x:0,y:0};s(s({},g),{width:0,height:0})},249:(o,r,t)=>{t.d(r,{I:()=>n,t:()=>e});var e;(function(i){i.remove="component:remove",i.add="component:add",i.move="component:move"})(e||(e={}));var n;(function(i){i.add="component:add",i.remove="component:remove",i.removeBefore="component:remove:before",i.create="component:create",i.update="component:update",i.updateInside="component:update-inside",i.symbolMainAdd="symbol:main:add",i.symbolMainUpdate="symbol:main:update",i.symbolMainUpdateDeep="symbol:main:update-deep",i.symbolMainRemove="symbol:main:remove",i.symbolMain="symbol:main",i.symbolInstanceAdd="symbol:instance:add",i.symbolInstanceRemove="symbol:instance:remove",i.symbolInstance="symbol:instance",i.symbol="symbol"})(n||(n={}))},754:(o,r,t)=>{t.d(r,{A:()=>u});var e=t(523),n=t(268),i=function(){var c=function(f,h){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,m){g.__proto__=m}||function(g,m){for(var y in m)Object.prototype.hasOwnProperty.call(m,y)&&(g[y]=m[y])},c(f,h)};return function(f,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");c(f,h);function g(){this.constructor=f}f.prototype=h===null?Object.create(h):(g.prototype=h.prototype,new g)}}(),s=function(c){i(f,c);function f(h,g,m){h===void 0&&(h={}),m===void 0&&(m=!1);var y=c.call(this,h)||this;return y.itemsView="",y.itemType="type",y.reuseView=!1,y.config=g||h.config||{},m&&y.listenTo(y.collection,"add",y.addTo),y.items=[],y}return f.prototype.addTo=function(h){this.add(h)},f.prototype.itemViewNotFound=function(h){var g=this,m=g.config,y=g.ns,w=m.em,b="".concat(y?"[".concat(y,"]: "):"","'").concat(h,"' type not found");w&&w.logWarning(b)},f.prototype.add=function(h,g){var m=this,y=m.config,w=m.reuseView,b=m.items,O=this.itemsView||{},S=["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],P=g||null,T=this.itemView,j=h.get(this.itemType),X;O[j]?T=O[j]:j&&!O[j]&&!(0,e.includes)(S,j)&&this.itemViewNotFound(j),h.view&&w?X=h.view:X=new T({model:h,config:y},y),b&&b.push(X);var at=X.render().el;P?P.appendChild(at):this.$el.append(at)},f.prototype.render=function(){var h=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(g){this.add(g,h)},this),this.$el.append(h),this.onRender(),this},f.prototype.onRender=function(){},f.prototype.onRemoveBefore=function(h,g){},f.prototype.onRemove=function(h,g){},f.prototype.remove=function(h){h===void 0&&(h={});var g=this.items;return this.onRemoveBefore(g,h),this.clearItems(),c.prototype.remove.call(this),this.onRemove(g,h),this},f.prototype.clearItems=function(){this.items},f}(n.Ss);const u=s;s.prototype.itemView=""},14:(o,r,t)=>{t.d(r,{A:()=>f});var e=t(523),n=t(926),i=function(){return i=Object.assign||function(h){for(var g,m=1,y=arguments.length;m<y;m++){g=arguments[m];for(var w in g)Object.prototype.hasOwnProperty.call(g,w)&&(h[w]=g[w])}return h},i.apply(this,arguments)},s=function(){return{x:0,y:0}},u=["x","y"],c=function(){function h(g){return g===void 0&&(g={}),this.opts={snapOffset:5,scale:1},(0,e.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(g),this.delta=s(),this.lastScroll=s(),this.lastScrollDiff=s(),this.startPointer=s(),this.startPosition=s(),this.globScrollDiff=s(),this.currentPointer=s(),this.position=s(),this.guidesStatic=[],this.guidesTarget=[],this.docs=[],this}return h.prototype.setOptions=function(g){g===void 0&&(g={}),this.opts=i(i({},this.opts),g)},h.prototype.toggleDrag=function(g){var m=this.getDocumentEl(),y=this.getContainerEl(),w=this.getWindowEl(),b=g?"on":"off",O={on:n.on,off:n.AU};O[b](y,"mousemove dragover",this.drag),O[b](m,"mouseup dragend touchend",this.stop),O[b](m,"keydown",this.keyHandle),O[b](w,"scroll",this.handleScroll)},h.prototype.handleScroll=function(){var g=this,m=g.lastScroll,y=g.delta,w=this.getScrollInfo(),b={x:w.x-m.x,y:w.y-m.y};this.move(y.x+b.x,y.y+b.y),this.lastScrollDiff=b},h.prototype.start=function(g){var m=this.opts,y=m.onStart;this.toggleDrag(!0),this.startPointer=this.getPointerPos(g),this.guidesStatic=(0,e.result)(m,"guidesStatic")||[],this.guidesTarget=(0,e.result)(m,"guidesTarget")||[],(0,e.isFunction)(y)&&y(g,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff=s(),this.globScrollDiff=s(),this.drag(g)},h.prototype.drag=function(g){var m=this,y=this,w=y.opts,b=y.lastScrollDiff,O=y.globScrollDiff,S=w.onDrag,P=this.startPointer,T=this.getPointerPos(g),j={x:O.x+b.x,y:O.y+b.y};this.globScrollDiff=j;var X={x:T.x-P.x+j.x,y:T.y-P.y+j.y};this.lastScrollDiff=s();var at=this.lockedAxis;g.shiftKey?at=!at&&this.detectAxisLock(X.x,X.y):at=null,at==="x"?X.x=P.x:at==="y"&&(X.y=P.y);var ft=function(W){u.forEach(function(z){return W[z]=W[z]*(0,e.result)(w,"scale")}),m.delta=W,m.move(W.x,W.y),(0,e.isFunction)(S)&&S(g,m)},Q=i({},X);if(this.currentPointer=T,this.lockedAxis=at,this.lastScroll=this.getScrollInfo(),ft(X),this.guidesTarget.length){var K=this.snapGuides(Q),rt=K.newDelta,H=K.trgX,V=K.trgY;(H||V)&&ft(rt)}g.which===0&&this.stop(g)},h.prototype.snapGuides=function(g){var m=this,y=g,w=this,b=w.trgX,O=w.trgY;return this.guidesTarget.forEach(function(S){S.x&&m.trgX||S.y&&m.trgY||(S.active=!1,m.guidesStatic.forEach(function(P){if(!(S.y&&P.x||S.x&&P.y)){var T=S.y&&P.y,j=T?"y":"x",X=S[j],at=P[j],ft=g[j],Q=T?O:b;if(m.isPointIn(X,at)&&(0,e.isUndefined)(Q)){var K=ft-(X-at);m.setGuideLock(S,K)}}}))}),b=this.trgX,O=this.trgY,u.forEach(function(S){var P=S.toUpperCase(),T=m["trg".concat(P)];T&&!m.isPointIn(g[S],T.lock)&&(m.setGuideLock(T,null),T=null),T&&!(0,e.isUndefined)(T.lock)&&(y[S]=T.lock)}),{newDelta:y,trgX:this.trgX,trgY:this.trgY}},h.prototype.isPointIn=function(g,m,y){var w=y===void 0?{}:y,b=w.offset,O=b||this.opts.snapOffset||0;return g>=m&&g<=m+O||g<=m&&g>=m-O},h.prototype.setGuideLock=function(g,m){var y=(0,e.isUndefined)(g.x)?"Y":"X",w="trg".concat(y);return m!==null?(g.active=!0,g.lock=m,this[w]=g):(delete g.active,delete g.lock,delete this[w]),g},h.prototype.stop=function(g,m){m===void 0&&(m={});var y=this.delta,w=!!m.cancel,b=w?0:y.x,O=w?0:y.y;this.toggleDrag(),this.lockedAxis=null,this.move(b,O,!0);var S=this.opts.onEnd;(0,e.isFunction)(S)&&S(g,this,{cancelled:w})},h.prototype.keyHandle=function(g){(0,n.v$)(g)&&this.stop(g,{cancel:!0})},h.prototype.move=function(g,m,y){var w=this,b=w.el,O=w.opts,S=this.startPosition;if(S){var P=O.setPosition,T=S.x+g,j=S.y+m;this.position={x:T,y:j,end:y},(0,e.isFunction)(P)&&P(this.position),b&&(b.style.left="".concat(T,"px"),b.style.top="".concat(j,"px"))}},h.prototype.getContainerEl=function(){var g=this.opts.container;return g?[g]:this.getDocumentEl()},h.prototype.getWindowEl=function(){var g=this.getContainerEl();return g.map(function(m){var y=m.ownerDocument||m;return y.defaultView||y.parentWindow})},h.prototype.getDocumentEl=function(g){var m=this.opts.doc;if(g=g||this.el,!this.docs.length){var y=[document];g&&y.push(g.ownerDocument),m&&y.push(m),this.docs=y}return this.docs},h.prototype.getPointerPos=function(g){var m=this.opts.getPointerPosition,y=(0,n.G2)(g);return m?m(g):{x:y.clientX,y:y.clientY}},h.prototype.getStartPosition=function(){var g=this,m=g.el,y=g.opts,w=y.getPosition,b=s();return(0,e.isFunction)(w)?b=w():m&&(b={x:parseFloat(m.style.left),y:parseFloat(m.style.top)}),b},h.prototype.getScrollInfo=function(){var g=this.opts.doc,m=g&&g.body;return{y:m?m.scrollTop:0,x:m?m.scrollLeft:0}},h.prototype.detectAxisLock=function(g,m){var y=g,w=m,b=Math.abs(y),O=Math.abs(w);if(w>=b||w<=-b)return"x";if(y>O||y<-O)return"y"},h}();const f=c},694:(o,r,t)=>{t.r(r),t.d(r,{default:()=>Tr});var e=typeof document<"u"?document:null,n=typeof window<"u"?window:null,i=Array.prototype,s=i.filter,u=i.indexOf,c=i.map,f=i.push,h=i.reverse,g=i.slice,m=i.splice,y=/^#[\w-]*$/,w=/^\.[\w-]*$/,b=/<.+>/,O=/^\w+$/;function S(F,tt){return tt===void 0&&(tt=e),w.test(F)?tt.getElementsByClassName(F.slice(1)):O.test(F)?tt.getElementsByTagName(F):tt.querySelectorAll(F)}function P(F,tt){if(tt===void 0&&(tt=e),!!F){if(F.__cash)return F;var dt=F;if(W(F)){if(tt.__cash&&(tt=tt[0]),dt=y.test(F)?tt.getElementById(F.slice(1)):b.test(F)?Oe(F):S(F,tt),!dt)return}else if(V(F))return this.ready(F);(dt.nodeType||dt===n)&&(dt=[dt]),this.length=dt.length;for(var kt=0,zt=this.length;kt<zt;kt++)this[kt]=dt[kt]}}function T(F,tt){return new P(F,tt)}var j=T.fn=T.prototype=P.prototype={constructor:T,__cash:!0,length:0,splice:m};j.get=function(F){return F===void 0?g.call(this):this[F<0?F+this.length:F]},j.eq=function(F){return T(this.get(F))},j.first=function(){return this.eq(0)},j.last=function(){return this.eq(-1)},j.map=function(F){return T(c.call(this,function(tt,dt){return F.call(tt,dt,tt)}))},j.slice=function(){return T(g.apply(this,arguments))};var X=/(?:^\w|[A-Z]|\b\w)/g,at=/[\s-_]+/g;function ft(F){return F.replace(X,function(tt,dt){return tt[dt?"toUpperCase":"toLowerCase"]()}).replace(at,"")}T.camelCase=ft;function Q(F,tt){for(var dt=0,kt=F.length;dt<kt&&tt.call(F[dt],F[dt],dt,F)!==!1;dt++);}T.each=Q,j.each=function(F){return Q(this,function(tt,dt){return F.call(tt,dt,tt)}),this},j.removeProp=function(F){return this.each(function(tt,dt){delete dt[F]})};function K(F){F===void 0&&(F=this);for(var tt=arguments,dt=tt.length,kt=dt<2?0:1;kt<dt;kt++)for(var zt in tt[kt])F[zt]=tt[kt][zt];return F}T.extend=j.extend=K;var rt=1;T.guid=rt;function H(F,tt){var dt=F&&(F.matches||F.webkitMatchesSelector||F.mozMatchesSelector||F.msMatchesSelector||F.oMatchesSelector);return!!dt&&dt.call(F,tt)}T.matches=H;function V(F){return typeof F=="function"}T.isFunction=V;function W(F){return typeof F=="string"}T.isString=W;function z(F){return!isNaN(parseFloat(F))&&isFinite(F)}T.isNumeric=z;var it=Array.isArray;T.isArray=it,j.prop=function(F,tt){if(F){if(W(F))return arguments.length<2?this[0]&&this[0][F]:this.each(function(kt,zt){zt[F]=tt});for(var dt in F)this.prop(dt,F[dt]);return this}};function L(F){return W(F)?function(tt,dt){return H(dt,F)}:F.__cash?function(tt,dt){return F.is(dt)}:function(tt,dt,kt){return dt===kt}}j.filter=function(F){if(!F)return T();var tt=V(F)?F:L(F);return T(s.call(this,function(dt,kt){return tt.call(dt,kt,dt,F)}))};var _t=/\S+/g;function nt(F){return W(F)?F.match(_t)||[]:[]}j.hasClass=function(F){var tt=nt(F),dt=!1;return tt.length&&this.each(function(kt,zt){return dt=zt.classList.contains(tt[0]),!dt}),dt},j.removeAttr=function(F){var tt=nt(F);return tt.length?this.each(function(dt,kt){Q(tt,function(zt){kt.removeAttribute(zt)})}):this},j.attr=function(F,tt){if(F){if(W(F)){if(arguments.length<2){if(!this[0])return;var dt=this[0].getAttribute(F);return dt===null?void 0:dt}return tt===null?this.removeAttr(F):this.each(function(zt,ce){ce.setAttribute(F,tt)})}for(var kt in F)this.attr(kt,F[kt]);return this}},j.toggleClass=function(F,tt){var dt=nt(F),kt=tt!==void 0;return dt.length?this.each(function(zt,ce){Q(dt,function(we){kt?tt?ce.classList.add(we):ce.classList.remove(we):ce.classList.toggle(we)})}):this},j.addClass=function(F){return this.toggleClass(F,!0)},j.removeClass=function(F){return arguments.length?this.toggleClass(F,!1):this.attr("class","")};function Ct(F){return F.filter(function(tt,dt,kt){return kt.indexOf(tt)===dt})}T.unique=Ct,j.add=function(F,tt){return T(Ct(this.get().concat(T(F,tt).get())))};function Dt(F,tt,dt){if(F.nodeType===1){var kt=n.getComputedStyle(F,null);return tt?dt?kt.getPropertyValue(tt):kt[tt]:kt}}function st(F,tt){return parseInt(Dt(F,tt),10)||0}var Ot=/^--/;function Vt(F){return Ot.test(F)}var Tt={},te=e&&e.createElement("div"),pt=te?te.style:{},bt=["webkit","moz","ms","o"];function At(F,tt){if(tt===void 0&&(tt=Vt(F)),tt)return F;if(!Tt[F]){var dt=ft(F),kt=""+dt.charAt(0).toUpperCase()+dt.slice(1),zt=(dt+" "+bt.join(kt+" ")+kt).split(" ");Q(zt,function(ce){if(ce in pt)return Tt[F]=ce,!1})}return Tt[F]}T.prefixedProp=At;var Wt={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function Yt(F,tt,dt){return dt===void 0&&(dt=Vt(F)),!dt&&!Wt[F]&&z(tt)?tt+"px":tt}j.css=function(F,tt){if(W(F)){var dt=Vt(F);return F=At(F,dt),arguments.length<2?this[0]&&Dt(this[0],F,dt):F?(tt=Yt(F,tt,dt),this.each(function(zt,ce){ce.nodeType===1&&(dt?ce.style.setProperty(F,tt):ce.style[F]=tt)})):this}for(var kt in F)this.css(kt,F[kt]);return this};var Ut="__cashData",ee=/^data-(.*)/;T.hasData=function(F){return Ut in F};function Ae(F){return F[Ut]=F[Ut]||{}}function de(F,tt){var dt=Ae(F);if(tt){if(!(tt in dt)){var kt=F.dataset?F.dataset[tt]||F.dataset[ft(tt)]:T(F).attr("data-"+tt);if(kt!==void 0){try{kt=JSON.parse(kt)}catch{}dt[tt]=kt}}return dt[tt]}return dt}function Ze(F,tt){tt===void 0?delete F[Ut]:delete Ae(F)[tt]}function He(F,tt,dt){Ae(F)[tt]=dt}j.data=function(F,tt){var dt=this;if(!F)return this[0]?(Q(this[0].attributes,function(zt){var ce=zt.name.match(ee);ce&&dt.data(ce[1])}),de(this[0])):void 0;if(W(F))return tt===void 0?this[0]&&de(this[0],F):this.each(function(zt,ce){return He(ce,F,tt)});for(var kt in F)this.data(kt,F[kt]);return this},j.removeData=function(F){return this.each(function(tt,dt){return Ze(dt,F)})};function _e(F,tt){return st(F,"border"+(tt?"Left":"Top")+"Width")+st(F,"padding"+(tt?"Left":"Top"))+st(F,"padding"+(tt?"Right":"Bottom"))+st(F,"border"+(tt?"Right":"Bottom")+"Width")}Q(["Width","Height"],function(F){j["inner"+F]=function(){if(this[0])return this[0]===n?n["inner"+F]:this[0]["client"+F]}}),Q(["width","height"],function(F,tt){j[F]=function(dt){return this[0]?arguments.length?(dt=parseInt(dt,10),this.each(function(kt,zt){if(zt.nodeType===1){var ce=Dt(zt,"boxSizing");zt.style[F]=Yt(F,dt+(ce==="border-box"?_e(zt,!tt):0))}})):this[0]===n?this[0][ft("outer-"+F)]:this[0].getBoundingClientRect()[F]-_e(this[0],!tt):dt===void 0?void 0:this}}),Q(["Width","Height"],function(F,tt){j["outer"+F]=function(dt){if(this[0])return this[0]===n?n["outer"+F]:this[0]["offset"+F]+(dt?st(this[0],"margin"+(tt?"Top":"Left"))+st(this[0],"margin"+(tt?"Bottom":"Right")):0)}});function A(F,tt){for(var dt=0,kt=tt.length;dt<kt;dt++)if(F.indexOf(tt[dt])<0)return!1;return!0}function U(F,tt,dt){Q(F[dt],function(kt){kt[0];var zt=kt[1];tt.removeEventListener(dt,zt)}),delete F[dt]}var Y="__cashEvents",ct=".";function wt(F){return F[Y]=F[Y]||{}}function $(F,tt,dt,kt){kt.guid=kt.guid||rt++;var zt=wt(F);zt[tt]=zt[tt]||[],zt[tt].push([dt,kt]),F.addEventListener(tt,kt)}function vt(F){var tt=F.split(ct);return[tt[0],tt.slice(1).sort()]}function ut(F,tt,dt,kt){var zt=wt(F);if(tt){var ce=zt[tt];if(!ce)return;kt&&(kt.guid=kt.guid||rt++),zt[tt]=ce.filter(function(we){var Ge=we[0],hr=we[1];if(kt&&hr.guid!==kt.guid||!A(Ge,dt))return!0;F.removeEventListener(tt,hr)})}else if(!dt||!dt.length)for(tt in zt)U(zt,F,tt);else for(tt in zt)ut(F,tt,dt,kt)}j.off=function(F,tt){var dt=this;return F===void 0?this.each(function(kt,zt){return ut(zt)}):Q(nt(F),function(kt){var zt=vt(kt),ce=zt[0],we=zt[1];dt.each(function(Ge,hr){return ut(hr,ce,we,tt)})}),this},j.on=function(F,tt,dt,kt){var zt=this;if(!W(F)){for(var ce in F)this.on(ce,tt,F[ce]);return this}return V(tt)&&(dt=tt,tt=!1),Q(nt(F),function(we){var Ge=vt(we),hr=Ge[0],Ye=Ge[1];zt.each(function(Jn,Xe){var tn=function Ln(Ne){if(!(Ne.namespace&&!A(Ye,Ne.namespace.split(ct)))){var vr=Xe;if(tt){for(var Le=Ne.target;!H(Le,tt);)if(Le===Xe||(Le=Le.parentNode,!Le))return;vr=Le}Ne.namespace=Ne.namespace||"";var Gr=dt.call(vr,Ne,Ne.data);kt&&ut(Xe,hr,Ye,Ln),Gr===!1&&(Ne.preventDefault(),Ne.stopPropagation())}};tn.guid=dt.guid=dt.guid||rt++,$(Xe,hr,Ye,tn)})}),this},j.one=function(F,tt,dt){return this.on(F,tt,dt,!0)},j.ready=function(F){var tt=function(){return F(T)};return e.readyState!=="loading"?setTimeout(tt):e.addEventListener("DOMContentLoaded",tt),this},j.trigger=function(F,tt){var dt=F;if(W(F)){var kt=vt(F),zt=kt[0],ce=kt[1];dt=e.createEvent("HTMLEvents"),dt.initEvent(zt,!0,!0),dt.namespace=ce.join(ct)}return dt.data=tt,this.each(function(we,Ge){Ge.dispatchEvent(dt)})};function ie(F){var tt=[];return Q(F.options,function(dt){dt.selected&&!dt.disabled&&!dt.parentNode.disabled&&tt.push(dt.value)}),tt}function Ce(F){return F.selectedIndex<0?null:F.options[F.selectedIndex].value}var ge=/select-one/i,B=/select-multiple/i;function ot(F){var tt=F.type;return ge.test(tt)?Ce(F):B.test(tt)?ie(F):F.value}var N=/%20/g;function Et(F,tt){return"&"+encodeURIComponent(F)+"="+encodeURIComponent(tt).replace(N,"+")}var yt=/file|reset|submit|button|image/i,Nt=/radio|checkbox/i;j.serialize=function(){var F="";return this.each(function(tt,dt){Q(dt.elements||[dt],function(kt){if(!(kt.disabled||!kt.name||kt.tagName==="FIELDSET")&&!yt.test(kt.type)&&!(Nt.test(kt.type)&&!kt.checked)){var zt=ot(kt);if(zt!==void 0){var ce=it(zt)?zt:[zt];Q(ce,function(we){F+=Et(kt.name,we)})}}})}),F.substr(1)},j.val=function(F){return F===void 0?this[0]&&ot(this[0]):this.each(function(tt,dt){var kt=B.test(dt.type),zt=F===null?kt?[]:"":F;kt&&it(zt)?Q(dt.options,function(ce){ce.selected=zt.indexOf(ce.value)>=0}):dt.value=zt})},j.clone=function(){return this.map(function(F,tt){return tt.cloneNode(!0)})},j.detach=function(){return this.each(function(F,tt){tt.parentNode&&tt.parentNode.removeChild(tt)})};var Qt=/^\s*<(\w+)[^>]*>/,Zt=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/,Kt;function se(){if(!Kt){var F=e.createElement("table"),tt=e.createElement("tr");Kt={"*":e.createElement("div"),tr:e.createElement("tbody"),td:tt,th:tt,thead:F,tbody:F,tfoot:F}}}function Oe(F){if(se(),!W(F))return[];if(Zt.test(F))return[e.createElement(RegExp.$1)];var tt=Qt.test(F)&&RegExp.$1,dt=Kt[tt]||Kt["*"];return dt.innerHTML=F,T(dt.childNodes).detach().get()}T.parseHTML=Oe,j.empty=function(){var F=this[0];if(F)for(;F.firstChild;)F.removeChild(F.firstChild);return this};function Me(F,tt,dt){dt?F.insertBefore(tt,F.childNodes[0]):F.appendChild(tt)}function Ee(F,tt,dt){if(tt!==void 0){var kt=W(tt);!kt&&tt.length?Q(tt,function(zt){return Ee(F,zt,dt)}):Q(F,kt?function(zt){zt.insertAdjacentHTML(dt?"afterbegin":"beforeend",tt)}:function(zt,ce){return Me(zt,ce?tt.cloneNode(!0):tt,dt)})}}j.append=function(){var F=this;return Q(arguments,function(tt){Ee(F,tt)}),this},j.appendTo=function(F){return Ee(T(F),this),this},j.html=function(F){if(F===void 0)return this[0]&&this[0].innerHTML;var tt=F.nodeType?F[0].outerHTML:F;return this.each(function(dt,kt){kt.innerHTML=tt})},j.insertAfter=function(F){var tt=this;return T(F).each(function(dt,kt){var zt=kt.parentNode;tt.each(function(ce,we){zt.insertBefore(dt?we.cloneNode(!0):we,kt.nextSibling)})}),this},j.after=function(){var F=this;return Q(h.apply(arguments),function(tt){h.apply(T(tt).slice()).insertAfter(F)}),this},j.insertBefore=function(F){var tt=this;return T(F).each(function(dt,kt){var zt=kt.parentNode;tt.each(function(ce,we){zt.insertBefore(dt?we.cloneNode(!0):we,kt)})}),this},j.before=function(){var F=this;return Q(arguments,function(tt){T(tt).insertBefore(F)}),this},j.prepend=function(){var F=this;return Q(arguments,function(tt){Ee(F,tt,!0)}),this},j.prependTo=function(F){return Ee(T(F),h.apply(this.slice()),!0),this},j.remove=function(){return this.detach().off()},j.replaceWith=function(F){var tt=this;return this.each(function(dt,kt){var zt=kt.parentNode;if(zt){var ce=dt?T(F).clone():T(F);if(!ce[0])return tt.remove(),!1;zt.replaceChild(ce[0],kt),T(ce[0]).after(ce.slice(1))}})},j.replaceAll=function(F){return T(F).replaceWith(this),this},j.text=function(F){return F===void 0?this[0]?this[0].textContent:"":this.each(function(tt,dt){dt.textContent=F})};var ir=e&&e.documentElement;j.offset=function(){var F=this[0];if(F){var tt=F.getBoundingClientRect();return{top:tt.top+n.pageYOffset-ir.clientTop,left:tt.left+n.pageXOffset-ir.clientLeft}}},j.offsetParent=function(){return T(this[0]&&this[0].offsetParent)},j.position=function(){var F=this[0];if(F)return{left:F.offsetLeft,top:F.offsetTop}},j.children=function(F){var tt=[];return this.each(function(dt,kt){f.apply(tt,kt.children)}),tt=T(Ct(tt)),F?tt.filter(function(dt,kt){return H(kt,F)}):tt},j.contents=function(){var F=[];return this.each(function(tt,dt){f.apply(F,dt.tagName==="IFRAME"?[dt.contentDocument]:dt.childNodes)}),T(F.length&&Ct(F))},j.find=function(F){for(var tt=[],dt=0,kt=this.length;dt<kt;dt++){var zt=S(F,this[dt]);zt.length&&f.apply(tt,zt)}return T(tt.length&&Ct(tt))},j.has=function(F){var tt=W(F)?function(dt,kt){return!!S(F,kt).length}:function(dt,kt){return kt.contains(F)};return this.filter(tt)},j.is=function(F){if(!F||!this[0])return!1;var tt=L(F),dt=!1;return this.each(function(kt,zt){return dt=tt(kt,zt,F),!dt}),dt},j.next=function(){return T(this[0]&&this[0].nextElementSibling)},j.not=function(F){if(!F||!this[0])return this;var tt=L(F);return this.filter(function(dt,kt){return!tt(dt,kt,F)})},j.parent=function(){var F=[];return this.each(function(tt,dt){dt&&dt.parentNode&&F.push(dt.parentNode)}),T(Ct(F))},j.index=function(F){var tt=F?T(F)[0]:this[0],dt=F?this:T(tt).parent().children();return u.call(dt,tt)},j.closest=function(F){return!F||!this[0]?T():this.is(F)?this.filter(F):this.parent().closest(F)},j.parents=function(F){var tt=[],dt;return this.each(function(kt,zt){for(dt=zt;dt&&dt.parentNode&&dt!==e.body.parentNode;)dt=dt.parentNode,(!F||F&&H(dt,F))&&tt.push(dt)}),T(Ct(tt))},j.prev=function(){return T(this[0]&&this[0].previousElementSibling)},j.siblings=function(){var F=this[0];return this.parent().children().filter(function(tt,dt){return dt!==F})};const Tr=T},926:(o,r,t)=>{t.d(r,{AU:()=>Dt,BC:()=>O,C8:()=>Q,Ch:()=>H,Ci:()=>z,D8:()=>u,G2:()=>V,GW:()=>ft,GZ:()=>P,I6:()=>g,LJ:()=>_t,Sc:()=>b,X6:()=>m,Xy:()=>K,YZ:()=>f,ZQ:()=>c,a_:()=>S,af:()=>j,bG:()=>w,cx:()=>h,ir:()=>X,kk:()=>nt,on:()=>Ct,rp:()=>L,v$:()=>W,yL:()=>T,zN:()=>y});var e=t(523),n=function(st,Ot,Vt){if(Vt||arguments.length===2)for(var Tt=0,te=Ot.length,pt;Tt<te;Tt++)(pt||!(Tt in Ot))&&(pt||(pt=Array.prototype.slice.call(Ot,0,Tt)),pt[Tt]=Ot[Tt]);return st.concat(pt||Array.prototype.slice.call(Ot))},i="tag",s="attributes",u="transitionend oTransitionEnd transitionend webkitTransitionEnd",c=function(st){return(st==null?void 0:st.nodeType)===Node.DOCUMENT_NODE},f=function(st){var Ot=st&&st.parentNode;Ot&&Ot.removeChild(st)};function h(){for(var st=[],Ot=0;Ot<arguments.length;Ot++)st[Ot]=arguments[Ot];var Vt=Array.isArray(st[0])?st[0]:n([],st,!0);return Vt.filter(Boolean).join(" ")}var g=function(st,Ot){return st.querySelectorAll(Ot)},m=function(st,Ot){return Ot===void 0&&(Ot={}),st&&st.setAttribute&&(0,e.each)(Ot,function(Vt,Tt){return st.setAttribute(Tt,Vt)})},y=function(st){var Ot;return st&&!!(st.offsetWidth||st.offsetHeight||!((Ot=st.getClientRects)===null||Ot===void 0)&&Ot.call(st).length)},w=function(st,Ot){var Vt;(Vt=st.parentNode)===null||Vt===void 0||Vt.replaceChild(Ot,st)},b=function(st,Ot,Vt){var Tt=st.childNodes,te=Tt.length,pt=(0,e.isUndefined)(Vt)?te:Vt;(0,e.isString)(Ot)&&(st.insertAdjacentHTML("beforeEnd",Ot),Ot=st.lastChild,st.removeChild(Ot)),pt>=te?st.appendChild(Ot):st.insertBefore(Ot,Tt[pt])},O=function(st,Ot){return b(st,Ot)},S=function(st,Ot,Vt){Ot===void 0&&(Ot={});var Tt=document.createElement(st);return Ot&&(0,e.each)(Ot,function(te,pt){return Tt.setAttribute(pt,te)}),Vt&&((0,e.isString)(Vt)?Tt.innerHTML=Vt:Tt.appendChild(Vt)),Tt},P=function(st){return document.createTextNode(st)},T=function(st,Ot){var Vt,Tt=st.type;try{Vt=new window[Ot](Tt,st)}catch{Vt=document.createEvent(Ot),Vt.initEvent(Tt,!0,!0)}return Vt._parentEvent=st,Tt.indexOf("key")===0&&(Vt.keyCodeVal=st.keyCode,["keyCode","which"].forEach(function(te){Object.defineProperty(Vt,te,{get:function(){return this.keyCodeVal}})})),Vt},j=function(st,Ot){Ot===void 0&&(Ot=[]);var Vt=Array.isArray(Ot)?Ot:[Ot];Vt.forEach(function(Tt){var te=Tt[i]||"div",pt=Tt[s]||{},bt=document.createElement(te);(0,e.each)(pt,function(At,Wt){bt.setAttribute(Wt,At)}),st.appendChild(bt)})},X=function(st){return(st==null?void 0:st.nodeType)===Node.TEXT_NODE},at=function(st){return(st==null?void 0:st.nodeType)===Node.COMMENT_NODE},ft=function(st){return st&&!X(st)&&!at(st)},Q=function(st){var Ot={top:0,left:0,width:0,height:0};if(!st)return Ot;var Vt;if(X(st)){var Tt=document.createRange();Tt.selectNode(st),Vt=Tt.getBoundingClientRect(),Tt.detach()}return Vt||(st.getBoundingClientRect?st.getBoundingClientRect():Ot)},K=function(st){var Ot=(st==null?void 0:st.ownerDocument)||document,Vt=Ot.documentElement,Tt=Ot.defaultView||window;return{x:(Tt.pageXOffset||Vt.scrollLeft||0)-(Vt.clientLeft||0),y:(Tt.pageYOffset||Vt.scrollTop||0)-(Vt.clientTop||0)}},rt=function(st){return st.which||st.keyCode},H=function(st){return String.fromCharCode(rt(st))},V=function(st){return st.touches&&st.touches[0]?st.touches[0]:st},W=function(st){return rt(st)===27},z=function(st){return rt(st)===13},it=function(st){return st.ctrlKey},L=function(st){return it(st)||st.metaKey},_t=function(st){if(!st)return"";var Ot=st.name,Vt=st.publicId,Tt=st.systemId,te=Vt?' PUBLIC "'.concat(Vt,'"'):"",pt=!Vt&&Tt?' SYSTEM "'.concat(Tt,'"'):"";return"<!DOCTYPE ".concat(Ot).concat(te).concat(pt,">")},nt=function(st){st===void 0&&(st={});var Ot=[];return(0,e.each)(st,function(Vt,Tt){return Ot.push("".concat(Tt,'="').concat(Vt,'"'))}),Ot.join(" ")},Ct=function(st,Ot,Vt,Tt){var te=Ot.split(/\s+/),pt=(0,e.isArray)(st)?st:[st];te.forEach(function(bt){pt.forEach(function(At){return At==null?void 0:At.addEventListener(bt,Vt,Tt)})})},Dt=function(st,Ot,Vt,Tt){var te=Ot.split(/\s+/),pt=(0,e.isArray)(st)?st:[st];te.forEach(function(bt){pt.forEach(function(At){return At==null?void 0:At.removeEventListener(bt,Vt,Tt)})})}},342:(o,r,t)=>{t.r(r),t.d(r,{appendStyles:()=>P,buildBase64UrlFromSvg:()=>te,camelCase:()=>at,capitalize:()=>_t,createId:()=>Tt,deepMerge:()=>W,escape:()=>H,escapeNodeContent:()=>V,find:()=>rt,getComponentModel:()=>Ot,getComponentView:()=>st,getElement:()=>K,getGlobal:()=>y,getModel:()=>z,getUiClass:()=>S,getUnitFromValue:()=>j,getViewEl:()=>Ct,hasDnd:()=>Q,hasWin:()=>m,isBultInMethod:()=>c,isComponent:()=>Dt,isDef:()=>g,isEmptyObj:()=>L,isObject:()=>it,isRule:()=>nt,matches:()=>O,normalizeFloat:()=>ft,normalizeKey:()=>f,setViewEl:()=>Vt,shallowDiff:()=>T,toLowerCase:()=>w,upFirst:()=>X,wait:()=>h});var e=t(523),n=t(926),i=function(){return i=Object.assign||function(pt){for(var bt,At=1,Wt=arguments.length;At<Wt;At++){bt=arguments[At];for(var Yt in bt)Object.prototype.hasOwnProperty.call(bt,Yt)&&(pt[Yt]=bt[Yt])}return pt},i.apply(this,arguments)},s=function(pt,bt,At){if(At||arguments.length===2)for(var Wt=0,Yt=bt.length,Ut;Wt<Yt;Wt++)(Ut||!(Wt in bt))&&(Ut||(Ut=Array.prototype.slice.call(bt,0,Wt)),Ut[Wt]=bt[Wt]);return pt.concat(Ut||Array.prototype.slice.call(bt))},u={},c=function(pt){return(0,e.isFunction)(u[pt])},f=function(pt){return c(pt)?"_".concat(pt):pt},h=function(pt){return pt===void 0&&(pt=0),new Promise(function(bt){return setTimeout(bt,pt)})},g=function(pt){return typeof pt<"u"},m=function(){return typeof window<"u"},y=function(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:t.g},w=function(pt){return(pt||"").toLowerCase()},b=m()?window.Element.prototype:{},O=b.matches||b.webkitMatchesSelector||b.mozMatchesSelector||b.msMatchesSelector,S=function(pt,bt){var At=pt.getConfig(),Wt=At.stylePrefix,Yt=At.customUI;return[Yt&&"".concat(Wt,"cui"),bt].filter(function(Ut){return Ut}).join(" ")},P=function(pt,bt){bt===void 0&&(bt={});var At=(0,e.isArray)(pt)?s([],pt,!0):[pt];if(At.length){var Wt=At.shift();if(Wt&&(!bt.unique||!document.querySelector('link[href="'.concat(Wt,'"]')))){var Yt=document.head,Ut=document.createElement("link");Ut.href=Wt,Ut.rel="stylesheet",bt.prepand?Yt.insertBefore(Ut,Yt.firstChild):Yt.appendChild(Ut)}P(At)}},T=function(pt,bt){var At={},Wt=(0,e.keys)(bt);for(var Yt in pt)if(pt.hasOwnProperty(Yt)){var Ut=pt[Yt],ee=bt[Yt];Wt.indexOf(Yt)>=0?Ut!==ee&&(At[Yt]=ee):At[Yt]=null}for(var Yt in bt)bt.hasOwnProperty(Yt)&&(0,e.isUndefined)(pt[Yt])&&(At[Yt]=bt[Yt]);return At},j=function(pt){return pt.replace(parseFloat(pt),"")},X=function(pt){return pt[0].toUpperCase()+pt.toLowerCase().slice(1)},at=function(pt){return pt.replace(/-./g,function(bt){return bt[1].toUpperCase()})},ft=function(pt,bt,At){bt===void 0&&(bt=1),At===void 0&&(At=0);var Wt=0;if(isNaN(pt))return At;if(pt=parseFloat(pt),Math.floor(pt)!==pt){var Yt=bt.toString().split(".")[1];Wt=Yt?Yt.length:0}return Wt?parseFloat(pt.toFixed(Wt)):pt},Q=function(pt){return"draggable"in document.createElement("i")&&(pt?pt.config.nativeDnD:!0)},K=function(pt){if((0,e.isElement)(pt)||(0,n.ir)(pt))return pt;if(pt&&pt.getEl)return pt.getEl()},rt=function(pt,bt){var At=null;return pt.some(function(Wt,Yt){return bt(Wt,Yt,pt)?(At=Wt,1):0}),At},H=function(pt){return pt===void 0&&(pt=""),"".concat(pt).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},V=function(pt){return pt===void 0&&(pt=""),"".concat(pt).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},W=function(){for(var pt=[],bt=0;bt<arguments.length;bt++)pt[bt]=arguments[bt];for(var At=i({},pt[0]),Wt=1;Wt<pt.length;Wt++){var Yt=i({},pt[Wt]);for(var Ut in Yt){var ee=At[Ut],Ae=Yt[Ut];it(ee)&&it(Ae)?At[Ut]=W(ee,Ae):At[Ut]=Ae}}return At},z=function(pt,bt){var At;return!bt&&pt&&pt.__cashData?At=pt.__cashData.model:bt&&(0,e.isElement)(pt)&&(At=bt(pt).data("model")),At},it=function(pt){return pt&&!Array.isArray(pt)&&typeof pt=="object"},L=function(pt){return Object.keys(pt).length<=0},_t=function(pt){return pt===void 0&&(pt=""),pt&&pt.charAt(0).toUpperCase()+pt.substring(1)},nt=function(pt){return pt&&pt.toCSS},Ct=function(pt){return pt==null?void 0:pt.__gjsv},Dt=function(pt){return!!(pt!=null&&pt.toHTML)},st=function(pt){return Ct(pt)},Ot=function(pt){var bt;return(bt=st(pt))===null||bt===void 0?void 0:bt.model},Vt=function(pt,bt){pt.__gjsv=bt},Tt=function(pt){pt===void 0&&(pt=16);for(var bt="",At="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Wt=At.length,Yt=0;Yt<pt;Yt++)bt+=At.charAt(Math.floor(Math.random()*Wt));return bt},te=function(pt){if(pt&&pt.substr(0,4)==="<svg"){var bt="";return m()?bt=window.btoa(pt):typeof Buffer<"u"&&(bt=Buffer.from(pt,"utf8").toString("base64")),bt?"data:image/svg+xml;base64,".concat(bt):pt}return pt}},585:(o,r,t)=>{var e={"./CanvasClear":404,"./CanvasClear.ts":404,"./CanvasMove":228,"./CanvasMove.ts":228,"./CommandAbstract":570,"./CommandAbstract.ts":570,"./ComponentDelete":377,"./ComponentDelete.ts":377,"./ComponentDrag":728,"./ComponentDrag.ts":728,"./ComponentEnter":462,"./ComponentEnter.ts":462,"./ComponentExit":658,"./ComponentExit.ts":658,"./ComponentNext":619,"./ComponentNext.ts":619,"./ComponentPrev":935,"./ComponentPrev.ts":935,"./ComponentStyleClear":536,"./ComponentStyleClear.ts":536,"./CopyComponent":957,"./CopyComponent.ts":957,"./ExportTemplate":413,"./ExportTemplate.ts":413,"./Fullscreen":516,"./Fullscreen.ts":516,"./MoveComponent":13,"./MoveComponent.ts":13,"./OpenAssets":204,"./OpenAssets.ts":204,"./OpenBlocks":195,"./OpenBlocks.ts":195,"./OpenLayers":671,"./OpenLayers.ts":671,"./OpenStyleManager":49,"./OpenStyleManager.ts":49,"./OpenTraitManager":590,"./OpenTraitManager.ts":590,"./PasteComponent":483,"./PasteComponent.ts":483,"./Preview":857,"./Preview.ts":857,"./Resize":869,"./Resize.ts":869,"./SelectComponent":194,"./SelectComponent.ts":194,"./SelectPosition":582,"./SelectPosition.ts":582,"./ShowOffset":131,"./ShowOffset.ts":131,"./SwitchVisibility":229,"./SwitchVisibility.ts":229};function n(s){var u=i(s);return t(u)}function i(s){if(!t.o(e,s)){var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}return e[s]}n.keys=function(){return Object.keys(e)},n.resolve=i,o.exports=n,n.id=585},523:(o,r,t)=>{t.r(r),t.d(r,{VERSION:()=>n,after:()=>ro,all:()=>ci,allKeys:()=>Kt,any:()=>Ni,assign:()=>tn,before:()=>no,bind:()=>Di,bindAll:()=>Ta,chain:()=>Li,chunk:()=>wo,clone:()=>Gr,collect:()=>nn,compact:()=>Pc,compose:()=>si,constant:()=>_e,contains:()=>Ir,countBy:()=>Tc,create:()=>Le,debounce:()=>fs,default:()=>di,defaults:()=>Ln,defer:()=>rn,delay:()=>Lo,detect:()=>me,difference:()=>Ll,drop:()=>Yo,each:()=>Cr,escape:()=>It,every:()=>ci,extend:()=>Xe,extendOwn:()=>tn,filter:()=>In,find:()=>me,findIndex:()=>mo,findKey:()=>ji,findLastIndex:()=>ui,findWhere:()=>tr,first:()=>Ri,flatten:()=>Ml,foldl:()=>gn,foldr:()=>mn,forEach:()=>Cr,functions:()=>Ye,get:()=>_r,groupBy:()=>Oc,has:()=>en,head:()=>Ri,identity:()=>Ie,include:()=>Ir,includes:()=>Ir,indexBy:()=>Pl,indexOf:()=>le,initial:()=>ur,inject:()=>gn,intersection:()=>Ac,invert:()=>hr,invoke:()=>Cc,isArguments:()=>de,isArray:()=>Ut,isArrayBuffer:()=>st,isBoolean:()=>V,isDataView:()=>Yt,isDate:()=>_t,isElement:()=>W,isEmpty:()=>B,isEqual:()=>Zt,isError:()=>Ct,isFinite:()=>Ze,isFunction:()=>Tt,isMap:()=>dt,isMatch:()=>ot,isNaN:()=>He,isNull:()=>rt,isNumber:()=>L,isObject:()=>K,isRegExp:()=>nt,isSet:()=>zt,isString:()=>it,isSymbol:()=>Dt,isTypedArray:()=>vt,isUndefined:()=>H,isWeakMap:()=>kt,isWeakSet:()=>ce,iteratee:()=>ke,keys:()=>ge,last:()=>Fi,lastIndexOf:()=>De,map:()=>nn,mapObject:()=>jn,matcher:()=>ne,matches:()=>ne,max:()=>Tl,memoize:()=>to,methods:()=>Ye,min:()=>El,mixin:()=>Pa,negate:()=>eo,noop:()=>Zn,now:()=>I,object:()=>Mc,omit:()=>Ii,once:()=>Ea,pairs:()=>Ge,partial:()=>Mo,partition:()=>kl,pick:()=>Al,pluck:()=>ds,property:()=>jr,propertyOf:()=>jt,random:()=>Qn,range:()=>Hi,reduce:()=>gn,reduceRight:()=>mn,reject:()=>_o,rest:()=>Yo,restArguments:()=>Q,result:()=>ii,sample:()=>ps,select:()=>In,shuffle:()=>xc,size:()=>Ec,some:()=>Ni,sortBy:()=>Sc,sortedIndex:()=>jo,tail:()=>Yo,take:()=>Ri,tap:()=>ve,template:()=>oi,templateSettings:()=>Pe,throttle:()=>Pr,times:()=>pe,toArray:()=>fi,toPath:()=>Dn,transpose:()=>Ui,unescape:()=>Se,union:()=>kc,uniq:()=>Vi,unique:()=>Vi,uniqueId:()=>Mi,unzip:()=>Ui,values:()=>we,where:()=>bc,without:()=>gs,wrap:()=>Do,zip:()=>Dl});var e={};t.r(e),t.d(e,{VERSION:()=>n,after:()=>ro,all:()=>ci,allKeys:()=>Kt,any:()=>Ni,assign:()=>tn,before:()=>no,bind:()=>Di,bindAll:()=>Ta,chain:()=>Li,chunk:()=>wo,clone:()=>Gr,collect:()=>nn,compact:()=>Pc,compose:()=>si,constant:()=>_e,contains:()=>Ir,countBy:()=>Tc,create:()=>Le,debounce:()=>fs,default:()=>Lc,defaults:()=>Ln,defer:()=>rn,delay:()=>Lo,detect:()=>me,difference:()=>Ll,drop:()=>Yo,each:()=>Cr,escape:()=>It,every:()=>ci,extend:()=>Xe,extendOwn:()=>tn,filter:()=>In,find:()=>me,findIndex:()=>mo,findKey:()=>ji,findLastIndex:()=>ui,findWhere:()=>tr,first:()=>Ri,flatten:()=>Ml,foldl:()=>gn,foldr:()=>mn,forEach:()=>Cr,functions:()=>Ye,get:()=>_r,groupBy:()=>Oc,has:()=>en,head:()=>Ri,identity:()=>Ie,include:()=>Ir,includes:()=>Ir,indexBy:()=>Pl,indexOf:()=>le,initial:()=>ur,inject:()=>gn,intersection:()=>Ac,invert:()=>hr,invoke:()=>Cc,isArguments:()=>de,isArray:()=>Ut,isArrayBuffer:()=>st,isBoolean:()=>V,isDataView:()=>Yt,isDate:()=>_t,isElement:()=>W,isEmpty:()=>B,isEqual:()=>Zt,isError:()=>Ct,isFinite:()=>Ze,isFunction:()=>Tt,isMap:()=>dt,isMatch:()=>ot,isNaN:()=>He,isNull:()=>rt,isNumber:()=>L,isObject:()=>K,isRegExp:()=>nt,isSet:()=>zt,isString:()=>it,isSymbol:()=>Dt,isTypedArray:()=>vt,isUndefined:()=>H,isWeakMap:()=>kt,isWeakSet:()=>ce,iteratee:()=>ke,keys:()=>ge,last:()=>Fi,lastIndexOf:()=>De,map:()=>nn,mapObject:()=>jn,matcher:()=>ne,matches:()=>ne,max:()=>Tl,memoize:()=>to,methods:()=>Ye,min:()=>El,mixin:()=>Pa,negate:()=>eo,noop:()=>Zn,now:()=>I,object:()=>Mc,omit:()=>Ii,once:()=>Ea,pairs:()=>Ge,partial:()=>Mo,partition:()=>kl,pick:()=>Al,pluck:()=>ds,property:()=>jr,propertyOf:()=>jt,random:()=>Qn,range:()=>Hi,reduce:()=>gn,reduceRight:()=>mn,reject:()=>_o,rest:()=>Yo,restArguments:()=>Q,result:()=>ii,sample:()=>ps,select:()=>In,shuffle:()=>xc,size:()=>Ec,some:()=>Ni,sortBy:()=>Sc,sortedIndex:()=>jo,tail:()=>Yo,take:()=>Ri,tap:()=>ve,template:()=>oi,templateSettings:()=>Pe,throttle:()=>Pr,times:()=>pe,toArray:()=>fi,toPath:()=>Dn,transpose:()=>Ui,unescape:()=>Se,union:()=>kc,uniq:()=>Vi,unique:()=>Vi,uniqueId:()=>Mi,unzip:()=>Ui,values:()=>we,where:()=>bc,without:()=>gs,wrap:()=>Do,zip:()=>Dl});var n="1.13.1",i=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},s=Array.prototype,u=Object.prototype,c=typeof Symbol<"u"?Symbol.prototype:null,f=s.push,h=s.slice,g=u.toString,m=u.hasOwnProperty,y=typeof ArrayBuffer<"u",w=typeof DataView<"u",b=Array.isArray,O=Object.keys,S=Object.create,P=y&&ArrayBuffer.isView,T=isNaN,j=isFinite,X=!{toString:null}.propertyIsEnumerable("toString"),at=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],ft=Math.pow(2,53)-1;function Q(k,R){return R=R==null?k.length-1:+R,function(){for(var J=Math.max(arguments.length-R,0),et=Array(J),mt=0;mt<J;mt++)et[mt]=arguments[mt+R];switch(R){case 0:return k.call(this,et);case 1:return k.call(this,arguments[0],et);case 2:return k.call(this,arguments[0],arguments[1],et)}var ht=Array(R+1);for(mt=0;mt<R;mt++)ht[mt]=arguments[mt];return ht[R]=et,k.apply(this,ht)}}function K(k){var R=typeof k;return R==="function"||R==="object"&&!!k}function rt(k){return k===null}function H(k){return k===void 0}function V(k){return k===!0||k===!1||g.call(k)==="[object Boolean]"}function W(k){return!!(k&&k.nodeType===1)}function z(k){var R="[object "+k+"]";return function(J){return g.call(J)===R}}const it=z("String"),L=z("Number"),_t=z("Date"),nt=z("RegExp"),Ct=z("Error"),Dt=z("Symbol"),st=z("ArrayBuffer");var Ot=z("Function"),Vt=i.document&&i.document.childNodes;typeof Int8Array!="object"&&typeof Vt!="function"&&(Ot=function(k){return typeof k=="function"||!1});const Tt=Ot,te=z("Object");var pt=w&&te(new DataView(new ArrayBuffer(8))),bt=typeof Map<"u"&&te(new Map),At=z("DataView");function Wt(k){return k!=null&&Tt(k.getInt8)&&st(k.buffer)}const Yt=pt?Wt:At,Ut=b||z("Array");function ee(k,R){return k!=null&&m.call(k,R)}var Ae=z("Arguments");(function(){Ae(arguments)||(Ae=function(k){return ee(k,"callee")})})();const de=Ae;function Ze(k){return!Dt(k)&&j(k)&&!isNaN(parseFloat(k))}function He(k){return L(k)&&T(k)}function _e(k){return function(){return k}}function A(k){return function(R){var J=k(R);return typeof J=="number"&&J>=0&&J<=ft}}function U(k){return function(R){return R==null?void 0:R[k]}}const Y=U("byteLength"),ct=A(Y);var wt=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function $(k){return P?P(k)&&!Yt(k):ct(k)&&wt.test(g.call(k))}const vt=y?$:_e(!1),ut=U("length");function ie(k){for(var R={},J=k.length,et=0;et<J;++et)R[k[et]]=!0;return{contains:function(mt){return R[mt]},push:function(mt){return R[mt]=!0,k.push(mt)}}}function Ce(k,R){R=ie(R);var J=at.length,et=k.constructor,mt=Tt(et)&&et.prototype||u,ht="constructor";for(ee(k,ht)&&!R.contains(ht)&&R.push(ht);J--;)ht=at[J],ht in k&&k[ht]!==mt[ht]&&!R.contains(ht)&&R.push(ht)}function ge(k){if(!K(k))return[];if(O)return O(k);var R=[];for(var J in k)ee(k,J)&&R.push(J);return X&&Ce(k,R),R}function B(k){if(k==null)return!0;var R=ut(k);return typeof R=="number"&&(Ut(k)||it(k)||de(k))?R===0:ut(ge(k))===0}function ot(k,R){var J=ge(R),et=J.length;if(k==null)return!et;for(var mt=Object(k),ht=0;ht<et;ht++){var Pt=J[ht];if(R[Pt]!==mt[Pt]||!(Pt in mt))return!1}return!0}function N(k){if(k instanceof N)return k;if(!(this instanceof N))return new N(k);this._wrapped=k}N.VERSION=n,N.prototype.value=function(){return this._wrapped},N.prototype.valueOf=N.prototype.toJSON=N.prototype.value,N.prototype.toString=function(){return String(this._wrapped)};function Et(k){return new Uint8Array(k.buffer||k,k.byteOffset||0,Y(k))}var yt="[object DataView]";function Nt(k,R,J,et){if(k===R)return k!==0||1/k===1/R;if(k==null||R==null)return!1;if(k!==k)return R!==R;var mt=typeof k;return mt!=="function"&&mt!=="object"&&typeof R!="object"?!1:Qt(k,R,J,et)}function Qt(k,R,J,et){k instanceof N&&(k=k._wrapped),R instanceof N&&(R=R._wrapped);var mt=g.call(k);if(mt!==g.call(R))return!1;if(pt&&mt=="[object Object]"&&Yt(k)){if(!Yt(R))return!1;mt=yt}switch(mt){case"[object RegExp]":case"[object String]":return""+k==""+R;case"[object Number]":return+k!=+k?+R!=+R:+k==0?1/+k===1/R:+k==+R;case"[object Date]":case"[object Boolean]":return+k==+R;case"[object Symbol]":return c.valueOf.call(k)===c.valueOf.call(R);case"[object ArrayBuffer]":case yt:return Qt(Et(k),Et(R),J,et)}var ht=mt==="[object Array]";if(!ht&&vt(k)){var Pt=Y(k);if(Pt!==Y(R))return!1;if(k.buffer===R.buffer&&k.byteOffset===R.byteOffset)return!0;ht=!0}if(!ht){if(typeof k!="object"||typeof R!="object")return!1;var Ht=k.constructor,xe=R.constructor;if(Ht!==xe&&!(Tt(Ht)&&Ht instanceof Ht&&Tt(xe)&&xe instanceof xe)&&"constructor"in k&&"constructor"in R)return!1}J=J||[],et=et||[];for(var be=J.length;be--;)if(J[be]===k)return et[be]===R;if(J.push(k),et.push(R),ht){if(be=k.length,be!==R.length)return!1;for(;be--;)if(!Nt(k[be],R[be],J,et))return!1}else{var kr=ge(k),Yr;if(be=kr.length,ge(R).length!==be)return!1;for(;be--;)if(Yr=kr[be],!(ee(R,Yr)&&Nt(k[Yr],R[Yr],J,et)))return!1}return J.pop(),et.pop(),!0}function Zt(k,R){return Nt(k,R)}function Kt(k){if(!K(k))return[];var R=[];for(var J in k)R.push(J);return X&&Ce(k,R),R}function se(k){var R=ut(k);return function(J){if(J==null)return!1;var et=Kt(J);if(ut(et))return!1;for(var mt=0;mt<R;mt++)if(!Tt(J[k[mt]]))return!1;return k!==F||!Tt(J[Oe])}}var Oe="forEach",Me="has",Ee=["clear","delete"],ir=["get",Me,"set"],Tr=Ee.concat(Oe,ir),F=Ee.concat(ir),tt=["add"].concat(Ee,Oe,Me);const dt=bt?se(Tr):z("Map"),kt=bt?se(F):z("WeakMap"),zt=bt?se(tt):z("Set"),ce=z("WeakSet");function we(k){for(var R=ge(k),J=R.length,et=Array(J),mt=0;mt<J;mt++)et[mt]=k[R[mt]];return et}function Ge(k){for(var R=ge(k),J=R.length,et=Array(J),mt=0;mt<J;mt++)et[mt]=[R[mt],k[R[mt]]];return et}function hr(k){for(var R={},J=ge(k),et=0,mt=J.length;et<mt;et++)R[k[J[et]]]=J[et];return R}function Ye(k){var R=[];for(var J in k)Tt(k[J])&&R.push(J);return R.sort()}function Jn(k,R){return function(J){var et=arguments.length;if(R&&(J=Object(J)),et<2||J==null)return J;for(var mt=1;mt<et;mt++)for(var ht=arguments[mt],Pt=k(ht),Ht=Pt.length,xe=0;xe<Ht;xe++){var be=Pt[xe];(!R||J[be]===void 0)&&(J[be]=ht[be])}return J}}const Xe=Jn(Kt),tn=Jn(ge),Ln=Jn(Kt,!0);function Ne(){return function(){}}function vr(k){if(!K(k))return{};if(S)return S(k);var R=Ne();R.prototype=k;var J=new R;return R.prototype=null,J}function Le(k,R){var J=vr(k);return R&&tn(J,R),J}function Gr(k){return K(k)?Ut(k)?k.slice():Xe({},k):k}function ve(k,R){return R(k),k}function Dn(k){return Ut(k)?k:[k]}N.toPath=Dn;function vn(k){return N.toPath(k)}function yr(k,R){for(var J=R.length,et=0;et<J;et++){if(k==null)return;k=k[R[et]]}return J?k:void 0}function _r(k,R,J){var et=yr(k,vn(R));return H(et)?J:et}function en(k,R){R=vn(R);for(var J=R.length,et=0;et<J;et++){var mt=R[et];if(!ee(k,mt))return!1;k=k[mt]}return!!J}function Ie(k){return k}function ne(k){return k=tn({},k),function(R){return ot(R,k)}}function jr(k){return k=vn(k),function(R){return yr(R,k)}}function Qe(k,R,J){if(R===void 0)return k;switch(J??3){case 1:return function(et){return k.call(R,et)};case 3:return function(et,mt,ht){return k.call(R,et,mt,ht)};case 4:return function(et,mt,ht,Pt){return k.call(R,et,mt,ht,Pt)}}return function(){return k.apply(R,arguments)}}function Nr(k,R,J){return k==null?Ie:Tt(k)?Qe(k,R,J):K(k)&&!Ut(k)?ne(k):jr(k)}function ke(k,R){return Nr(k,R,1/0)}N.iteratee=ke;function ze(k,R,J){return N.iteratee!==ke?N.iteratee(k,R):Nr(k,R,J)}function jn(k,R,J){R=ze(R,J);for(var et=ge(k),mt=et.length,ht={},Pt=0;Pt<mt;Pt++){var Ht=et[Pt];ht[Ht]=R(k[Ht],Ht,k)}return ht}function Zn(){}function jt(k){return k==null?Zn:function(R){return _r(k,R)}}function pe(k,R,J){var et=Array(Math.max(0,k));R=Qe(R,J,1);for(var mt=0;mt<k;mt++)et[mt]=R(mt);return et}function Qn(k,R){return R==null&&(R=k,k=0),k+Math.floor(Math.random()*(R-k+1))}const I=Date.now||function(){return new Date().getTime()};function q(k){var R=function(ht){return k[ht]},J="(?:"+ge(k).join("|")+")",et=RegExp(J),mt=RegExp(J,"g");return function(ht){return ht=ht==null?"":""+ht,et.test(ht)?ht.replace(mt,R):ht}}const St={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},It=q(St),Rt=hr(St),Se=q(Rt),Pe=N.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var qe=/(.)^/,Fe={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Nn=/\\|'|\r|\n|\u2028|\u2029/g;function Ai(k){return"\\"+Fe[k]}var ni=/^\s*(\w|\$)+\s*$/;function oi(k,R,J){!R&&J&&(R=J),R=Ln({},R,N.templateSettings);var et=RegExp([(R.escape||qe).source,(R.interpolate||qe).source,(R.evaluate||qe).source].join("|")+"|$","g"),mt=0,ht="__p+='";k.replace(et,function(be,kr,Yr,Dc,jl){return ht+=k.slice(mt,jl).replace(Nn,Ai),mt=jl+be.length,kr?ht+=`'+
((__t=(`+kr+`))==null?'':_.escape(__t))+
'`:Yr?ht+=`'+
((__t=(`+Yr+`))==null?'':__t)+
'`:Dc&&(ht+=`';
`+Dc+`
__p+='`),be}),ht+=`';
`;var Pt=R.variable;if(Pt){if(!ni.test(Pt))throw new Error("variable is not a bare identifier: "+Pt)}else ht=`with(obj||{}){
`+ht+`}
`,Pt="obj";ht=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+ht+`return __p;
`;var Ht;try{Ht=new Function(Pt,"_",ht)}catch(be){throw be.source=ht,be}var xe=function(be){return Ht.call(this,be,N)};return xe.source="function("+Pt+`){
`+ht+"}",xe}function ii(k,R,J){R=vn(R);var et=R.length;if(!et)return Tt(J)?J.call(k):J;for(var mt=0;mt<et;mt++){var ht=k==null?void 0:k[R[mt]];ht===void 0&&(ht=J,mt=et),k=Tt(ht)?ht.call(k):ht}return k}var Oa=0;function Mi(k){var R=++Oa+"";return k?k+R:R}function Li(k){var R=N(k);return R._chain=!0,R}function ai(k,R,J,et,mt){if(!(et instanceof R))return k.apply(J,mt);var ht=vr(k.prototype),Pt=k.apply(ht,mt);return K(Pt)?Pt:ht}var Go=Q(function(k,R){var J=Go.placeholder,et=function(){for(var mt=0,ht=R.length,Pt=Array(ht),Ht=0;Ht<ht;Ht++)Pt[Ht]=R[Ht]===J?arguments[mt++]:R[Ht];for(;mt<arguments.length;)Pt.push(arguments[mt++]);return ai(k,et,this,this,Pt)};return et});Go.placeholder=N;const Mo=Go,Di=Q(function(k,R,J){if(!Tt(k))throw new TypeError("Bind must be called on a function");var et=Q(function(mt){return ai(k,et,R,this,J.concat(mt))});return et}),wr=A(ut);function Er(k,R,J,et){if(et=et||[],!R&&R!==0)R=1/0;else if(R<=0)return et.concat(k);for(var mt=et.length,ht=0,Pt=ut(k);ht<Pt;ht++){var Ht=k[ht];if(wr(Ht)&&(Ut(Ht)||de(Ht)))if(R>1)Er(Ht,R-1,J,et),mt=et.length;else for(var xe=0,be=Ht.length;xe<be;)et[mt++]=Ht[xe++];else J||(et[mt++]=Ht)}return et}const Ta=Q(function(k,R){R=Er(R,!1,!1);var J=R.length;if(J<1)throw new Error("bindAll must be passed function names");for(;J--;){var et=R[J];k[et]=Di(k[et],k)}return k});function to(k,R){var J=function(et){var mt=J.cache,ht=""+(R?R.apply(this,arguments):et);return ee(mt,ht)||(mt[ht]=k.apply(this,arguments)),mt[ht]};return J.cache={},J}const Lo=Q(function(k,R,J){return setTimeout(function(){return k.apply(null,J)},R)}),rn=Mo(Lo,N,1);function Pr(k,R,J){var et,mt,ht,Pt,Ht=0;J||(J={});var xe=function(){Ht=J.leading===!1?0:I(),et=null,Pt=k.apply(mt,ht),et||(mt=ht=null)},be=function(){var kr=I();!Ht&&J.leading===!1&&(Ht=kr);var Yr=R-(kr-Ht);return mt=this,ht=arguments,Yr<=0||Yr>R?(et&&(clearTimeout(et),et=null),Ht=kr,Pt=k.apply(mt,ht),et||(mt=ht=null)):!et&&J.trailing!==!1&&(et=setTimeout(xe,Yr)),Pt};return be.cancel=function(){clearTimeout(et),Ht=0,et=mt=ht=null},be}function fs(k,R,J){var et,mt,ht,Pt,Ht,xe=function(){var kr=I()-mt;R>kr?et=setTimeout(xe,R-kr):(et=null,J||(Pt=k.apply(Ht,ht)),et||(ht=Ht=null))},be=Q(function(kr){return Ht=this,ht=kr,mt=I(),et||(et=setTimeout(xe,R),J&&(Pt=k.apply(Ht,ht))),Pt});return be.cancel=function(){clearTimeout(et),et=ht=Ht=null},be}function Do(k,R){return Mo(R,k)}function eo(k){return function(){return!k.apply(this,arguments)}}function si(){var k=arguments,R=k.length-1;return function(){for(var J=R,et=k[R].apply(this,arguments);J--;)et=k[J].call(this,et);return et}}function ro(k,R){return function(){if(--k<1)return R.apply(this,arguments)}}function no(k,R){var J;return function(){return--k>0&&(J=R.apply(this,arguments)),k<=1&&(R=null),J}}const Ea=Mo(no,2);function ji(k,R,J){R=ze(R,J);for(var et=ge(k),mt,ht=0,Pt=et.length;ht<Pt;ht++)if(mt=et[ht],R(k[mt],mt,k))return mt}function li(k){return function(R,J,et){J=ze(J,et);for(var mt=ut(R),ht=k>0?0:mt-1;ht>=0&&ht<mt;ht+=k)if(J(R[ht],ht,R))return ht;return-1}}const mo=li(1),ui=li(-1);function jo(k,R,J,et){J=ze(J,et,1);for(var mt=J(R),ht=0,Pt=ut(k);ht<Pt;){var Ht=Math.floor((ht+Pt)/2);J(k[Ht])<mt?ht=Ht+1:Pt=Ht}return ht}function ue(k,R,J){return function(et,mt,ht){var Pt=0,Ht=ut(et);if(typeof ht=="number")k>0?Pt=ht>=0?ht:Math.max(ht+Ht,Pt):Ht=ht>=0?Math.min(ht+1,Ht):ht+Ht+1;else if(J&&ht&&Ht)return ht=J(et,mt),et[ht]===mt?ht:-1;if(mt!==mt)return ht=R(h.call(et,Pt,Ht),He),ht>=0?ht+Pt:-1;for(ht=k>0?Pt:Ht-1;ht>=0&&ht<Ht;ht+=k)if(et[ht]===mt)return ht;return-1}}const le=ue(1,mo,jo),De=ue(-1,ui);function me(k,R,J){var et=wr(k)?mo:ji,mt=et(k,R,J);if(mt!==void 0&&mt!==-1)return k[mt]}function tr(k,R){return me(k,ne(R))}function Cr(k,R,J){R=Qe(R,J);var et,mt;if(wr(k))for(et=0,mt=k.length;et<mt;et++)R(k[et],et,k);else{var ht=ge(k);for(et=0,mt=ht.length;et<mt;et++)R(k[ht[et]],ht[et],k)}return k}function nn(k,R,J){R=ze(R,J);for(var et=!wr(k)&&ge(k),mt=(et||k).length,ht=Array(mt),Pt=0;Pt<mt;Pt++){var Ht=et?et[Pt]:Pt;ht[Pt]=R(k[Ht],Ht,k)}return ht}function yo(k){var R=function(J,et,mt,ht){var Pt=!wr(J)&&ge(J),Ht=(Pt||J).length,xe=k>0?0:Ht-1;for(ht||(mt=J[Pt?Pt[xe]:xe],xe+=k);xe>=0&&xe<Ht;xe+=k){var be=Pt?Pt[xe]:xe;mt=et(mt,J[be],be,J)}return mt};return function(J,et,mt,ht){var Pt=arguments.length>=3;return R(J,Qe(et,ht,4),mt,Pt)}}const gn=yo(1),mn=yo(-1);function In(k,R,J){var et=[];return R=ze(R,J),Cr(k,function(mt,ht,Pt){R(mt,ht,Pt)&&et.push(mt)}),et}function _o(k,R,J){return In(k,eo(ze(R)),J)}function ci(k,R,J){R=ze(R,J);for(var et=!wr(k)&&ge(k),mt=(et||k).length,ht=0;ht<mt;ht++){var Pt=et?et[ht]:ht;if(!R(k[Pt],Pt,k))return!1}return!0}function Ni(k,R,J){R=ze(R,J);for(var et=!wr(k)&&ge(k),mt=(et||k).length,ht=0;ht<mt;ht++){var Pt=et?et[ht]:ht;if(R(k[Pt],Pt,k))return!0}return!1}function Ir(k,R,J,et){return wr(k)||(k=we(k)),(typeof J!="number"||et)&&(J=0),le(k,R,J)>=0}const Cc=Q(function(k,R,J){var et,mt;return Tt(R)?mt=R:(R=vn(R),et=R.slice(0,-1),R=R[R.length-1]),nn(k,function(ht){var Pt=mt;if(!Pt){if(et&&et.length&&(ht=yr(ht,et)),ht==null)return;Pt=ht[R]}return Pt==null?Pt:Pt.apply(ht,J)})});function ds(k,R){return nn(k,jr(R))}function bc(k,R){return In(k,ne(R))}function Tl(k,R,J){var et=-1/0,mt=-1/0,ht,Pt;if(R==null||typeof R=="number"&&typeof k[0]!="object"&&k!=null){k=wr(k)?k:we(k);for(var Ht=0,xe=k.length;Ht<xe;Ht++)ht=k[Ht],ht!=null&&ht>et&&(et=ht)}else R=ze(R,J),Cr(k,function(be,kr,Yr){Pt=R(be,kr,Yr),(Pt>mt||Pt===-1/0&&et===-1/0)&&(et=be,mt=Pt)});return et}function El(k,R,J){var et=1/0,mt=1/0,ht,Pt;if(R==null||typeof R=="number"&&typeof k[0]!="object"&&k!=null){k=wr(k)?k:we(k);for(var Ht=0,xe=k.length;Ht<xe;Ht++)ht=k[Ht],ht!=null&&ht<et&&(et=ht)}else R=ze(R,J),Cr(k,function(be,kr,Yr){Pt=R(be,kr,Yr),(Pt<mt||Pt===1/0&&et===1/0)&&(et=be,mt=Pt)});return et}function ps(k,R,J){if(R==null||J)return wr(k)||(k=we(k)),k[Qn(k.length-1)];var et=wr(k)?Gr(k):we(k),mt=ut(et);R=Math.max(Math.min(R,mt),0);for(var ht=mt-1,Pt=0;Pt<R;Pt++){var Ht=Qn(Pt,ht),xe=et[Pt];et[Pt]=et[Ht],et[Ht]=xe}return et.slice(0,R)}function xc(k){return ps(k,1/0)}function Sc(k,R,J){var et=0;return R=ze(R,J),ds(nn(k,function(mt,ht,Pt){return{value:mt,index:et++,criteria:R(mt,ht,Pt)}}).sort(function(mt,ht){var Pt=mt.criteria,Ht=ht.criteria;if(Pt!==Ht){if(Pt>Ht||Pt===void 0)return 1;if(Pt<Ht||Ht===void 0)return-1}return mt.index-ht.index}),"value")}function hs(k,R){return function(J,et,mt){var ht=R?[[],[]]:{};return et=ze(et,mt),Cr(J,function(Pt,Ht){var xe=et(Pt,Ht,J);k(ht,Pt,xe)}),ht}}const Oc=hs(function(k,R,J){ee(k,J)?k[J].push(R):k[J]=[R]}),Pl=hs(function(k,R,J){k[J]=R}),Tc=hs(function(k,R,J){ee(k,J)?k[J]++:k[J]=1}),kl=hs(function(k,R,J){k[J?0:1].push(R)},!0);var vs=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function fi(k){return k?Ut(k)?h.call(k):it(k)?k.match(vs):wr(k)?nn(k,Ie):we(k):[]}function Ec(k){return k==null?0:wr(k)?k.length:ge(k).length}function Np(k,R,J){return R in J}const Al=Q(function(k,R){var J={},et=R[0];if(k==null)return J;Tt(et)?(R.length>1&&(et=Qe(et,R[1])),R=Kt(k)):(et=Np,R=Er(R,!1,!1),k=Object(k));for(var mt=0,ht=R.length;mt<ht;mt++){var Pt=R[mt],Ht=k[Pt];et(Ht,Pt,k)&&(J[Pt]=Ht)}return J}),Ii=Q(function(k,R){var J=R[0],et;return Tt(J)?(J=eo(J),R.length>1&&(et=R[1])):(R=nn(Er(R,!1,!1),String),J=function(mt,ht){return!Ir(R,ht)}),Al(k,J,et)});function ur(k,R,J){return h.call(k,0,Math.max(0,k.length-(R==null||J?1:R)))}function Ri(k,R,J){return k==null||k.length<1?R==null||J?void 0:[]:R==null||J?k[0]:ur(k,k.length-R)}function Yo(k,R,J){return h.call(k,R==null||J?1:R)}function Fi(k,R,J){return k==null||k.length<1?R==null||J?void 0:[]:R==null||J?k[k.length-1]:Yo(k,Math.max(0,k.length-R))}function Pc(k){return In(k,Boolean)}function Ml(k,R){return Er(k,R,!1)}const Ll=Q(function(k,R){return R=Er(R,!0,!0),In(k,function(J){return!Ir(R,J)})}),gs=Q(function(k,R){return Ll(k,R)});function Vi(k,R,J,et){V(R)||(et=J,J=R,R=!1),J!=null&&(J=ze(J,et));for(var mt=[],ht=[],Pt=0,Ht=ut(k);Pt<Ht;Pt++){var xe=k[Pt],be=J?J(xe,Pt,k):xe;R&&!J?((!Pt||ht!==be)&&mt.push(xe),ht=be):J?Ir(ht,be)||(ht.push(be),mt.push(xe)):Ir(mt,xe)||mt.push(xe)}return mt}const kc=Q(function(k){return Vi(Er(k,!0,!0))});function Ac(k){for(var R=[],J=arguments.length,et=0,mt=ut(k);et<mt;et++){var ht=k[et];if(!Ir(R,ht)){var Pt;for(Pt=1;Pt<J&&Ir(arguments[Pt],ht);Pt++);Pt===J&&R.push(ht)}}return R}function Ui(k){for(var R=k&&Tl(k,ut).length||0,J=Array(R),et=0;et<R;et++)J[et]=ds(k,et);return J}const Dl=Q(Ui);function Mc(k,R){for(var J={},et=0,mt=ut(k);et<mt;et++)R?J[k[et]]=R[et]:J[k[et][0]]=k[et][1];return J}function Hi(k,R,J){R==null&&(R=k||0,k=0),J||(J=R<k?-1:1);for(var et=Math.max(Math.ceil((R-k)/J),0),mt=Array(et),ht=0;ht<et;ht++,k+=J)mt[ht]=k;return mt}function wo(k,R){if(R==null||R<1)return[];for(var J=[],et=0,mt=k.length;et<mt;)J.push(h.call(k,et,et+=R));return J}function Bi(k,R){return k._chain?N(R).chain():R}function Pa(k){return Cr(Ye(k),function(R){var J=N[R]=k[R];N.prototype[R]=function(){var et=[this._wrapped];return f.apply(et,arguments),Bi(this,J.apply(N,et))}}),N}Cr(["pop","push","reverse","shift","sort","splice","unshift"],function(k){var R=s[k];N.prototype[k]=function(){var J=this._wrapped;return J!=null&&(R.apply(J,arguments),(k==="shift"||k==="splice")&&J.length===0&&delete J[0]),Bi(this,J)}}),Cr(["concat","join","slice"],function(k){var R=s[k];N.prototype[k]=function(){var J=this._wrapped;return J!=null&&(J=R.apply(J,arguments)),Bi(this,J)}});const Lc=N;var Rn=Pa(e);Rn._=Rn;const di=Rn}},V_={};function Ue(o){var r=V_[o];if(r!==void 0)return r.exports;var t=V_[o]={exports:{}};return nk[o].call(t.exports,t,t.exports,Ue),t.exports}Ue.n=o=>{var r=o&&o.__esModule?()=>o.default:()=>o;return Ue.d(r,{a:r}),r};Ue.d=(o,r)=>{for(var t in r)Ue.o(r,t)&&!Ue.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:r[t]})};Ue.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();Ue.o=(o,r)=>Object.prototype.hasOwnProperty.call(o,r);Ue.r=o=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})};var Mx={};Ue.d(Mx,{Ay:()=>QF,I0:()=>l1,nu:()=>s1});var D=Ue(523),Mt=Ue(342);function Wn(o){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];var e=o.raw;return e.reduce(function(n,i,s){var u=r[s-1],c=e[s-1];return Array.isArray(u)?u=u.join(""):c&&c.slice(-1)==="$"?n=n.slice(0,-1):u=(0,Mt.escape)(u),n+u+i})}var ok={stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:void 0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:!1,jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',chevron:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',eye:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',eyeOff:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>'},i18n:{},undoManager:{},assetManager:{},canvas:{},layerManager:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,customUI:!1};const U_=ok;var vg=Ue(391),ik=Ue.n(vg),sr=Ue(694);const ak=function(o){var r=o.$;if(r&&r.prototype&&r.prototype.constructor.name!=="jQuery"){var t=r.fn;t.hide=function(){return this.css("display","none")},t.show=function(){return this.css("display","block")},t.focus=function(){var i=this.get(0);return i&&i.focus(),this},t.bind=function(i,s){return this.on(i,s)},t.unbind=function(i,s){if((0,D.isObject)(i)){for(var u in i)i.hasOwnProperty(u)&&this.off(u,i[u]);return this}else return this.off(i,s)},t.click=function(i){return i?this.on("click",i):this.trigger("click")},t.change=function(i){return i?this.on("change",i):this.trigger("change")},t.keydown=function(i){return i?this.on("keydown",i):this.trigger("keydown")},t.delegate=function(i,s,u,c){return c||(c=u),this.on(s,i,function(f){f.data=u,c(f)})},t.scrollLeft=function(){var i=this.get(0);i=i.nodeType==9?i.defaultView:i;var s=i instanceof Window?i:null;return s?s.pageXOffset:i.scrollLeft||0},t.scrollTop=function(){var i=this.get(0);i=i.nodeType==9?i.defaultView:i;var s=i instanceof Window?i:null;return s?s.pageYOffset:i.scrollTop||0};var e=r.prototype.offset;t.offset=function(i){var s,u;return i&&(s=i.top,u=i.left),typeof s<"u"&&this.css("top","".concat(s,"px")),typeof u<"u"&&this.css("left","".concat(u,"px")),e.call(this)},r.map=function(i,s){for(var u=[],c=0;c<i.length;c++)u.push(s(i[c],c));return u};var n=Array.prototype.indexOf;r.inArray=function(i,s,u){return s==null?-1:n.call(s,i,u)},r.Event=function(i,s){if(!(this instanceof r.Event))return new r.Event(i,s);this.type=i,this.isDefaultPrevented=function(){return!1}}}};var $t=Ue(268),Lx=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sk=function(o){Lx(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}($t.Kx),lk=function(o){Lx(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.getByComponent=function(t){var e=this;return this.filter(function(n){return e.getComponent(n)===t})[0]},r.prototype.addComponent=function(t,e){var n=this,i=((0,D.isArray)(t)?t:[t]).filter(function(s){return!n.hasComponent(s)}).map(function(s){return new sk({component:s})})[0];return this.push(i,e)},r.prototype.getComponent=function(t){return t.get("component")},r.prototype.hasComponent=function(t){var e=this.getByComponent(t);return e&&this.contains(e)},r.prototype.lastComponent=function(){var t=this.last();return t?this.getComponent(t):void 0},r.prototype.allComponents=function(){var t=this;return this.map(function(e){return t.getComponent(e)}).filter(function(e){return e})},r.prototype.removeComponent=function(t,e){var n=this,i=((0,D.isArray)(t)?t:[t]).map(function(s){return n.getByComponent(s)});return this.remove(i,e)},r}($t.pM);const uk=lk;var ck=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gg=function(){return gg=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},gg.apply(this,arguments)},fk=function(o,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,i;e<n;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return o.concat(i||Array.prototype.slice.call(r))},Dx=function(){function o(r,t,e){this.debounced=[],this.collections=[],this.cls=[],this._em=r,this._name=t;var n=this.name.charAt(0).toLowerCase()+this.name.slice(1),i=(0,D.isUndefined)(r.config[n])?r.config[this.name]:r.config[n],s=i===!0?{}:i||{};s.pStylePrefix=r.config.pStylePrefix||"",!(0,D.isUndefined)(i)&&!i&&(s._disable=1),s.em=r,this._config=(0,Mt.deepMerge)(e||{},s)}return Object.defineProperty(o.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),o.prototype.render=function(r){},o.prototype.postLoad=function(r){},Object.defineProperty(o.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),o.prototype.getConfig=function(r){return r?this.config[r]:this.config},o.prototype.__logWarn=function(r,t){t===void 0&&(t={}),this.em.logWarning("[".concat(this.name,"]: ").concat(r),t)},o.prototype.destroy=function(){this.__destroy()},o.prototype.__destroy=function(){var r,t,e;(r=this.view)===null||r===void 0||r.remove(),(t=this.state)===null||t===void 0||t.stopListening(),(e=this.state)===null||e===void 0||e.clear(),this.debounced.forEach(function(n){return n.cancel()}),this.collections.forEach(function(n){n.stopListening(),n.reset()})},o.prototype.__appendTo=function(){var r=this.getConfig().appendTo;if(r){var t=(0,D.isElement)(r)?r:document.querySelector(r);if(!t)return this.__logWarn('"appendTo" element not found');t.appendChild(this.render())}},o}();const qn=Dx;var Sa=function(o){ck(r,o);function r(t,e,n,i,s,u){u===void 0&&(u={});var c=o.call(this,t,e,s)||this;return c.cls=[],c.private=!1,c.all=n,c.events=i,!u.skipListen&&c.__initListen(),c}return r.prototype.postLoad=function(t){},r.prototype.render=function(t){},r.prototype.getProjectData=function(t){var e={},n=this.storageKey;return n&&(e[n]=t||this.getAll()),e},r.prototype.loadProjectData=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var n=e.all,i=e.onResult,s=e.reset,u=this.storageKey,c={action:"load"},f=n||this.all,h=t[u];if(typeof h=="string")try{h=JSON.parse(h)}catch{this.__logWarn("Data parsing failed",{input:h})}return s&&h&&f.reset(void 0,c),i?h&&i(h,c):h&&(0,Mt.isDef)(h.length)&&f.reset(h,c),h},r.prototype.clear=function(t){t===void 0&&(t={});var e=this.all;return e&&e.reset(void 0,t),this},r.prototype.getAll=function(){return fk([],this.all.models,!0)},r.prototype.getAllMap=function(){return this.getAll().reduce(function(t,e){return t[e.get(e.idAttribute)]=e,t},{})},r.prototype.__initListen=function(t){t===void 0&&(t={});var e=this,n=e.all,i=e.em,s=e.events;n&&i&&n.on("add",function(u,c,f){return i.trigger(s.add,u,f)}).on("remove",function(u,c,f){return i.trigger(s.remove,u,f)}).on("change",function(u,c){return i.trigger(s.update,u,u.changedAttributes(),c)}).on("all",this.__catchAllEvent,this),this.cls=[n].concat(t.collections||[]),(t.propagate||[]).forEach(function(u){var c=u.entity,f=u.event;c.on("all",function(h,g,m,y){var w=y||m,b=gg({event:h},w);[i,n].map(function(O){return O.trigger(f,g,b)})})})},r.prototype.__remove=function(t,e){var n=this;e===void 0&&(e={});var i=this.em,s=(0,D.isString)(t)?this.get(t):t,u=function(){return s&&n.all.remove(s,e),s};return!e.silent&&(i==null||i.trigger(this.events.removeBefore,s,u,e)),!e.abort&&u()},r.prototype.__catchAllEvent=function(t,e,n,i){var s=this,u=s.em,c=s.events,f=i||n;u&&c.all&&u.trigger(c.all,{event:t,model:e,options:f}),this.__onAllEvent()},r.prototype.__appendTo=function(t){var e=this.config.appendTo;if(e){var n=(0,D.isElement)(e)?e:document.querySelector(e);if(!n)return this.__logWarn('"appendTo" element not found');n.appendChild(this.render(t))}},r.prototype.__onAllEvent=function(){},r.prototype._createId=function(t){t===void 0&&(t=16);var e=this.getAll(),n=e.length+t,i=this.getAllMap(),s;do s=(0,Mt.createId)(n);while(i[s]);return s},r.prototype.__listenAdd=function(t,e){var n=this;t.on("add",function(i,s,u){return n.em.trigger(e,i,u)})},r.prototype.__listenRemove=function(t,e){var n=this;t.on("remove",function(i,s,u){return n.em.trigger(e,i,u)})},r.prototype.__listenUpdate=function(t,e){var n=this;t.on("change",function(i,s){return n.em.trigger(e,i,i.changedAttributes(),s)})},r.prototype.__destroy=function(){var t;this.cls.forEach(function(e){e.stopListening(),e.reset()}),(t=this.view)===null||t===void 0||t.remove(),this.view=void 0},r}(Dx),dk={stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:void 0,autoscrollLimit:50,extHl:!1,frameContent:"<!DOCTYPE html>",frameStyle:`
    body { background-color: #fff }
    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }
    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }
    * ::-webkit-scrollbar { width: 10px }
  `,notTextable:["button","a","input[type=checkbox]","input[type=radio]"],allowExternalDrop:!0};const pk=dk;var wa=Ue(578),hk={default:"",devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]};const vk=hk;var gk=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),mk=function(o){gk(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}},r.prototype.initialize=function(){var t=this;this.get("widthMedia")===null&&this.set("widthMedia",this.get("width")),this.get("width")===null&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0);var e=["width","height","widthMedia"];e.forEach(function(n){return t.checkUnit(n)})},r.prototype.checkUnit=function(t){var e=this.get(t)||"",n=(parseFloat(e)||0).toString()===e.toString();n&&this.set(t,"".concat(e,"px"))},r.prototype.getName=function(){return this.get("name")||this.get("id")},r.prototype.getWidthMedia=function(){return this.get("widthMedia")||""},r}($t.Kx);const jx=mk;var yk=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Nx=function(o){yk(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}($t.pM);const H_=Nx;Nx.prototype.model=jx;var _k=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wk=function(o,r){return Object.defineProperty?Object.defineProperty(o,"raw",{value:r}):o.raw=r,o},Ck=function(o){_k(r,o);function r(t){var e=o.call(this,t)||this;return e.config=t.config||{},e.em=e.config.em,e.ppfx=e.config.pStylePrefix||"",e.listenTo(e.em,"change:device",e.updateSelect),e}return r.prototype.template=function(t){var e=t.ppfx,n=t.label;return Wn(B_||(B_=wk([`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `],[`
      <div class="`,'device-label">',`</div>
      <div class="`,"field ",`select">
        <span id="`,`input-holder">
          <select class="`,`devices"></select>
        </span>
        <div class="`,`sel-arrow">
          <div class="`,`d-s-arrow"></div>
        </div>
      </div>
      <button style="display:none" class="`,`add-trasp" data-add-trasp>+</button>
    `])),e,n,e,e,e,e,e,e,e)},r.prototype.events=function(){return{change:"updateDevice","click [data-add-trasp]":"startAdd"}},r.prototype.startAdd=function(){},r.prototype.updateDevice=function(){var t=this.em;if(t){var e=this.devicesEl;t.set("device",e?e.val():"")}},r.prototype.updateSelect=function(){var t=this,e=t.em,n=t.devicesEl;if(e&&e.getDeviceModel&&n){var i=e.getDeviceModel();n.val(i?i.get("id"):"")}},r.prototype.getOptions=function(){var t=this,e=t.collection,n=t.em,i="";return e.forEach(function(s){var u=s.attributes,c=u.name,f=u.id,h=n&&n.t&&n.t("deviceManager.devices.".concat(f))||c;i+='<option value="'.concat(f||c,'">').concat(h,"</option>")}),i},r.prototype.render=function(){var t=this,e=t.em,n=t.ppfx,i=t.$el,s=t.el,u=e&&e.t&&e.t("deviceManager.device");return i.html(this.template({ppfx:n,label:u})),this.devicesEl=i.find(".".concat(n,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(e.get("device")),s.className="".concat(n,"devices-c"),this},r}($t.Ss);const bk=Ck;var B_,xk=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Mu=function(){return Mu=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Mu.apply(this,arguments)},Ix="device",Dp="".concat(Ix,":"),Sk="".concat(Dp,"select"),Rx="".concat(Dp,"update"),Ok="".concat(Dp,"add"),Fx="".concat(Dp,"remove"),Tk="".concat(Fx,":before"),Ek="change:device",Pk={all:Ix,select:Sk,update:Rx,add:Ok,remove:Fx,removeBefore:Tk},kk=function(o){xk(r,o);function r(t){var e,n=o.call(this,t,"DeviceManager",new H_,Pk,vk)||this;return n.Device=jx,n.Devices=H_,n.storageKey="",n.devices=n.all,(e=n.config.devices)===null||e===void 0||e.forEach(function(i){return n.add(i,{silent:!0})}),n.select(n.config.default||n.devices.at(0)),t.on(Ek,n._onSelect,n),n}return r.prototype._onSelect=function(t,e,n){var i=this,s=i.em,u=i.events,c=t.previous("device"),f=this.get(e),h=u.select;s.trigger(h,f,this.get(c)),this.__catchAllEvent(h,f,n)},r.prototype.add=function(t,e){e===void 0&&(e={});var n,i=e;if((0,D.isString)(t)){var s=e;i=arguments[2]||{},n=Mu(Mu({},i),{id:t,name:i.name||t,width:s})}else n=t;return n.id||(n.id=n.name||this._createId()),this.devices.add(n,i)},r.prototype.get=function(t){var e=this.getAll().filter(function(n){return n.get("name")===t})[0];return e||this.devices.get(t)||null},r.prototype.remove=function(t,e){return e===void 0&&(e={}),this.__remove(t,e)},r.prototype.getDevices=function(){return this.devices.models},r.prototype.select=function(t,e){e===void 0&&(e={});var n=(0,D.isString)(t)?this.get(t):t;return n&&this.em.set("device",n.get("id"),e),this},r.prototype.getSelected=function(){return this.get(this.em.get("device"))},r.prototype.getAll=function(){return this.devices},r.prototype.render=function(){var t,e=this.em;return(t=this.view)===null||t===void 0||t.remove(),this.view=new bk({collection:this.devices,config:Mu({em:e},this.config)}),this.view.render().el},r.prototype.destroy=function(){this.__destroy()},r}(Sa);const Ak=kk;var mg;(function(o){o.add="page:add",o.addBefore="page:add:before",o.remove="page:remove",o.removeBefore="page:remove:before",o.select="page:select",o.selectBefore="page:select:before",o.update="page:update",o.all="page"})(mg||(mg={}));const yg=mg;var Mk=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Lk=function(o){Mk(r,o);function r(t,e,n){return o.call(this,e,{module:t,modelConstructor:n})||this}return r.prototype.add=function(t,e){var n=this,i,s=(0,D.isArray)(t)?t:(0,D.isUndefined)(t)?void 0:[t];return s=(i=s==null?void 0:s.map(function(u){return u instanceof n.newModel?u:new n.newModel(n.module,u)}))!==null&&i!==void 0?i:[void 0],o.prototype.add.call(this,(0,D.isArray)(t)?s:s[0],e)},r.prototype.preinitialize=function(t,e){this.newModel=e.modelConstructor,this.module=e.module},r}($t.pM);const jp=Lk;var Dk=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_g=function(){return _g=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},_g.apply(this,arguments)},z_=function(o,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,i;e<n;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return o.concat(i||Array.prototype.slice.call(r))},W_="__aw",K_="__ah",$_=function(o,r){var t,e=o.get(r),n=(t=o.view)===null||t===void 0?void 0:t.el[r==="width"?"offsetWidth":"offsetHeight"];return(0,D.isNumber)(e)?e:(0,D.isString)(e)&&e.endsWith("px")?parseFloat(e):n||0},jk=function(o){Dk(r,o);function r(t,e){var n=o.call(this,t,e)||this,i=n.em,s=n.attributes,u=s.styles,c=s.component,f=i.Components,h=f.getConfig(),g=i.Css.getAll(),m={},y={em:i,config:h,frame:n,idMap:m};if(!(0,Mt.isComponent)(c)){var w=(0,Mt.isObject)(c)?c:{components:c};!w.type&&(w.type="wrapper");var b=f.getType("wrapper").model;n.set("component",new b(w,y))}if(!u)n.set("styles",g);else if(!(0,Mt.isObject)(u)){var O=u;(0,D.keys)(m).length&&(O=(0,D.isString)(O)?i.Parser.parseCss(O):O,i.Css.checkId(O,{idMap:m})),g.add(O),n.set("styles",g)}return!e.width&&n.set(W_,1),!e.height&&n.set(K_,1),!n.id&&n.set("id",(0,Mt.createId)()),n}return r.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",refFrame:null,_undo:!0,_undoexc:["changesCount"]}},Object.defineProperty(r.prototype,"width",{get:function(){return $_(this,"width")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"height",{get:function(){return $_(this,"height")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"refFrame",{get:function(){return this.get("refFrame")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"root",{get:function(){var t=this.refFrame;return(t==null?void 0:t.getComponent())||this.getComponent()},enumerable:!1,configurable:!0}),r.prototype.initRefs=function(){var t=this.refFrame;if((0,D.isString)(t)){var e=this.module.framesById[t];e&&this.set({refFrame:e},{silent:!0})}},r.prototype.getBoxRect=function(){var t=this.attributes,e=t.x,n=t.y,i=this,s=i.width,u=i.height;return{x:e,y:n,width:s,height:u}},r.prototype.onRemove=function(){!this.refFrame&&this.getComponent().remove({root:1})},r.prototype.changesUp=function(t){t===void 0&&(t={}),!(t.temporary||t.noCount||t.avoidStore)&&this.set("changesCount",this.get("changesCount")+1)},r.prototype.getComponent=function(){return this.get("component")},r.prototype.getStyles=function(){return this.get("styles")},r.prototype.disable=function(){this.trigger("disable")},r.prototype.remove=function(){var t;(t=this.view)===null||t===void 0||t.remove(),this.view=void 0;var e=this.collection;return e&&e.remove(this)},r.prototype.getHead=function(){return z_([],this.head,!0)},r.prototype.setHead=function(t){return this.set("head",z_([],t,!0))},r.prototype.addHeadItem=function(t){this.head.push(t)},r.prototype.getHeadByAttr=function(t,e,n){return this.head.filter(function(i){return i.attributes&&i.attributes[t]==e&&(!n||n===i.tag)})[0]},r.prototype.removeHeadByAttr=function(t,e,n){var i=this.getHeadByAttr(t,e,n),s=this.head.indexOf(i);s>=0&&this.head.splice(s,1)},r.prototype.addLink=function(t){var e="link";!this.getHeadByAttr("href",t,e)&&this.addHeadItem({tag:e,attributes:{href:t,rel:"stylesheet"}})},r.prototype.removeLink=function(t){this.removeHeadByAttr("href",t,"link")},r.prototype.addScript=function(t){var e="script";!this.getHeadByAttr("src",t,e)&&this.addHeadItem({tag:e,attributes:{src:t}})},r.prototype.removeScript=function(t){this.removeHeadByAttr("src",t,"script")},r.prototype.getPage=function(){var t;return(t=this.collection)===null||t===void 0?void 0:t.page},r.prototype._emitUpdated=function(t){t===void 0&&(t={}),this.em.trigger("frame:updated",_g({frame:this},t))},r.prototype.hasAutoHeight=function(){var t=this.attributes.height;return!!(t==="auto"||this.config.infiniteCanvas)},r.prototype.toJSON=function(t){t===void 0&&(t={});var e=wa.A.prototype.toJSON.call(this,t),n=(0,D.result)(this,"defaults");return t.fromUndo&&delete e.component,delete e.styles,delete e.changesCount,e[W_]&&delete e.width,e[K_]&&delete e.height,e.refFrame&&(e.refFrame=e.refFrame.id,delete e.component),(0,D.forEach)(e,function(i,s){s.indexOf("_")===0&&delete e[s]}),(0,D.forEach)(n,function(i,s){e[s]===i&&delete e[s]}),(0,D.forEach)(["attributes","head"],function(i){(0,D.isEmpty)(e[i])&&delete e[i]}),e},r}(wa.A);const Vx=jk;var Nk=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ik=function(o){Nk(r,o);function r(t,e){e===void 0&&(e=[]);var n=o.call(this,t,e,Vx)||this;return n.loadedItems=0,n.itemsToLoad=0,(0,D.bindAll)(n,"itemLoaded"),n.on("add",n.onAdd),n.on("reset",n.onReset),n.on("remove",n.onRemove),n.forEach(function(i){return n.onAdd(i)}),n}return r.prototype.onAdd=function(t){this.module.framesById[t.id]=t},r.prototype.onReset=function(t,e){var n=this,i=(e==null?void 0:e.previousModels)||[];i.map(function(s){return n.onRemove(s)})},r.prototype.onRemove=function(t){t.onRemove(),delete this.module.framesById[t.id]},r.prototype.initRefs=function(){this.forEach(function(t){return t.initRefs()})},r.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},r.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},r.prototype.listenToLoadItems=function(t){var e=this;this.forEach(function(n){return n[t?"on":"off"]("loaded",e.itemLoaded)})},r}(jp);const Ux=Ik;var Rk=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fk=function(o){Rk(r,o);function r(t){var e=this,n=t.em,i=t.config,s=i.scripts,u=i.styles;return e=o.call(this,t,{scripts:s,styles:u})||this,e.set("frames",new Ux(t)),e.on("change:zoom",e.onZoomChange),e.on("change:x change:y",e.onCoordsChange),e.on("change:pointer change:pointerScreen",e.onPointerChange),e.listenTo(n,"change:device ".concat(Rx),e.updateDevice),e.listenTo(n,yg.select,e._pageUpdated),e}return r.prototype.defaults=function(){return{frame:"",frames:[],rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[],pointer:$t.lK,pointerScreen:$t.lK}},Object.defineProperty(r.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),r.prototype.init=function(){var t=this.em,e=t.Pages._initPage();this.set("frames",e.getFrames()),this.updateDevice({frame:e.getMainFrame()})},r.prototype._pageUpdated=function(t,e){var n=this.em;n.setSelected(),n.get("readyCanvas")&&n.stopDefault(),e==null||e.getFrames().map(function(i){return i.disable()}),this.set("frames",t.getFrames()),this.updateDevice({frame:t.getMainFrame()})},r.prototype.updateDevice=function(t){t===void 0&&(t={});var e=this.em,n=e.getDeviceModel(),i=t.frame||e.getCurrentFrameModel();if(i&&n){var s=n.attributes,u=s.width,c=s.height;i.set({width:u,height:c},{noUndo:1})}},r.prototype.onZoomChange=function(){var t=this,e=t.em,n=t.module,i=this.get("zoom");i<1&&this.set("zoom",1),e.trigger(n.events.zoom)},r.prototype.onCoordsChange=function(){var t=this,e=t.em,n=t.module;e.trigger(n.events.coords)},r.prototype.onPointerChange=function(){var t=this,e=t.em,n=t.module;e.trigger(n.events.pointer)},r.prototype.getPointerCoords=function(t){t===void 0&&(t=$t.x2.World);var e=this.attributes,n=e.pointer,i=e.pointerScreen;return t===$t.x2.World?n:i},r}(wa.A);const Vk=Fk;var To=Ue(683),dn=Ue(249),Uk=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Hk=function(o){Uk(r,o);function r(t,e){e===void 0&&(e=[]);var n=o.call(this,t,e,To.A)||this;n.on("add",n.onAdd),n.on("change",n.onChange),n.on("remove",n.onRemove);var i=n.em;n.refreshDbn=(0,D.debounce)(function(){return n.refresh()},0);var s="component:resize styleable:change component:input ".concat(dn.I.update," frame:updated undo redo");return n.listenTo(i,s,function(){return n.refreshDbn()}),n}return Object.defineProperty(r.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"events",{get:function(){return this.module.events},enumerable:!1,configurable:!0}),r.prototype.refresh=function(){var t=this,e=t.em,n=t.events;e.trigger(n.spot)},r.prototype.onAdd=function(t){this.__trgEvent(this.events.spotAdd,{spot:t})},r.prototype.onChange=function(t){this.__trgEvent(this.events.spotUpdate,{spot:t})},r.prototype.onRemove=function(t){this.__trgEvent(this.events.spotRemove,{spot:t})},r.prototype.__trgEvent=function(t,e){var n=this.module,i=n.em;i.trigger(t,e),this.refreshDbn()},r}(jp);const Bk=Hk;var md;(function(o){o.dragEnter="canvas:dragenter",o.dragOver="canvas:dragover",o.dragEnd="canvas:dragend",o.dragData="canvas:dragdata",o.drop="canvas:drop",o.spot="canvas:spot",o.spotAdd="canvas:spot:add",o.spotUpdate="canvas:spot:update",o.spotRemove="canvas:spot:remove",o.coords="canvas:coords",o.zoom="canvas:zoom",o.pointer="canvas:pointer",o.refresh="canvas:refresh",o.frameLoad="canvas:frame:load",o.frameLoadHead="canvas:frame:load:head",o.frameLoadBody="canvas:frame:load:body"})(md||(md={}));const Bf=md;var zk=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Wk=function(o){zk(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"pfx",{get:function(){return this.ppfx+this.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ppfx",{get:function(){return this.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"module",{get:function(){var t,e;return(e=(t=this.model)===null||t===void 0?void 0:t.module)!==null&&e!==void 0?e:this.collection.module},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"config",{get:function(){return this.module.config},enumerable:!1,configurable:!0}),r.prototype.preinitialize=function(t){this.className=""},r}($t.Ss);const Ao=Wk;var Jt=Ue(926),Kk=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),$k=function(o){Kk(r,o);function r(t,e){t===void 0&&(t={}),e===void 0&&(e=!1);var n=o.call(this,t)||this;return n.itemsView="",n.itemType="type",n.reuseView=!1,n.viewCollection=[],e&&n.listenTo(n.collection,"add",n.addTo),n}return r.prototype.addTo=function(t){this.add(t)},r.prototype.itemViewNotFound=function(t){},r.prototype.add=function(t,e){var n=this,i=n.reuseView,s=n.viewCollection,u=e||null,c=t.get(this.itemType),f;t.view&&i?f=t.view:f=this.renderView(t,c),s.push(f);var h=f.render().el;u?u.appendChild(h):this.$el.append(h)},r.prototype.render=function(){var t=this,e=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(n){return t.add(n,e)}),this.$el.append(e),this.onRender(),this},r.prototype.onRender=function(){},r.prototype.onRemoveBefore=function(t,e){},r.prototype.onRemove=function(t,e){},r.prototype.remove=function(t){t===void 0&&(t={});var e=this.viewCollection;return this.onRemoveBefore(e,t),this.clearItems(),$t.Ss.prototype.remove.apply(this,t),this.onRemove(e,t),this},r.prototype.clearItems=function(){this.viewCollection},r}(Ao);const Gk=$k;var Yk=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xk=function(o){Yk(r,o);function r(t){t===void 0&&(t={});var e=o.call(this,t)||this;e.config=t.config||{};var n=e.model;return e.listenTo(n,"change",e.render),e.listenTo(n,"destroy remove",e.remove),e.listenTo(n.get("selectors"),"change",e.render),e}return r.prototype.tagName=function(){return"style"},r.prototype.render=function(){var t=this,e=t.model,n=t.el,i=e.get("important");return n.innerHTML=e.toCSS({important:i}),this},r}($t.Ss);const Hx=Xk;var qk=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Jk=function(o){qk(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype._createElement=function(){return document.createTextNode("")},r.prototype.render=function(){var t=this.model,e=t.get("important");return this.el.textContent=t.getDeclaration({important:e}),this},r}(Hx);const Zk=Jk;var Qk=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zh=function(o,r){return"".concat(o).concat(r?"-".concat(parseFloat(r)):"")},tA=function(o){Qk(r,o);function r(t){var e=o.call(this,t)||this;(0,D.bindAll)(e,"sortRules");var n=t.config||{};e.atRules={},e.config=n,e.em=n.em,e.pfx=n.stylePrefix||"",e.className=e.pfx+"rules";var i=e.collection;return e.listenTo(i,"add",e.addTo),e.listenTo(i,"reset",e.render),e}return r.prototype.addTo=function(t){this.addToCollection(t)},r.prototype.addToCollection=function(t,e){if(this.renderStarted){var n=e||null,i=this.config,s={model:t,config:i},u,c;if(t.get("atRuleType")==="keyframes"){var f=t.getAtRule(),h=this.atRules[f];if(!h){var g=document.createElement("style");h=document.createTextNode(""),g.appendChild(document.createTextNode("".concat(f,"{"))),g.appendChild(h),g.appendChild(document.createTextNode("}")),this.atRules[f]=h,u=g}c=new Zk(s),h.appendData(c.render().el.textContent)}else c=new Hx(s),u=c.render().el;var m=this.className,y=t.get("mediaText"),w=zh(m),b=w;if(y&&(b=zh(m,this.getMediaWidth(y))),u){var O=n||this.el,S=void 0;try{S=O.querySelector("#".concat(b))}catch{}S||(S=O.querySelector("#".concat(w))),S==null||S.appendChild(u)}return u}},r.prototype.getMediaWidth=function(t){return t&&t.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")},r.prototype.sortRules=function(t,e){var n=this.em,i=(n.getConfig().mediaCondition||"").indexOf("min-width")!==-1;if(!i)return 0;var s=i?t:e,u=i?e:t;return s-u},r.prototype.render=function(){var t=this;this.renderStarted=!0,this.atRules={};var e=this,n=e.em,i=e.$el,s=e.collection,u=this.className,c=document.createDocumentFragment();i.empty();var f=n.Devices.getAll().pluck("priority").sort(this.sortRules);return f.every(function(h){return h})&&f.unshift(0),f.forEach(function(h){return c.appendChild((0,Jt.a_)("div",{id:zh(u,h)}))}),s.each(function(h){return t.addToCollection(h,c)}),i.append(c),i.attr("class",u),this},r}($t.Ss);const Bx=tA;var zx="text/html",eA=zx;const rA=function(o,r){r===void 0&&(r={});var t=new DOMParser,e=r.htmlType||eA,n=e===zx,i=n?o:"<div>".concat(o,"</div>"),s=t.parseFromString(i,e),u;if(n){if(r.asDocument)return s;var c=s.head,f=s.body,h=c.querySelectorAll("script");(0,D.each)(h,function(m){return f.appendChild(m)});var g=[];(0,D.each)(c.children,function(m){return g.push(m)}),(0,D.each)(g,function(m,y){return f.insertBefore(m,f.children[y])}),u=f}else u=s.firstChild;return u};var gi=function(){return gi=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},gi.apply(this,arguments)},nA="data-gjs-",G_="parse:html",oA=function(o,r){return r===void 0&&(r={}),{compTypes:[],modelAttrStart:nA,getPropAttribute:function(t,e){var n=t.replace(this.modelAttrStart,""),i=(e==null?void 0:e.length)||0,s=e==null?void 0:e.substring(0,1),u=e==null?void 0:e.substring(i-1),c=e==="true"?!0:e==="false"?!1:e;try{c=s=="{"&&u=="}"||s=="["&&u=="]"?JSON.parse(c):c}catch{}return{name:n,value:c}},splitPropsFromAttr:function(t){var e=this;t===void 0&&(t={});var n={},i={};return(0,D.each)(t,function(s,u){if(u.indexOf(e.modelAttrStart)===0){var c=e.getPropAttribute(u,s);n[c.name]=c.value}else i[u]=s}),{props:n,attrs:i}},parseStyle:function(t){for(var e={};t.indexOf("/*")>=0;){var n=t.indexOf("/*"),i=t.indexOf("*/")+2;t=t.replace(t.slice(n,i),"")}for(var s=t.split(";"),u=0,c=s.length;u<c;u++){var f=s[u].trim();if(f){var h=f.split(":"),g=h[0].trim(),m=h.slice(1).join(":").trim();e[g]?((0,D.isArray)(e[g])||(e[g]=[e[g]]),e[g].push(m)):e[g]=m}}return e},parseClass:function(t){for(var e=[],n=t.split(" "),i=0,s=n.length;i<s;i++){var u=n[i].trim();u&&e.push(u)}return e},parseNodeAttr:function(t,e){for(var n=e||{},i=t.attributes||[],s=i.length,u=0;u<s;u++){var c=i[u].nodeName,f=i[u].nodeValue;if(c=="style")n.style=this.parseStyle(f);else if(c=="class")n.classes=this.parseClass(f);else{if(c=="contenteditable")continue;if(c.indexOf(this.modelAttrStart)===0){var h=this.getPropAttribute(c,f);n[h.name]=h.value}else f===""&&t[c]===!0&&(f=!0),n.attributes||(n.attributes={}),n.attributes[c]=f}}return n},detectNode:function(t,e){var n;e===void 0&&(e={});var i=this.compTypes,s={};if(i){var u=(n=t.getAttribute)===null||n===void 0?void 0:n.call(t,"".concat(this.modelAttrStart,"type"));if(u)s={type:u};else for(var c=0;c<i.length;c++){var f=i[c],h=f.model.isComponent(t,e);if(h){typeof h!="object"&&(h={type:f.id}),s=h;break}}}return s},parseNode:function(t,e){var n;e===void 0&&(e={});var i=((n=t.content)===null||n===void 0?void 0:n.childNodes)||t.childNodes,s=i.length,u=this.detectNode(t,e);if(!u.tagName){var c=t.tagName||"",f=t.namespaceURI||"";u.tagName=c&&f==="http://www.w3.org/1999/xhtml"?c.toLowerCase():c}if(u=this.parseNodeAttr(t,u),!s&&"".concat(t.outerHTML).slice(-2)==="/>"&&(u.void=!0),s&&!u.components&&!e.skipChildren){var h=i[0];s===1&&h.nodeType===3?(!u.type&&(u.type="text"),u.components={type:"textnode",content:h.nodeValue}):u.components=this.parseNodes(t,gi(gi({},e),{inSvg:e.inSvg||u.type==="svg"}))}var g=u.components;if(!u.type&&(g!=null&&g.length)){for(var m=r.textTypes,y=m===void 0?[]:m,w=r.textTags,b=w===void 0?[]:w,O=!0,S=!1,P=0;P<g.length;P++){var T=g[P],j=T.type;if(!y.includes(j)&&!b.includes(T.tagName)){O=!1;break}j==="textnode"&&(S=!0)}O&&S&&(u.type="text")}return u},parseNodes:function(t,e){var n;e===void 0&&(e={});for(var i=[],s=((n=t.content)===null||n===void 0?void 0:n.childNodes)||t.childNodes,u=s.length,c=0;c<u;c++){var f=s[c],h=i[i.length-1],g=this.parseNode(f,e);if(g.type==="textnode"){if((h==null?void 0:h.type)==="textnode"){h.content+=g.content;continue}if(!e.keepEmptyTextNodes){var m=f.nodeValue||"",y=c===0||c===u-1,w=m.includes(`
`);if(m!=" "&&!m.trim()&&(y||w))continue}}!g.tagName&&(0,D.isUndefined)(g.content)||i.push(g)}return i},parse:function(t,e,n){var i,s,u;n===void 0&&(n={});var c=(o==null?void 0:o.get("Config"))||{},f={html:[]},h=gi(gi({},r),n),g=gi(gi(gi({},r.optionsHtml),{htmlType:((i=r.optionsHtml)===null||i===void 0?void 0:i.htmlType)||r.htmlType}),n),m=g.preParser,y=g.asDocument,w=(0,D.isFunction)(m)?m(t,{editor:o==null?void 0:o.getEditor()}):t,b=(0,D.isFunction)(h.parserHtml)?h.parserHtml(w,g):rA(w,g),O=b,S=b;y&&(O=S.documentElement,f.doctype=(0,Jt.LJ)(S.doctype));var P=O.querySelectorAll("script"),T=P.length,j=(0,D.isUndefined)(c.allowScripts)?g.allowScripts:c.allowScripts;if(!j)for(;T--;)(s=P[T].parentNode)===null||s===void 0||s.removeChild(P[T]);if((!g.allowUnsafeAttr||!g.allowUnsafeAttrValue)&&this.__sanitizeNode(O,g),e){for(var X=O.querySelectorAll("style"),at=X.length,ft="";at--;)ft=X[at].innerHTML+ft,(u=X[at].parentNode)===null||u===void 0||u.removeChild(X[at]);ft&&(f.css=e.parse(ft))}o==null||o.trigger("".concat(G_,":root"),{input:w,root:O});var Q=[];if(y)f.head=this.parseNode(S.head,h),f.root=this.parseNodeAttr(O),Q=this.parseNode(S.body,h);else{var K=this.parseNodes(O,h);Q=K.length===1&&!h.returnArray?K[0]:K}return f.html=Q,o==null||o.trigger(G_,{input:w,output:f}),f},__sanitizeNode:function(t,e){var n=this,i=t.attributes||[],s=t.childNodes||[],u=[];(0,D.each)(i,function(c){var f=c.nodeName||"",h=c.nodeValue||"";!e.allowUnsafeAttr&&f.startsWith("on")&&u.push(f),!e.allowUnsafeAttrValue&&h.startsWith("javascript:")&&u.push(f)}),u.map(function(c){return t.removeAttribute(c)}),(0,D.each)(s,function(c){return n.__sanitizeNode(c,e)})}}};const Wx=oA;var iA=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ha=function(){return Ha=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Ha.apply(this,arguments)},aA=Wx(),wg=function(o){return(0,D.isArray)(o)?o[o.length-1]:o},sA=function(o){iA(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.parseStyle=function(t){return aA.parseStyle(t)},r.prototype.extendStyle=function(t){return Ha(Ha({},this.getStyle()),t)},r.prototype.getStyle=function(t){var e=this.get("style")||{},n=Ha({},e);return t&&(0,D.isString)(t)?n[t]:n},r.prototype.setStyle=function(t,e){var n=this;t===void 0&&(t={}),e===void 0&&(e={}),(0,D.isString)(t)&&(t=this.parseStyle(t));var i=this.getStyle(e);e.partial||e.avoidStore?(e.avoidStore=!0,t.__p=!0):delete t.__p;var s=Ha({},t),u=Ha({},s);(0,D.keys)(u).forEach(function(f){u[f]===""&&delete u[f]}),this.set("style",u,e);var c=(0,Mt.shallowDiff)(i,s);return delete c.__p,(0,D.keys)(c).forEach(function(f){var h=n.em;e.noEvent||(n.trigger("change:style:".concat(f)),h&&(h.trigger("styleable:change",n,f,e),h.trigger("styleable:change:".concat(f),n,f,e)))}),s},r.prototype.addStyle=function(t,e,n){var i;e===void 0&&(e=""),n===void 0&&(n={}),typeof t=="string"?t=(i={},i[t]=e,i):n=e||{},n.addStyle=t,t=this.extendStyle(t),this.setStyle(t,n)},r.prototype.removeStyle=function(t){var e=this.getStyle();delete e[t],this.setStyle(e)},r.prototype.styleToString=function(t){t===void 0&&(t={});var e=[],n=this.getStyle(t),i=t.important,s=function(c){var f=(0,D.isArray)(i)?i.indexOf(c)>=0:i,h=c.substring(0,2),g=h==="__";if(g)return"continue";var m=n[c],y=(0,D.isArray)(m)?m:[m];y.forEach(function(w){var b="".concat(w).concat(f?" !important":"");b&&e.push("".concat(c,":").concat(b,";"))})};for(var u in n)s(u);return e.join("")},r.prototype.getSelectors=function(){return this.get("selectors")||this.get("classes")},r.prototype.getSelectorsString=function(t){return this.selectorsToString?this.selectorsToString(t):this.getSelectors().getFullString()},r}($t.Kx);const Kx=sA;var Hn=function(){return Hn=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Hn.apply(this,arguments)},$x=function(o,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,i;e<n;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return o.concat(i||Array.prototype.slice.call(r))},yd=function(o){return(0,D.isArray)(o.get(Bn))},_d=function(o){return!!o.get(bo)},_l=function(o){return!!(yd(o)||_d(o))},os=function(o){var r=o.parent();return _l(o)&&(!r||!_l(r))},fu=function(o){o.__symbReady||(o.on("change",o.__upSymbProps),o.__symbReady=!0)},is=function(o){var r=o.get(bo);if(r&&(0,D.isString)(r)){var t=o.__getAllById()[r];t?(r=t,o.set(bo,t)):r=0}return r||void 0},co=function(o){var r=o==null?void 0:o.get(Bn);return r&&(0,D.isArray)(r)&&(r.forEach(function(t,e){t&&(0,D.isString)(t)&&(r[e]=o.__getAllById()[t])}),r=r.filter(function(t){return t&&!(0,D.isString)(t)})),r||void 0},wl=function(o,r){r===void 0&&(r="");var t=o==null?void 0:o.get(Du),e=r.split(":")[0],n=r!==e?[r,e]:[r];return t===!0||(0,D.isArray)(t)&&n.some(function(i){return t.indexOf(i)>=0})},Xa=function(o,r){r===void 0&&(r={});var t=[],e=r.changed;if(r.fromInstance||r.noPropagate||r.fromUndo||e&&wl(o,e))return t;var n=co(o)||[],i=is(o),s=i?$x([i],co(i)||[],!0):n;return t=s.filter(function(u){return u!==o}).filter(function(u){return!(e&&wl(u,e))}),t},Y_=function(o,r){for(var t=o,e=o.parent(r);e&&_l(e);)t=e,e=e.parent(r);return t},Rm=function(o,r){r===void 0&&(r={});var t=is(o),e=t&&co(t);!r.skipRefs&&e&&t.set(Bn,e.filter(function(n){return n!==o})),o.set(bo,0),o.components().forEach(function(n){return Rm(n,r)})},Lu=function(o,r,t,e){e===void 0&&(e={});var n=is(o),i=co(o);!n&&!i||o.em.log(r,{model:o,toUp:t,context:"symbols",opts:e})},lA=function(o,r){r===void 0&&(r={});var t=o.changedAttributes()||{},e=t.attributes||{};if(delete t.status,delete t.open,delete t[Bn],delete t[bo],delete t[Du],delete t.attributes,delete e.id,(0,Mt.isEmptyObj)(e)||(t.attributes=e),!(0,Mt.isEmptyObj)(t)){var n=Xa(o,r);(0,D.keys)(t).map(function(i){wl(o,i)&&delete t[i]}),Lu(o,"props",n,{opts:r,changed:t}),n.forEach(function(i){var s=Hn({},t);(0,D.keys)(s).map(function(u){wl(i,u)&&delete s[u]}),i.set(s,Hn({fromInstance:o},r))})}},uA=function(o,r){r===void 0&&(r={});var t=Xa(o,r);Lu(o,"classes",t,{opts:r}),t.forEach(function(e){e.set("classes",o.get("classes"),{fromInstance:o})}),o.__changesUp(r)},Gx=function(o,r,t,e){var n=e||t||{},i=n.fromInstance,s=n.fromUndo,u={fromInstance:i,fromUndo:s},c=r.opt.temporary;if(e)if(e.add){var y=[],w=!!co(o),h=Xa(o,Hn(Hn({},u),{changed:"components:add"}));if(h.length){var b=is(r);y=co(b||r)||[],y=$x([],y,!0),y.push(b||r)}!c&&Lu(o,"add",h,{opts:e,addedInstances:y.map(function(Q){return Q.cid}),added:r.cid}),h.forEach(function(Q){var K=Y_(Q),rt=y.filter(function(V){var W=Y_(V,{prev:1});return K&&W&&W===K})[0],H=rt||r.clone({symbol:!0,symbolInv:w});Q.append(H,Hn({fromInstance:o},e))})}else{var O=is(r);if(O&&!e.temporary&&O.set(Bn,co(O).filter(function(ft){return ft!==r})),!os(r)&&!e.skipRefsUp){var S="components:remove",P=e.index,T=r.parent(),j=Hn({fromInstance:r},e),X=os(r),at=function(Q){var K=Q.parent();K&&!wl(K,S)&&Q.remove(j)},h=wl(T,S)?[]:Xa(r,u);X&&(h=T&&Xa(T,Hn(Hn({},u),{changed:S})),at=function(Q){var K=Q.components().at(P);K&&K.remove(Hn({fromInstance:T},j))}),!c&&Lu(o,"remove",h,{opts:e,removed:r.cid,isSymbNested:X}),h.forEach(at)}}else{var f=r,h=Xa(o,Hn(Hn({},u),{changed:"components:reset"})),g=f.models,m=new Set;Lu(o,"reset",h,{components:g}),h.forEach(function(ft){var Q=ft.components(),K=g.map(function(rt,H){return!_l(rt)||m.has(rt)?(m.add(rt),rt.clone({symbol:!0})):Q.at(H)});Q.reset(K,Hn({fromInstance:o},t))})}o.__changesUp(n)},cA=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lo=function(){return lo=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},lo.apply(this,arguments)},zf=function(o,r){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&r.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(o);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(o,e[n])&&(t[e[n]]=o[e[n]]);return t},X_=function(o,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,i;e<n;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return o.concat(i||Array.prototype.slice.call(r))},qs=function(o,r){if(r===void 0&&(r=[]),!o)return[];var t=(0,D.isArray)(o)||(0,D.isFunction)(o.map)?o:[o];return t.map(function(e){r.push(e.getId()),qs(e.components().models,r)}),r},Yx=function(o,r,t){r===void 0&&(r={}),t===void 0&&(t={}),t.visitedCmps=t.visitedCmps||{};var e=t.visitedCmps,n=(0,D.isArray)(o)?o:[o];return n.map(function(i){var s=i.attributes,u=s===void 0?{}:s,c=i.components,f=i.tagName,h=i.style,g=u.id;u.draggable;var m=zf(u,["id","draggable"]),y=i;if(g){if(e[g])e[g].push(y),g=hn.getNewId(r),y.attributes.id=g;else if(e[g]=[],r[g]){y=r[g];var w=y;f&&w.set({tagName:f},lo(lo({},t),{silent:!0})),(0,D.keys)(m).length&&w.addAttributes(m,lo({},t)),(0,D.keys)(h).length&&w.addStyle(h,t)}}if(c){var b=Yx(c,r);if((0,D.isFunction)(y.components)){var O=y.components();O.length>0&&O.reset(b,t)}else y.components=b}return y})},fA=function(o){cA(r,o);function r(t,e){var n=o.call(this,t,e)||this;n.opt=e,n.listenTo(n,"add",n.onAdd),n.listenTo(n,"remove",n.removeChildren),n.listenTo(n,"reset",n.resetChildren);var i=e.em,s=e.config;return n.config=s,n.em=i,n.domc=e.domc||(i==null?void 0:i.Components),n}return Object.defineProperty(r.prototype,"events",{get:function(){var t;return(t=this.domc)===null||t===void 0?void 0:t.events},enumerable:!1,configurable:!0}),r.prototype.resetChildren=function(t,e){var n=this;e===void 0&&(e={});var i=this,s=e.previousModels||[],u=s.filter(function(h){return!t.get(h.cid)}),c=qs(t),f=qs(s).filter(function(h){return c.indexOf(h)>=0});e.keepIds=(e.keepIds||[]).concat(f),u.forEach(function(h){return n.removeChildren(h,i,e)}),t.each(function(h){return n.onAdd(h)})},r.prototype.resetFromString=function(t,e){var n,i;t===void 0&&(t=""),e===void 0&&(e={}),e.keepIds=qs(this);var s=this,u=s.domc,c=s.em,f=s.parent,h=c==null?void 0:c.Css,g=(u==null?void 0:u.allById())||{},m=this.parseString(t,e),y=Yx(m,g,e),w=e.visitedCmps,b=w===void 0?{}:w;Object.keys(b).forEach(function(O){var S=b[O];if(S.length){var P=(h==null?void 0:h.getRules("#".concat(O)))||[];P.length&&S.forEach(function(T){P.forEach(function(j){var X=j.clone();X.set("selectors",["#".concat(T.attributes.id)]),h.getAll().add(X)})})}}),this.reset(y,e),c==null||c.trigger("component:content",f,e,t),(i=(n=f).__checkInnerChilds)===null||i===void 0||i.call(n)},r.prototype.removeChildren=function(t,e,n){var i=this;if(n===void 0&&(n={}),!!t){var s=this,u=s.domc,c=s.em,f=n.temporary||n.fromUndo;if(t.prevColl=this,!f){var h=t.getId(),g=c.Selectors.getAll(),m=c.Css.getAll(),y=(n.keepIds||[]).indexOf(h)<0,w=u?u.allById():{};delete w[h];var b=y?m.remove(m.filter(function(P){return P.getSelectors().getFullString()==="#".concat(h)}),n):[];g.remove(b.map(function(P){return P.getSelectors().at(0)})),t.opt.temporary||(c.Commands.run("core:component-style-clear",{target:t}),t.removed(),t.trigger("removed"),c.trigger(dn.I.remove,t),u&&_d(t)&&os(t)&&u.symbols.__trgEvent(u.events.symbolInstanceRemove,{component:t},!0));var O=t.components();O.forEach(function(P){Gx(P,P,O,lo(lo({},n),{skipRefsUp:!0})),i.removeChildren(P,e,n)})}var S=t.components();c.stopListening(S),c.stopListening(t),c.stopListening(t.get("classes")),t.__postRemove()}},r.prototype.model=function(t,e){var n=e.collection.opt,i=n.em,s,u=i.Components.componentTypes;e.em=i,e.config=n.config,e.componentTypes=u,e.domc=n.domc;for(var c=0;c<u.length;c++){var f=u[c].id;if(f==t.type){s=u[c].model;break}}return s||(s=u[u.length-1].model,i&&t.type&&i.logWarning("Component type '".concat(t.type,"' not found"),{attrs:t,options:e})),new s(t,e)},r.prototype.parseString=function(t,e){e===void 0&&(e={});var n=this,i=n.em,s=n.domc,u=n.parent,c=e.asDocument&&(u==null?void 0:u.is("wrapper")),f=i.Css,h=i.Parser.parseHtml(t,lo({asDocument:c},e.parserOptions)),g=h.html;if(c){var m=u,y=h.html||{},w=y.components,b=zf(y,["components"]),O=h.head||{},S=O.components,P=zf(O,["components"]);g=w,m.set(b,e),m.head.set(P,e),m.head.components(S,e),m.docEl.set(h.root,e),m.set({doctype:h.doctype})}if(hn.checkId(g,h.css,s.componentsById,e),h.css&&f&&!e.temporary){e.at;var T=zf(e,["at"]);f.addCollection(h.css,lo(lo({},T),{extend:1}))}return g},r.prototype.add=function(t,e){var n=this;if(e===void 0&&(e={}),t!=null){e.keepIds=X_(X_([],e.keepIds||[],!0),qs(e.previousModels),!0),(0,D.isString)(t)?t=this.parseString(t,e):(0,D.isArray)(t)&&t.forEach(function(s,u){if((0,D.isString)(s)){var c=n.parseString(s,e);t[u]=(0,D.isArray)(c)&&!c.length?null:c}});var i=((0,D.isArray)(t)?t:[t]).filter(Boolean).map(function(s){return n.processDef(s)});return t=(0,D.isArray)(t)?(0,D.flatten)(i,1):i[0],o.prototype.add.call(this,t,e)}},r.prototype.processDef=function(t){if(t.cid&&t.ccid)return t;var e=this,n=e.em,i=e.config,s=i===void 0?{}:i,u=s.processor,c=t;if(u){c=lo({},c);var f=u(c);f&&((0,D.each)(c,function(O,S){return delete c[S]}),(0,D.extend)(c,f))}if(c.$$typeof&&typeof c.props=="object"){c=lo({},c),c.props=lo({},c.props);var h=n.Components,g=n.Parser,m=g.parserHtml;(0,D.each)(c,function(O,S){(0,D.includes)(["props","type"],S)||delete c[S]});var y=c.props,w=y.children;delete y.children,delete c.props;var b=m.splitPropsFromAttr(y);c.attributes=b.attrs,w&&(c.components=w),c.type?h.getType(c.type)||(c.tagName=c.type,delete c.type):c.type="textnode",(0,D.extend)(c,b.props)}return c},r.prototype.onAdd=function(t,e,n){n===void 0&&(n={});var i=this,s=i.domc,u=i.em,c=t.getStyle(),f=u&&u.getConfig().avoidInlineStyle;if(s&&s.Component.ensureInList(t),!(0,D.isEmpty)(c)&&!f&&u&&u.getConfig().forceClass&&!n.temporary){var h=t.cid;u.Css.setClassRule(h,c),t.setStyle({}),t.addClass(h)}if(t.__postAdd({recursive:!0}),u&&!n.temporary){var g=function(m){u.trigger(dn.I.add,m,n),m.components().forEach(function(y){return g(y)})};g(t),s&&_d(t)&&os(t)&&s.symbols.__trgEvent(s.events.symbolInstanceAdd,{component:t},!0)}},r}($t.pM);const uc=fA;var dA=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),wf=1,Wh=2,Xx=function(o){dA(r,o);function r(t,e){e===void 0&&(e={});var n=o.call(this,t,e)||this,i=e.config,s=i===void 0?{}:i,u=n.get("name"),c=n.get("label");u?c||n.set("label",u):n.set("name",c);var f=n.get("name"),h=s.escapeName,g=h?h(f):r.escapeName(f);return n.set("name",g),n.em=e.em,n}return r.prototype.defaults=function(){return{name:"",label:"",type:wf,active:!0,private:!1,protected:!1,_undo:!0}},r.prototype.isId=function(){return this.get("type")===Wh},r.prototype.isClass=function(){return this.get("type")===wf},r.prototype.getFullName=function(t){t===void 0&&(t={});var e=t.escape,n=this.get("name"),i="";switch(this.get("type")){case wf:i=".";break;case Wh:i="#";break}return i+(e?e(n):n)},r.prototype.toString=function(){return this.getFullName()},r.prototype.getName=function(){return this.get("name")||""},r.prototype.getLabel=function(){return this.get("label")||""},r.prototype.setLabel=function(t){return this.set("label",t)},r.prototype.getActive=function(){return!!this.get("active")},r.prototype.setActive=function(t){return this.set("active",t)},r.prototype.toJSON=function(t){t===void 0&&(t={});var e=this.em,n=$t.Kx.prototype.toJSON.call(this,[t]),i=(0,D.result)(this,"defaults");if(e!=null&&e.getConfig().avoidDefaults){(0,D.forEach)(i,function(u,c){n[c]===u&&delete n[c]}),n.label===n.name&&delete n.label;var s=(0,D.keys)(n).length;s===1&&n.name&&(n=n.name),s===2&&n.name&&n.type&&(n=this.getFullName())}return n},r.escapeName=function(t){return"".concat(t).trim().replace(/\s+/g,"-")},r.TYPE_CLASS=wf,r.TYPE_ID=Wh,r}($t.Kx);const En=Xx;Xx.prototype.idAttribute="name";var pA=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qx=function(o,r){return o.reduce(function(t,e,n){return t.concat(qx(o.slice(n+1),"".concat(r).concat(e)))},[r])},Jx=function(o){pA(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.modelId=function(t){return"".concat(t.name,"_").concat(t.type||En.TYPE_CLASS)},r.prototype.getStyleable=function(){return(0,D.filter)(this.models,function(t){return t.getActive()&&!t.get("private")})},r.prototype.getValid=function(t){var e=t===void 0?{}:t,n=e.noDisabled;return(0,D.filter)(this.models,function(i){return!i.get("private")}).filter(function(i){return n?i.get("active"):1})},r.prototype.getFullString=function(t,e){e===void 0&&(e={});var n=[],i=t||this;return i.forEach(function(s){return n.push(s.getFullName(e))}),e.sort&&n.sort(),n.join("").trim()},r.prototype.getFullName=function(t){t===void 0&&(t={});var e=t.combination,n=t.array,i=[],s=this.map(function(u){return u.getFullName(t)}).sort();return e?s.forEach(function(u,c){i=i.concat(qx(s.slice(c+1),u))}):i=s,n?i:e?i.join(","):i.join("")},r}($t.pM);const la=Jx;Jx.prototype.model=En;var hA=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),q_=function(o,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,i;e<n;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return o.concat(i||Array.prototype.slice.call(r))},vA=function(o){hA(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return{id:"",label:"",open:!0,attributes:{}}},r.prototype.getId=function(){return this.get("id")},r.prototype.getLabel=function(){return this.get("label")},r}($t.Kx);const yc=vA;function Zx(o){var r=new Set,t=new Map,e={items:[]};o.forEach(function(i){var s=i.category;if(s){r.add(s);var u=t.get(s);u?u.push(i):t.set(s,[i])}else e.items.push(i)});var n=Array.from(r).map(function(i){return{category:i,items:t.get(i)||[]}});return q_(q_([],n,!0),[e],!1)}var gA=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),J_="category",Qx=function(o){gA(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.initCategory=function(t){var e=t.get(J_),n=e instanceof yc;if(e&&!n){(0,D.isString)(e)?e={id:e,label:e}:(0,Mt.isObject)(e)&&!e.id&&(e.id=e.label);var i=this.getCategories().add(e);return t.set(J_,i,{silent:!0}),i}else if(n){var i=e;return this.getCategories().add(i),i}},r}($t.pM),mA=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),tS=function(o){mA(r,o);function r(t,e){e===void 0&&(e={});var n=o.call(this,t,e)||this,i=e.events,s=e.em,u=i==null?void 0:i.update;return s&&u&&n.on("change",function(c,f){return s.trigger(u,{category:c,changes:c.changedAttributes(),options:f})}),n}return r.prototype.add=function(t,e){var n=(0,D.isArray)(t)?t:[t];return n.forEach(function(i){return i&&(i.id=(0,Mt.normalizeKey)("".concat(i.id)))}),o.prototype.add.call(this,t,e)},r.prototype.get=function(t){return o.prototype.get.call(this,(0,D.isString)(t)?(0,Mt.normalizeKey)(t):t)},r}($t.pM);const wd=tS;tS.prototype.model=yc;var Cd;(function(o){o.select="trait:select",o.value="trait:value",o.categoryUpdate="trait:category:update",o.custom="trait:custom",o.all="trait"})(Cd||(Cd={}));const Cg=Cd;var yA=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bd=function(){return bd=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},bd.apply(this,arguments)},_A=function(o){yA(r,o);function r(t,e){var n=o.call(this,t)||this,i=n.attributes,s=i.target,u=i.name;return!n.get("id")&&n.set("id",u),s&&n.setTarget(s),n.em=e,n}return r.prototype.defaults=function(){return{type:"text",label:"",name:"",unit:"",step:1,value:"",default:"",placeholder:"",category:"",changeProp:!1,options:[]}},Object.defineProperty(r.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"category",{get:function(){var t=this.get("category");return t instanceof yc?t:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"component",{get:function(){return this.target},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"changeProp",{get:function(){return!!this.get("changeProp")},enumerable:!1,configurable:!0}),r.prototype.setTarget=function(t){if(t){var e=this.attributes,n=e.name,i=e.changeProp,s=e.value,u=e.getValue;this.target=t,this.unset("target");var c=i?"change:".concat(n):"change:attributes:".concat(n);this.listenTo(t,c,this.targetUpdated);var f=s||(u?void 0:this.getValue());!(0,D.isUndefined)(f)&&this.set({value:f},{silent:!0})}},r.prototype.getId=function(){return this.get("id")},r.prototype.getType=function(){return this.get("type")},r.prototype.getName=function(){return this.get("name")},r.prototype.getLabel=function(t){var e;t===void 0&&(t={});var n=t.locale,i=n===void 0?!0:n,s=this.getId(),u=this.get("label")||this.getName();return i&&((e=this.em)===null||e===void 0?void 0:e.t("traitManager.traits.labels.".concat(s)))||u},r.prototype.getValue=function(t){return this.getTargetValue(t)},r.prototype.setValue=function(t,e){var n=this;e===void 0&&(e={});var i=this,s=i.component,u=i.em,c=e.partial,f={},h=this.attributes.setValue;if(h){h({value:t,component:s,editor:u==null?void 0:u.getEditor(),trait:this,partial:!!c,options:e,emitUpdate:function(){return n.targetUpdated()}});return}c&&(f.avoidStore=!0),this.setTargetValue(t,f)},r.prototype.getDefault=function(){return this.get("default")},r.prototype.getOptions=function(){return this.get("options")||[]},r.prototype.getOption=function(t){var e=this,n=(0,Mt.isDef)(t)?t:this.getValue();return this.getOptions().filter(function(i){return e.getOptionId(i)===n})[0]},r.prototype.getOptionId=function(t){return t.id||t.value},r.prototype.getOptionLabel=function(t,e){var n;e===void 0&&(e={});var i=e.locale,s=i===void 0?!0:i,u=(0,D.isString)(t)?this.getOption(t):t,c=this.getOptionId(u),f=u.label||u.name||c,h=this.getName();return s&&((n=this.em)===null||n===void 0?void 0:n.t("traitManager.traits.options.".concat(h,".").concat(c)))||f},r.prototype.getCategoryLabel=function(t){t===void 0&&(t={});var e=this,n=e.em,i=e.category,s=t.locale,u=s===void 0?!0:s,c=i==null?void 0:i.getId(),f=i==null?void 0:i.getLabel();return u&&(n==null?void 0:n.t("traitManager.categories.".concat(c)))||f||""},r.prototype.runCommand=function(){var t=this.em,e=this.attributes.command;if(e&&t)return(0,D.isString)(e)?t.Commands.run(e):e(t.Editor,this)},r.prototype.props=function(){return this.attributes},r.prototype.targetUpdated=function(){var t=this,e=t.component,n=t.em,i=this.getTargetValue({useType:!0});this.set({value:i},{fromTarget:1});var s={trait:this,component:e,value:i};e.trigger(Cg.value,s),n==null||n.trigger(Cg.value,s),n==null||n.trigger("trait:update",s)},r.prototype.getTargetValue=function(t){t===void 0&&(t={});var e=this,n=e.component,i=e.em,s=this.getName(),u=this.get("getValue"),c;if(u?c=u({editor:i==null?void 0:i.getEditor(),trait:this,component:n}):this.changeProp?c=n.get(s):c=n.getAttributes()[s],t.useType){var f=this.getType();if(f==="checkbox"){var h=this.attributes,g=h.valueTrue,m=h.valueFalse;!(0,D.isUndefined)(g)&&g===c?c=!0:!(0,D.isUndefined)(m)&&m===c&&(c=!1)}}return(0,D.isUndefined)(c)?"":c},r.prototype.setTargetValue=function(t,e){var n;e===void 0&&(e={});var i=this,s=i.component,u=i.attributes,c=this.getName();if(!(0,D.isUndefined)(t)){var f=t;if(t==="false"?f=!1:t==="true"&&(f=!0),this.getType()==="checkbox"){var h=u.valueTrue,g=u.valueFalse;f&&!(0,D.isUndefined)(h)&&(f=h),!f&&!(0,D.isUndefined)(g)&&(f=g)}var m=(n={},n[c]=f,n);m.__p=e.avoidStore?null:void 0,this.changeProp?s.set(m,e):s.addAttributes(m,e)}},r.prototype.setValueFromInput=function(t,e,n){e===void 0&&(e=!0),n===void 0&&(n={});var i={value:t};this.set(i,bd(bd({},n),{avoidStore:1})),e&&(this.set("value","",n),this.set(i,n))},r.prototype.getInitValue=function(){var t=this.component,e=this.getName(),n;if(t){var i=t.get("attributes");n=this.changeProp?t.get(e):i[e]}return n||this.get("value")||this.get("default")},r}($t.Kx);const xd=_A;var wA=function(){function o(r){r===void 0&&(r={}),this.config=r}return o.prototype.build=function(r,t){return(0,D.isString)(r)?this.buildFromString(r,t):new xd(r,t)},o.prototype.buildFromString=function(r,t){var e={name:r,type:"text"};switch(r){case"target":e.type="select",e.default=!1,e.options=this.config.optionsTarget;break}return new xd(e,t)},o}();const CA=wA;var bA=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xA=function(o){bA(r,o);function r(t,e){var n=o.call(this,t)||this;n.categories=new wd;var i=e.em;n.em=i,n.categories=new wd([],{em:i,events:{update:Cg.categoryUpdate}}),n.on("add",n.handleAdd),n.on("reset",n.handleReset);var s=n.module,u=s==null?void 0:s.getConfig();return n.tf=new CA(u),n}return Object.defineProperty(r.prototype,"module",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),r.prototype.getCategories=function(){return this.categories},r.prototype.handleReset=function(t,e){var n=e===void 0?{}:e,i=n.previousModels,s=i===void 0?[]:i;s.forEach(function(u){return u.trigger("remove")})},r.prototype.handleAdd=function(t){t.em=this.em;var e=this.target;e&&(t.target=e),this.initCategory(t)},r.prototype.setTarget=function(t){this.target=t,this.models.forEach(function(e){return e.setTarget(t)})},r.prototype.add=function(t,e){if(t!=null){var n=this,i=n.target,s=n.em;if((0,D.isArray)(t)){for(var u=[],c=0,f=t.length;c<f;c++){var h=t[c];u[c]=h instanceof xd?h:this.tf.build(h,s),u[c].setTarget(i)}return o.prototype.add.call(this,u,e)}var g=t instanceof xd?t:this.tf.build(t,s);return g.setTarget(i),o.prototype.add.call(this,g,e)}},r}(Qx);const Sd=xA;var SA=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),$e=function(){return $e=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},$e.apply(this,arguments)},OA=function(o,r){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&r.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(o);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(o,e[n])&&(t[e[n]]=o[e[n]]);return t},Vo=function(o,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,i;e<n;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return o.concat(i||Array.prototype.slice.call(r))},Z_=function(o){return o.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},_u=function(o){return!!(o!=null&&o.getConfig().avoidInlineStyle)},Fm="component:drag",Bn="__symbols",bo="__symbol",Du="__symbol_ovrd",Wf=dn.I.update,bg=dn.I.updateInside,TA=function(o){SA(r,o);function r(t,e){t===void 0&&(t={});var n=o.call(this,t,e)||this;(0,D.bindAll)(n,"__upSymbProps","__upSymbCls","__upSymbComps");var i=e.em,s=n.parent(),u=s==null?void 0:s.attributes,c=n.get("propagate");if(c&&n.set("propagate",(0,D.isArray)(c)?c:[c]),u&&u.propagate&&!c){var f={},h=u.propagate;h.forEach(function(b){return f[b]=s.get(b)}),f.propagate=h,n.set($e($e({},f),t))}if(e&&e.config&&e.config.voidElements.indexOf(n.get("tagName"))>=0&&n.set("void",!0),e.em=i,n.opt=e,n.em=i,n.frame=e.frame,n.config=e.config||{},n.set("attributes",$e($e({},(0,D.result)(n,"defaults").attributes||{}),n.get("attributes")||{})),n.ccid=r.createId(n,e),n.initClasses(),n.initComponents(),n.initTraits(),n.initToolbar(),n.initScriptProps(),n.listenTo(n,"change:script",n.scriptUpdated),n.listenTo(n,"change:tagName",n.tagUpdated),n.listenTo(n,"change:attributes",n.attrUpdated),n.listenTo(n,"change:attributes:id",n._idUpdated),n.on("change:toolbar",n.__emitUpdateTlb),n.on("change",n.__onChange),n.on(bg,n.__propToParent),n.set("status",""),n.views=[],["classes","traits","components"].forEach(function(b){var O="add remove ".concat(b!=="components"?"change":"");n.listenTo(n.get(b),O.trim(),function(){for(var S=[],P=0;P<arguments.length;P++)S[P]=arguments[P];return n.emitUpdate.apply(n,Vo([b],S,!1))})}),!e.temporary){var g=i&&i.Css,m=n.attributes,y=m.styles,w=m.type;y&&g&&g.addCollection(y,{avoidUpdateStyle:!0},{group:"cmp:".concat(w)}),n.__postAdd(),n.init(),_l(n)&&fu(n),i==null||i.trigger(dn.I.create,n,e)}return n}return Object.defineProperty(r.prototype,"defaults",{get:function(){var t;return t={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:{},traits:["id","title"],propagate:"",dmode:"",toolbar:null,delegate:null},t[bo]=0,t[Bn]=0,t[Du]=0,t._undo=!0,t._undoexc=["status","open"],t},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"tagName",{get:function(){return this.get("tagName")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"classes",{get:function(){return this.get("classes")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"traits",{get:function(){return this.get("traits")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"content",{get:function(){var t;return(t=this.get("content"))!==null&&t!==void 0?t:""},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"toolbar",{get:function(){return this.get("toolbar")||[]},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"resizable",{get:function(){return this.get("resizable")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"delegate",{get:function(){return this.get("delegate")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"locked",{get:function(){return this.get("locked")},enumerable:!1,configurable:!0}),r.prototype.init=function(){},r.prototype.updated=function(t,e,n){},r.prototype.removed=function(){},r.prototype.__postAdd=function(t){t===void 0&&(t={});var e=this.em,n=e==null?void 0:e.UndoManager,i=this.components();n&&!this.__hasUm&&(n.add(i),n.add(this.getSelectors()),this.__hasUm=!0),t.recursive&&i.map(function(s){return s.__postAdd(t)})},r.prototype.__postRemove=function(){var t=this.em,e=t==null?void 0:t.UndoManager;e&&(e.remove(this.components()),e.remove(this.getSelectors()),delete this.__hasUm)},r.prototype.__onChange=function(t,e){var n=this,i=this.changedAttributes()||{};(0,D.keys)(i).forEach(function(s){return n.emitUpdate(s)}),["status","open","toolbar","traits"].forEach(function(s){return delete i[s]}),(0,Mt.isEmptyObj)(i)||(this.__changesUp(e),this.__propSelfToParent({component:this,changed:i,options:e}))},r.prototype.__onStyleChange=function(t){var e=this,n=this.em;if(n){var i="component:styleUpdate",s=(0,D.keys)(t),u={style:t};n.trigger(i,this,u),s.forEach(function(c){return n.trigger("".concat(i,":").concat(c),e,u)})}},r.prototype.__changesUp=function(t){var e=this,n=e.em,i=e.frame;[i,n].forEach(function(s){return s&&s.changesUp(t)})},r.prototype.__propSelfToParent=function(t){this.trigger(Wf,t),this.__propToParent(t)},r.prototype.__propToParent=function(t){var e=this.parent();e&&e.trigger(bg,t)},r.prototype.__emitUpdateTlb=function(){this.emitUpdate("toolbar")},r.prototype.__getAllById=function(){var t=this.em;return t?t.Components.allById():{}},r.prototype.__upSymbProps=function(t,e){e===void 0&&(e={}),lA(this,e)},r.prototype.__upSymbCls=function(t,e,n){n===void 0&&(n={}),uA(this,n)},r.prototype.__upSymbComps=function(t,e,n){Gx(this,t,e,n)},r.prototype.is=function(t){return this.get("type")==t},r.prototype.props=function(){return this.attributes},r.prototype.index=function(){var t=this.collection;return t?t.indexOf(this):0},r.prototype.setDragMode=function(t){return this.set("dmode",t)},r.prototype.getDragMode=function(){return this.get("dmode")||""},r.prototype.setSymbolOverride=function(t){var e;this.set(Du,(e=(0,D.isString)(t)?[t]:t)!==null&&e!==void 0?e:0)},r.prototype.getSymbolOverride=function(){return this.get(Du)},r.prototype.find=function(t){var e,n=[],i=(e=this.view)===null||e===void 0?void 0:e.$el.find(t);return i==null||i.each(function(s){var u=i.eq(s),c=u.data("model");c&&n.push(c)}),n},r.prototype.findType=function(t){var e=[],n=function(i){return i.forEach(function(s){s.is(t)&&e.push(s),n(s.components())})};return n(this.components()),e},r.prototype.findFirstType=function(t){return this.findType(t).at(0)},r.prototype.closest=function(t){var e,n=(e=this.view)===null||e===void 0?void 0:e.$el.closest(t);return n!=null&&n.length?n.data("model"):void 0},r.prototype.closestType=function(t){for(var e=this.parent();e&&!e.is(t);)e=e.parent();return e},r.prototype.contains=function(t){var e=!1;if(!t)return e;var n=function(i){!e&&i.forEach(function(s){s===t&&(e=!0),!e&&n(s.components())})};return n(this.components()),e},r.prototype.tagUpdated=function(){this.trigger("rerender")},r.prototype.replaceWith=function(t,e){e===void 0&&(e={});var n=this.collection,i=n.indexOf(this);n.remove(this);var s=n.add(t,$e($e({},e),{at:i}));return(0,D.isArray)(s)?s:[s]},r.prototype.attrUpdated=function(t,e,n){var i=this;n===void 0&&(n={});var s=this.get("attributes"),u=s.class;u&&this.setClass(u),delete s.class;var c=s.style;c&&this.setStyle(c,n),delete s.style;var f=$e({},this.previous("attributes")),h=(0,Mt.shallowDiff)(f,this.get("attributes"));(0,D.keys)(h).forEach(function(g){var m,y="attributes:".concat(g);i.trigger("change:".concat(y),i,h[g],n),(m=i.em)===null||m===void 0||m.trigger("".concat(Wf,":").concat(y),i,h[g],n)})},r.prototype.setAttributes=function(t,e){return e===void 0&&(e={}),this.set("attributes",$e({},t),e),this},r.prototype.addAttributes=function(t,e){return e===void 0&&(e={}),this.setAttributes($e($e({},this.getAttributes({noClass:!0})),t),e)},r.prototype.removeAttributes=function(t,e){t===void 0&&(t=[]),e===void 0&&(e={});var n=Array.isArray(t)?t:[t],i=this.getAttributes();return n.map(function(s){return delete i[s]}),this.setAttributes(i,e)},r.prototype.getStyle=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var n=this.em,i=(0,D.isString)(t)?t:"",s=i?e:t;if(_u(n)&&!s.inline){var u=n.get("state"),c=n.Css,f=c.getIdRule(this.getId(),$e({state:u},s));return this.rule=f,f?f.getStyle(i):{}}return o.prototype.getStyle.call(this,i)},r.prototype.setStyle=function(t,e){var n=this;t===void 0&&(t={}),e===void 0&&(e={});var i=this,s=i.opt,u=i.em;if(_u(u)&&!s.temporary&&!e.inline){var c=this.get("style")||{};t=(0,D.isString)(t)?this.parseStyle(t):t,t=$e($e({},t),c);var f=u.get("state"),h=u.Css,g=this.getStyle(e);this.rule=h.setIdRule(this.getId(),t,$e({state:f},e));var m=(0,Mt.shallowDiff)(g,t);this.set("style","",{silent:!0}),(0,D.keys)(m).forEach(function(y){return n.trigger("change:style:".concat(y))})}else t=o.prototype.setStyle.apply(this,arguments);return s.temporary||this.__onStyleChange(e.addStyle||t),t},r.prototype.getAttributes=function(t){t===void 0&&(t={});var e=this.em,n=[],i=$e({},this.get("attributes")),s=e==null?void 0:e.Selectors,u=this.getId();if(t.noClass?delete i.class:(this.classes.forEach(function(h){return n.push((0,D.isString)(h)?h:h.getName())}),n.length&&(i.class=n.join(" "))),!t.noStyle){var c=this.getStyle({inline:!0});(0,Mt.isObject)(c)&&!(0,Mt.isEmptyObj)(c)&&(i.style=this.styleToString({inline:!0}))}if(!(0,D.has)(i,"id")){var f=!1;(_u(e)||!(0,D.isEmpty)(this.getStyle()))&&(f=!!(s!=null&&s.get(u,s.Selector.TYPE_ID))),(_l(this)||this.get("script-export")||this.get("script"))&&(f=!0),f&&(i.id=u)}return i},r.prototype.addClass=function(t){var e=this.em.Selectors.addClass(t);return this.classes.add(e)},r.prototype.setClass=function(t){return this.classes.reset(),this.addClass(t)},r.prototype.removeClass=function(t){var e=[];t=(0,D.isArray)(t)?t:[t];var n=this.classes,i=En.TYPE_CLASS;return t.forEach(function(s){var u=s.split(" ");u.forEach(function(c){var f=n.where({name:c,type:i})[0];f&&e.push(n.remove(f))})}),e},r.prototype.getClasses=function(){var t=this.getAttributes(),e=t.class;return e?e.split(" "):[]},r.prototype.initClasses=function(t,e,n){n===void 0&&(n={});var i="change:classes",s=this.get("attributes")||{},u=s.class,c=OA(s,["class"]),f=[this,i,this.initClasses],h=this.get("classes")||u||[],g=(0,D.isString)(h)?h.split(" "):h;this.stopListening.apply(this,f);var m=this.normalizeClasses(g),y=new la([]);return this.set("classes",y,n),y.add(m),y.on("add remove reset",this.__upSymbCls),u&&m.length&&this.set("attributes",c),this.listenTo.apply(this,f),this},r.prototype.initComponents=function(){var t="change:components",e=[this,t,this.initComponents];this.stopListening.apply(this,e);var n=new uc([],this.opt);n.parent=this;var i=this.get("components"),s=!this.opt.avoidChildren;return this.set("components",n),s&&i&&n.add((0,D.isFunction)(i)?i(this):i,this.opt),n.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,e),this},r.prototype.initTraits=function(t){var e=this.em,n="change:traits";this.off(n,this.initTraits),this.__loadTraits();var i=$e({},this.get("attributes")),s=this.traits;return s.each(function(u){if(!u.changeProp){var c=u.getName(),f=u.getInitValue();c&&f&&(i[c]=f)}}),s.length&&this.set("attributes",i),this.on(n,this.initTraits),t&&e&&e.trigger("component:toggled"),this},r.prototype.initScriptProps=function(){if(!this.opt.temporary){var t="script-props",e=["change:".concat(t),this.initScriptProps];this.off.apply(this,e);var n=this.previous(t)||[],i=this.get(t)||[],s=n.map(function(c){return"change:".concat(c)}).join(" "),u=i.map(function(c){return"change:".concat(c)}).join(" ");s&&this.off(s,this.__scriptPropsChange),u&&this.on(u,this.__scriptPropsChange),this.on.apply(this,e)}},r.prototype.__scriptPropsChange=function(t,e,n){n===void 0&&(n={}),!n.avoidStore&&this.trigger("rerender")},r.prototype.append=function(t,e){e===void 0&&(e={});var n=(0,D.isArray)(t)?Vo([],t,!0):[t],i=n.map(function(u){return(0,D.isString)(u)||u.collection&&u.collection.remove(u,{temporary:!0}),u}),s=this.components().add(i,$e({action:dn.t.add},e));return(0,D.isArray)(s)?s:[s]},r.prototype.components=function(t,e){e===void 0&&(e={});var n=this.get("components");return(0,D.isUndefined)(t)?n:(n.reset(void 0,e),t?this.append(t,e):[])},r.prototype.getChildAt=function(t){return this.components().at(t||0)||void 0},r.prototype.getLastChild=function(){var t=this.components();return t.at(t.length-1)||null},r.prototype.empty=function(t){return t===void 0&&(t={}),this.components().reset(void 0,t),this},r.prototype.parent=function(t){t===void 0&&(t={});var e=this.collection||t.prev&&this.prevColl;return e?e.parent:void 0},r.prototype.parents=function(){var t=this.parent();return t?[t].concat(t.parents()):[]},r.prototype.scriptUpdated=function(){this.set("scriptUpdated",1)},r.prototype.initToolbar=function(){var t=this.em,e=this,n=t&&t.getConfig().stylePrefix||"";if(!e.get("toolbar")&&t){var i=[];e.collection&&i.push({label:t.getIcon("arrowUp"),command:function(s){return s.runCommand("core:component-exit",{force:1})}}),e.get("draggable")&&i.push({attributes:{class:"".concat(n,"no-touch-actions"),draggable:!0},label:t.getIcon("move"),command:"tlb-move"}),e.get("copyable")&&i.push({label:t.getIcon("copy"),command:"tlb-clone"}),e.get("removable")&&i.push({label:t.getIcon("delete"),command:"tlb-delete"}),e.set("toolbar",i)}},r.prototype.__loadTraits=function(t,e){e===void 0&&(e={});var n=t||this.traits;if(!(n instanceof Sd)){n=(0,D.isFunction)(n)?n(this):n;var i=new Sd([],this.opt);i.setTarget(this),n.length&&(n.forEach(function(s){return s.attributes&&delete s.attributes.value}),i.add(n)),this.set({traits:i},e)}return this},r.prototype.getTraits=function(){return this.__loadTraits(),Vo([],this.traits.models,!0)},r.prototype.setTraits=function(t){var e=(0,D.isArray)(t)?t:[t];return this.set({traits:e}),this.getTraits()},r.prototype.getTrait=function(t){return this.getTraits().filter(function(e){return e.get("id")===t||e.get("name")===t})[0]||null},r.prototype.updateTrait=function(t,e){var n,i=this.getTrait(t);return i&&i.set(e),(n=this.em)===null||n===void 0||n.trigger("component:toggled"),this},r.prototype.getTraitIndex=function(t){var e=this.getTrait(t);return e?this.traits.indexOf(e):-1},r.prototype.removeTrait=function(t){var e=this,n,i=(0,D.isArray)(t)?t:[t],s=i.map(function(f){return e.getTrait(f)}),u=this.traits,c=s.length?u.remove(s):[];return(n=this.em)===null||n===void 0||n.trigger("component:toggled"),(0,D.isArray)(c)?c:[c]},r.prototype.addTrait=function(t,e){var n;e===void 0&&(e={}),this.__loadTraits();var i=this.traits.add(t,e);return(n=this.em)===null||n===void 0||n.trigger("component:toggled"),(0,D.isArray)(i)?i:[i]},r.prototype.normalizeClasses=function(t){var e=[],n=this.em,i=n==null?void 0:n.Selectors;return i?t.models?Vo([],t.models,!0):(t.forEach(function(s){return e.push(i.add(s))}),e):[]},r.prototype.clone=function(t){t===void 0&&(t={});var e=this.em,n=$e({},this.attributes),i=$e({},this.opt),s=this.getId(),u=e==null?void 0:e.Css;n.attributes=$e({},n.attributes),delete n.attributes.id,n.components=[],n.classes=[],n.traits=[],os(this)&&(t.symbol=!0),this.get("components").each(function(w,b){n.components[b]=w.clone($e($e({},t),{_inner:1}))}),this.get("traits").each(function(w,b){n.traits[b]=w.clone()}),this.get("classes").each(function(w,b){n.classes[b]=w.get("name")}),n.status="",i.collection=null;var c=new this.constructor(n,i),f="#".concat(c.getId()),h=u?u.getRules("#".concat(s)):[];h.forEach(function(w){var b=w.clone();b.set("selectors",[f]),u.getAll().add(b)}),c.set(Bn,0);var g=is(this),m=co(this);!t.symbol&&(g||m)?(c.set(bo,0),c.set(Bn,0)):g?(g.set(Bn,Vo(Vo([],co(g),!0),[c],!1)),fu(c)):t.symbol&&(yd(this)?(this.set(Bn,Vo(Vo([],m,!0),[c],!1)),c.set(bo,this),fu(c)):t.symbolInv?(this.set(Bn,[c]),c.set(bo,this),[this,c].map(function(w){return fu(w)})):(c.set(Bn,[this]),[this,c].map(function(w){return fu(w)}),this.set(bo,c)));var y="component:clone";return e&&e.trigger(y,c),this.trigger(y,c),c},r.prototype.getName=function(t){t===void 0&&(t={});var e=this.em,n=this.attributes,i=n.type,s=n.tagName,u=n.name,c=i||s,f=i?"":s,h="domComponents.names.",g=u&&(e==null?void 0:e.t("".concat(h).concat(u))),m=f&&(e==null?void 0:e.t("".concat(h).concat(f))),y=e&&(e.t("".concat(h).concat(i))||e.t("".concat(h).concat(s))),w=this.get("custom-name");return(t.noCustom?"":w)||g||u||m||(0,Mt.capitalize)(f)||y||(0,Mt.capitalize)(c)},r.prototype.setName=function(t,e){e===void 0&&(e={}),this.set("custom-name",t,e)},r.prototype.getIcon=function(){var t=this.get("icon");return t?t+" ":""},r.prototype.toHTML=function(t){t===void 0&&(t={});var e=this,n=[],i=t.tag,s=i||e.get("tagName"),u=e.get("void"),c=t.attributes,f=this.getAttrToHTML(t);if(delete t.tag,c&&((0,D.isFunction)(c)?f=c(e,f)||{}:(0,Mt.isObject)(c)&&(f=c)),t.withProps){var h=this.toJSON();(0,D.forEach)(h,function(P,T){var j=["classes","attributes","components"];T[0]!=="_"&&j.indexOf(T)<0&&(f["data-gjs-".concat(T)]=(0,D.isArray)(P)||(0,Mt.isObject)(P)?JSON.stringify(P):(0,D.isBoolean)(P)?"".concat(P):P)})}for(var g in f){var m=f[g];if(!(0,D.isUndefined)(m)&&m!==null)if((0,D.isBoolean)(m))m&&n.push(g);else{var y="";if(t.altQuoteAttr&&(0,D.isString)(m)&&m.indexOf('"')>=0)y="'".concat(m.replace(/'/g,"&apos;"),"'");else{var w=(0,D.isString)(m)?m.replace(/"/g,"&quot;"):m;y='"'.concat(w,'"')}n.push("".concat(g,"=").concat(y))}}var b=n.length?" ".concat(n.join(" ")):"",O=e.getInnerHTML(t),S="<".concat(s).concat(b).concat(u?"/":"",">").concat(O);return!u&&(S+="</".concat(s,">")),S},r.prototype.getInnerHTML=function(t){return this.__innerHTML(t)},r.prototype.__innerHTML=function(t){t===void 0&&(t={});var e=this.components();return e.length?e.map(function(n){return n.toHTML(t)}).join(""):this.content},r.prototype.getAttrToHTML=function(t){var e=this.getAttributes();return _u(this.em)&&(t==null?void 0:t.keepInlineStyle)!==!0&&delete e.style,e},r.prototype.toJSON=function(t){t===void 0&&(t={});var e=vg.Model.prototype.toJSON.call(this,t);if(e.attributes=this.getAttributes(),delete e.attributes.class,delete e.toolbar,delete e.traits,delete e.status,delete e.open,delete e._undoexc,delete e.delegate,!t.fromUndo){var n=e[bo],i=e[Bn];i&&(0,D.isArray)(i)&&(e[Bn]=i.filter(function(s){return s}).map(function(s){return s.getId?s.getId():s})),n&&!(0,D.isString)(n)&&(e[bo]=n.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(e),e},r.prototype.getChangedProps=function(t){var e=t||vg.Model.prototype.toJSON.apply(this),n=(0,D.result)(this,"defaults");return(0,D.forEach)(n,function(i,s){["type"].indexOf(s)===-1&&e[s]===i&&delete e[s]}),(0,D.isEmpty)(e.type)&&delete e.type,(0,D.forEach)(["attributes","style"],function(i){(0,D.isEmpty)(n[i])&&(0,D.isEmpty)(e[i])&&delete e[i]}),(0,D.forEach)(["classes","components"],function(i){(!e[i]||(0,D.isEmpty)(n[i])&&!e[i].length)&&delete e[i]}),e},r.prototype.getId=function(){var t=this.get("attributes")||{};return t.id||this.ccid||this.cid},r.prototype.setId=function(t,e){var n=$e({},this.get("attributes"));return n.id=t,this.set("attributes",n,e),this},r.prototype.getEl=function(t){var e=this.getView(t);return e&&e.el},r.prototype.getView=function(t){var e=this,n=e.view,i=e.views,s=e.em,u=t||(s==null?void 0:s.getCurrentFrameModel());return u&&(n=i.filter(function(c){return c.frameView===u.view})[0]),n},r.prototype.getCurrentView=function(){var t=this.em.getCurrentFrame(),e=t==null?void 0:t.model;return this.getView(e)},r.prototype.__getScriptProps=function(){var t=this.props(),e=this.get("script-props")||[];return e.reduce(function(n,i){return n[i]=t[i],n},{})},r.prototype.getScriptString=function(t){var e=this,n=t||this.get("script")||"";if(!n)return n;if(this.get("script-props"))n=n.toString().trim();else{if((0,D.isFunction)(n)){var i=n.toString().trim();i=i.slice(i.indexOf("{")+1,i.lastIndexOf("}")),n=i.trim()}var s=this.em.getConfig(),u=Z_(s.tagVarStart||"{[ "),c=Z_(s.tagVarEnd||" ]}"),f=new RegExp("".concat(u,"([\\w\\d-]*)").concat(c),"g");n=n.replace(f,function(h,g){e.scriptUpdated();var m=e.attributes[g]||"";return(0,D.isArray)(m)||typeof m=="object"?JSON.stringify(m):m})}return n},r.prototype.emitUpdate=function(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var s=this.em,u=Wf+(t?":".concat(t):""),c=t&&this.get(t);t&&this.updated.apply(this,Vo([t,c,t&&this.previous(t)],n,!1)),this.trigger.apply(this,Vo([u],n,!1)),s&&s.trigger.apply(s,Vo([u,this],n,!1)),["components","classes"].indexOf(t)>=0&&this.__propSelfToParent({component:this,changed:(e={},e[t]=c,e),options:n[2]||n[1]||{}})},r.prototype.onAll=function(t){return(0,D.isFunction)(t)&&(t(this),this.components().forEach(function(e){return e.onAll(t)})),this},r.prototype.forEachChild=function(t){(0,D.isFunction)(t)&&this.components().forEach(function(e){t(e),e.forEachChild(t)})},r.prototype.remove=function(t){var e=this;t===void 0&&(t={});var n=this.em,i=this.collection,s=function(){i&&i.remove(e,$e({action:dn.t.remove},t)),i||(e.components("",t),e.components().removeChildren(e,void 0,t))},u=$e({},t);return[this,n].map(function(c){return c.trigger(dn.I.removeBefore,e,s,u)}),!u.abort&&s(),this},r.prototype.move=function(t,e){if(e===void 0&&(e={}),t){var n=e.at,i=this.index(),s=t===this.parent(),u=i===n||i===n-1;if(!s||!u){s&&n&&n>i&&(e.at=n-1);var c=dn.t.move;this.remove({action:c,temporary:1}),t.append(this,$e({action:c},e)),this.emitUpdate()}}return this},r.prototype.isInstanceOf=function(t){var e,n,i=(n=(e=this.em)===null||e===void 0?void 0:e.Components.getType(t))===null||n===void 0?void 0:n.model;if(!i)return!1;var s=this.constructor.typeExtends;return this instanceof i||s.has(t)},r.prototype.isChildOf=function(t){for(var e=(0,D.isString)(t),n=this.parent();n;){if(e){if(n.isInstanceOf(t))return!0}else if(n===t)return!0;n=n.parent()}return!1},r.prototype.resetId=function(t){var e=this.em,n=this.getId();if(!n)return this;var i=r.createId(this);this.setId(i);var s=e==null?void 0:e.Css.getIdRule(n),u=s==null?void 0:s.get("selectors").at(0);return u==null||u.set("name",i),this},r.prototype._getStyleRule=function(t){var e=t===void 0?{}:t,n=e.id,i=this.em,s=n||this.getId();return i==null?void 0:i.Css.getIdRule(s)},r.prototype._getStyleSelector=function(t){var e=this._getStyleRule(t);return e==null?void 0:e.get("selectors").at(0)},r.prototype._idUpdated=function(t,e,n){if(n===void 0&&(n={}),!n.idUpdate){var i=this.ccid,s=(this.get("attributes")||{}).id,u=(this.previous("attributes")||{}).id||i,c=r.getList(this);if(c[s]||!s&&u)return this.setId(u,{idUpdate:!0});delete c[u],c[s]=this,this.ccid=s;var f=this._getStyleSelector({id:u});f&&f.set({name:s,label:s})}},r.getDefaults=function(){return(0,D.result)(this.prototype,"defaults")},r.isComponent=function(t,e){return{tagName:(0,Mt.toLowerCase)(t.tagName)}},r.ensureInList=function(t){var e=r.getList(t),n=t.getId(),i=e[n];if(!i)e[n]=t;else if(i!==t){var s=r.getIncrementId(n,e);t.setId(s),e[s]=t}t.components().forEach(function(u){return r.ensureInList(u)})},r.createId=function(t,e){e===void 0&&(e={});var n=r.getList(t),i=e.idMap,s=i===void 0?{}:i,u=t.get("attributes").id,c;return u?(c=r.getIncrementId(u,n,e),t.setId(c),u!==c&&(s[u]=c)):c=r.getNewId(n),n[c]=t,c},r.getNewId=function(t){for(var e=Object.keys(t).length,n=e.toString().length+2,i=(Math.random()+1.1).toString(36).slice(-n),s="i".concat(i);t[s];)s=r.getNewId(t);return s},r.getIncrementId=function(t,e,n){n===void 0&&(n={});var i=n.keepIds,s=i===void 0?[]:i,u=1,c=t;if(s.indexOf(t)<0)for(;e[c];)u++,c="".concat(t,"-").concat(u);return c},r.getList=function(t){var e,n=t.em,i=n==null?void 0:n.Components;return(e=i==null?void 0:i.componentsById)!==null&&e!==void 0?e:{}},r.checkId=function(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n={}),i===void 0&&(i={});var s=(0,D.isArray)(t)?t:[t],u=i.keepIds,c=u===void 0?[]:u,f=i.idMap,h=f===void 0?{}:f;s.forEach(function(g){g.attributes;var m=g.attributes,y=m===void 0?{}:m,w=g.components,b=y.id;if(b&&n[b]&&c.indexOf(b)<0){var O=r.getIncrementId(b,n);h[b]=O,y.id=O,(0,D.isArray)(e)&&e.forEach(function(S){var P=S.selectors;P.forEach(function(T,j){T==="#".concat(b)&&(P[j]="#".concat(O))})})}w&&r.checkId(w,e,n,i)})},r.typeExtends=new Set,r}(Kx);const hn=TA;var EA=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Od=function(){return Od=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Od.apply(this,arguments)},cl="head",PA=["title","style","base","link","meta","script","noscript"],kA=function(o){EA(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Od(Od({},o.prototype.defaults),{type:cl,tagName:cl,draggable:!1,highlightable:!1,droppable:function(t){var e=t.tagName;return!e||PA.includes((0,Mt.toLowerCase)(e))}})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,Mt.toLowerCase)(t.tagName)===cl},r}(hn);const AA=kA;var xg=function(){return xg=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},xg.apply(this,arguments)},MA=function(){function o(r,t){var e=this;this.em=r,this.canvas=r.Canvas;var n=t||this.canvas.getFrames().map(function(s){return s.getComponent().getEl()}),i=Array.isArray(n)?n:[n];this.el=i[0],this.counter=0,(0,D.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave"),i.forEach(function(s){return e.toggleEffects(s,!0)})}return o.prototype.toggleEffects=function(r,t){var e={on:Jt.on,off:Jt.AU},n=t?"on":"off";e[n](r,"dragenter",this.handleDragEnter),e[n](r,"dragover",this.handleDragOver),e[n](r,"drop",this.handleDrop),e[n](r,"dragleave",this.handleDragLeave)},o.prototype.__customTglEff=function(r){var t,e=r?Jt.on:Jt.AU,n=this.el.ownerDocument,i=(t=n.defaultView)===null||t===void 0?void 0:t.frameElement;this.sortOpts=r?{onStart:function(s){var u=s.sorter;(0,Jt.on)(i,"pointermove",u.onMove)},onEnd:function(s){var u=s.sorter;(0,Jt.AU)(i,"pointermove",u.onMove)},customTarget:function(s){var u=s.event;return n.elementFromPoint(u.clientX,u.clientY)}}:null,e(i,"pointerenter",this.handleDragEnter),e(i,"pointermove",this.handleDragOver),e(document,"pointerup",this.handleDrop),e(i,"pointerout",this.handleDragLeave)},o.prototype.startCustom=function(){this.__customTglEff(!0)},o.prototype.endCustom=function(r){this.over?this.endDrop(r):this.__customTglEff(!1)},o.prototype.endDrop=function(r,t){var e=this,n=e.em,i=e.dragStop;this.counter=0,i&&i(r||!this.over),this.__customTglEff(!1),n.trigger("canvas:dragend",t)},o.prototype.handleDragLeave=function(r){this.updateCounter(-1,r)},o.prototype.updateCounter=function(r,t){this.counter+=r,this.counter===0&&this.endDrop(!0,t)},o.prototype.handleDragEnter=function(r){var t=this,e=this,n=e.em,i=e.canvas,s=r.dataTransfer,u=n.get("dragContent");if(!(!u&&!i.getConfig().allowExternalDrop)&&(this.updateCounter(1,r),!this.over)){this.over=!0;var c=n.Utils,f=u||"<br>",h,g;if(n.stopDefault(),n.inAbsoluteMode()){var m=n.Components.getWrapper(),y=m.append({})[0],w=n.Commands.run("core:component-drag",{event:r,guidesInfo:1,center:1,target:y,onEnd:function(O,S,P){var T=P.cancelled,j;if(!T){j=m.append(f)[0];var X=i.getOffset(),at=y.getStyle(),ft=at.top,Q=at.left,K=at.position,rt=(0,Jt.Xy)(O.target),H=parseInt("".concat(parseFloat(Q)+rt.x-X.left),10),V=parseInt("".concat(parseFloat(ft)+rt.y-X.top),10);j.addStyle({left:H+"px",top:V+"px",position:K})}t.handleDragEnd(j,s),y.remove()}});h=function(O){return w.stop(r,{cancel:O})},g=function(O){return f=O}}else{var b=new c.Sorter(xg({em:n,wmargin:1,nested:1,canvasRelative:1,direction:"a",container:this.el,placer:i.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:"gjs-",onEndMove:function(O){return t.handleDragEnd(O,s)},document:this.el.ownerDocument},this.sortOpts||{}));b.setDropContent(f),b.startSort(),this.sorter=b,h=function(O){O&&(b.moved=!1),b.endMove()},g=function(O){return b.setDropContent(O)}}this.dragStop=h,this.dragContent=g,n.trigger("canvas:dragenter",s,f)}},o.prototype.handleDragEnd=function(r,t){var e=this.em;this.over=!1,r&&(e.set("dragResult",r),e.trigger("canvas:drop",t,r)),e.runDefault({preserveSelected:1})},o.prototype.handleDragOver=function(r){r.preventDefault(),this.em.trigger("canvas:dragover",r)},o.prototype.handleDrop=function(r){r.preventDefault();var t=this.dragContent,e=r.dataTransfer,n=this.getContentByData(e).content;n&&t&&t(n),this.endDrop(!n,r)},o.prototype.getContentByData=function(r){var t=this.em,e=r&&r.types,n=r&&r.files||[],i=t.get("dragContent"),s=r&&r.getData("text");if(n.length){s=[];for(var u=0;u<n.length;u++){var c=n[u],f=c.type.split("/")[0];f=="image"&&s.push({type:f,file:c,attributes:{alt:c.name}})}}else if(i)s=i;else if((0,D.indexOf)(e,"text/html")>=0)s=r&&r.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,D.indexOf)(e,"text/uri-list")>=0)s={type:"link",attributes:{href:s},content:s};else if((0,D.indexOf)(e,"text/json")>=0){var h=r&&r.getData("text/json");h&&(s=JSON.parse(h))}else e.length===1&&e[0]==="text/plain"&&(s="<div>".concat(s,"</div>"));var g={content:s};return t.trigger("canvas:dragdata",r,g),g},o}();const LA=MA;var DA=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Co=function(){return Co=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Co.apply(this,arguments)},jA=function(o,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,i;e<n;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return o.concat(i||Array.prototype.slice.call(r))},NA=function(o){DA(r,o);function r(t,e){var n=o.call(this,{model:t})||this;n.dragging=!1,n.loaded=!1,n.lastMaxHeight=0,n.tools={},(0,D.bindAll)(n,"updateClientY","stopAutoscroll","autoscroll","_emitUpdate");var i=n.el;n.module._config=Co(Co({},n.config||{}),{frameView:n}),n.frameWrapView=e,n.showGlobalTools=(0,D.debounce)(n.showGlobalTools.bind(n),50);var s=n.getCanvasModel();return n.listenTo(t,"change:head",n.updateHead),n.listenTo(s,"change:styles",n.renderStyles),t.view=n,(0,Mt.setViewEl)(i,n),n}return Object.defineProperty(r.prototype,"tagName",{get:function(){return"iframe"},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"attributes",{get:function(){return{allowfullscreen:"allowfullscreen"}},enumerable:!1,configurable:!0}),r.prototype.getBoxRect=function(){var t=this,e=t.el,n=t.module,i=n.getCanvasView(),s=n.getCoords(),u=e.getBoundingClientRect(),c=i.getCanvasOffset(),f=i.getViewportDelta(),h=n.getZoomMultiplier(),g=(u.x-c.left-f.x-s.x)*h,m=(u.y-c.top-f.y-s.y)*h,y=u.width*h,w=u.height*h;return{x:g,y:m,width:y,height:w}},r.prototype.updateHead=function(){var t=this.model,e=this.getHead(),n=[],i=[],s=t.head,u=t.previous("head"),c=function(h){return h===void 0&&(h={}),Object.keys(h).sort().map(function(g){return"[".concat(g,'="').concat(h[g],'"]')}).join("")},f=function(h,g,m){h.forEach(function(y){var w=y.tag,b=y.attributes,O=g.some(function(S){return S.tag===w&&c(S.attributes)===c(b)});!O&&m.push(y)})};f(s,u,i),f(u,s,n),n.forEach(function(h){var g,m=e.querySelector("".concat(h.tag).concat(c(h.attributes)));(g=m==null?void 0:m.parentNode)===null||g===void 0||g.removeChild(m)}),(0,Jt.af)(e,i)},r.prototype.getEl=function(){return this.el},r.prototype.getCanvasModel=function(){var t;return(t=this===null||this===void 0?void 0:this.em.Canvas)===null||t===void 0?void 0:t.getModel()},r.prototype.getWindow=function(){return this.getEl().contentWindow},r.prototype.getDoc=function(){return this.getEl().contentDocument},r.prototype.getHead=function(){return this.getDoc().querySelector("head")},r.prototype.getBody=function(){return this.getDoc().querySelector("body")},r.prototype.getWrapper=function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},r.prototype.getJsContainer=function(){return this.jsContainer||(this.jsContainer=(0,Jt.a_)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},r.prototype.getToolsEl=function(){var t;return(t=this.frameWrapView)===null||t===void 0?void 0:t.elTools},r.prototype.getGlobalToolsEl=function(){return this.em.Canvas.getGlobalToolsEl()},r.prototype.getHighlighter=function(){return this._getTool("[data-hl]")},r.prototype.getBadgeEl=function(){return this._getTool("[data-badge]")},r.prototype.getOffsetViewerEl=function(){return this._getTool("[data-offset]")},r.prototype.getRect=function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},r.prototype.getOffsetRect=function(){var t=this.el,e=this.getBody(),n=e.scrollTop,i=e.scrollLeft,s=t.offsetHeight,u=t.offsetWidth;return{top:t.offsetTop,left:t.offsetLeft,height:s,width:u,scrollTop:n,scrollLeft:i,scrollBottom:n+s,scrollRight:i+u}},r.prototype._getTool=function(t){var e=this.tools,n=this.getToolsEl();return e[t]||(e[t]=n.querySelector(t)),e[t]},r.prototype.remove=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._toggleEffects(!1),this.tools={},(t=this.wrapper)===null||t===void 0||t.remove(),Ao.prototype.remove.apply(this,e),this},r.prototype.startAutoscroll=function(){var t=this;this.lastMaxHeight=this.getWrapper().offsetHeight-this.el.offsetHeight,setTimeout(function(){t._toggleAutoscrollFx(!0),requestAnimationFrame(t.autoscroll)},0)},r.prototype.autoscroll=function(){if(this.dragging){var t=this.lastClientY,e=this.em.Canvas,n=this.getWindow(),i=n.pageYOffset,s=t||0,u=e.getConfig().autoscrollLimit,c=this.getRect().height-u,f=i;if(s<u&&(f-=u-s),s>c&&(f+=s-c),!(0,D.isUndefined)(t)&&f!==i&&f>0&&f<this.lastMaxHeight){var h=this.getGlobalToolsEl();h.style.opacity="0",this.showGlobalTools(),n.scrollTo(0,f),e.spots.refreshDbn()}requestAnimationFrame(this.autoscroll)}},r.prototype.updateClientY=function(t){t.preventDefault(),this.lastClientY=(0,Jt.G2)(t).clientY*this.em.getZoomDecimal()},r.prototype.showGlobalTools=function(){this.getGlobalToolsEl().style.opacity=""},r.prototype.stopAutoscroll=function(){this.dragging&&this._toggleAutoscrollFx(!1)},r.prototype._toggleAutoscrollFx=function(t){this.dragging=t;var e=this.getWindow(),n=t?"on":"off",i={on:Jt.on,off:Jt.AU};i[n](e,"mousemove dragover",this.updateClientY),i[n](e,"mouseup",this.stopAutoscroll)},r.prototype.render=function(){var t=this,e=t.$el,n=t.ppfx,i=t.em;return e.attr({class:"".concat(n,"frame")}),this.renderScripts(),i.trigger("frame:render",this),this},r.prototype.renderScripts=function(){var t=this,e=this,n=e.el,i=e.model,s=e.em,u="frame:load",c={el:n,model:i,view:this},f=this.getCanvasModel(),h=function(g){var m;if(g.length>0){var y=g.shift(),w=(0,Jt.a_)("script",Co({type:"text/javascript"},(0,D.isString)(y)?{src:y}:y));(m=n.contentDocument)===null||m===void 0||m.head.appendChild(w),w.hasAttribute("nomodule")&&"noModule"in HTMLScriptElement.prototype?h(g):w.onerror=w.onload=h.bind(null,g)}else s==null||s.trigger(Bf.frameLoadHead,c),t.renderBody(),s==null||s.trigger(Bf.frameLoadBody,c),s==null||s.trigger(u,c)};n.onload=function(){var g=t.config.frameContent;if(g){var m=t.getDoc();m.open(),m.write(g),m.close()}c.window=t.getWindow(),s==null||s.trigger("".concat(u,":before"),c),s==null||s.trigger(Bf.frameLoad,c),t.renderHead(),h(jA([],f.get("scripts"),!0))}},r.prototype.renderStyles=function(t){t===void 0&&(t={});var e=this.getHead(),n=this.getCanvasModel(),i=function(g){return g===void 0&&(g=[]),g.map(function(m){return{tag:"link",attributes:Co({rel:"stylesheet"},(0,D.isString)(m)?{href:m}:m)}})},s=i(t.prev||n.previous("styles")),u=i(n==null?void 0:n.get("styles")),c=[],f=[],h=function(g,m,y){g.forEach(function(w){var b=w.attributes.href,O=m.some(function(S){return S.attributes.href===b});!O&&y.push(w)})};h(u,s,f),h(s,u,c),c.forEach(function(g){var m,y=e.querySelector('link[href="'.concat(g.attributes.href,'"]'));(m=y==null?void 0:y.parentNode)===null||m===void 0||m.removeChild(y)}),(0,Jt.af)(e,f)},r.prototype.renderHead=function(){var t,e=this,n=e.model,i=e.em,s=n.root,u=(t=i==null?void 0:i.Components)===null||t===void 0?void 0:t.getType(cl).view;u&&(this.headView=new u({el:this.getHead(),model:s.head,config:Co(Co({},s.config),{frameView:this})}).render())},r.prototype.renderBody=function(){var t=this,e,n,i,s=this,u=s.config,c=s.em,f=s.model,h=s.ppfx,g=this.getDoc(),m=this.getBody(),y=this.getWindow(),w=f.hasAutoHeight(),b=c.config;y._isEditor=!0,this.renderStyles({prev:[]});var O="#ffca6f";(0,Jt.BC)(m,`<style>
      `.concat(b.baseCss||u.frameStyle||"",`

      `).concat(w?"body { overflow: hidden }":"",`

      [data-gjs-type="wrapper"] {
        `).concat(w?"":"min-height: 100vh;",`
        padding-top: 0.001em;
      }

      .`).concat(h,`dashed *[data-gjs-highlightable] {
        outline: 1px dashed rgba(170,170,170,0.7);
        outline-offset: -2px;
      }

      .`).concat(h,`selected {
        outline: 2px solid #3b97e3 !important;
        outline-offset: -2px;
      }

      .`).concat(h,`selected-parent {
        outline: 2px solid `).concat(O,` !important
      }

      .`).concat(h,`no-select {
        user-select: none;
        -webkit-user-select:none;
        -moz-user-select: none;
      }

      .`).concat(h,`freezed {
        opacity: 0.5;
        pointer-events: none;
      }

      .`).concat(h,`no-pointer {
        pointer-events: none;
      }

      .`).concat(h,`pointer-init {
        pointer-events: initial;
      }

      .`).concat(h,`plh-image {
        background: #f5f5f5;
        border: none;
        height: 100px;
        width: 100px;
        display: block;
        outline: 3px solid #ffca6f;
        cursor: pointer;
        outline-offset: -2px
      }

      .`).concat(h,`grabbing {
        cursor: grabbing;
        cursor: -webkit-grabbing;
      }

      .`).concat(h,`is__grabbing {
        overflow-x: hidden;
      }

      .`).concat(h,`is__grabbing,
      .`).concat(h,`is__grabbing * {
        cursor: grabbing !important;
      }

      `).concat(b.canvasCss||"",`
      `).concat(b.protectedCss||"",`
    </style>`));var S=f.root,P=(((e=c==null?void 0:c.Components)===null||e===void 0?void 0:e.getType("wrapper"))||{}).view;P&&(this.wrapper=new P({model:S,config:Co(Co({},S.config),{em:c,frameView:this})}).render(),(0,Jt.BC)(m,(n=this.wrapper)===null||n===void 0?void 0:n.el),(0,Jt.BC)(m,new Bx({collection:f.getStyles(),config:Co(Co({},c.Css.getConfig()),{frameView:this})}).render().el),(0,Jt.BC)(m,this.getJsContainer()),(0,Jt.on)(m,"click",function(T){var j;return T&&((j=T.target)===null||j===void 0?void 0:j.tagName)=="A"&&T.preventDefault()}),(0,Jt.on)(m,"submit",function(T){return T&&T.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent",opts:{passive:!u.infiniteCanvas}}].forEach(function(T){return T.event.split(" ").forEach(function(j){g.addEventListener(j,function(X){return t.el.dispatchEvent((0,Jt.yL)(X,T.class))},T.opts)})}),this._toggleEffects(!0),(0,Mt.hasDnd)(c)&&(this.droppable=new LA(c,(i=this.wrapper)===null||i===void 0?void 0:i.el)),this.loaded=!0,f.trigger("loaded"))},r.prototype._toggleEffects=function(t){var e=t?Jt.on:Jt.AU,n=this.getWindow();n&&e(n,"".concat(Jt.D8," resize"),this._emitUpdate)},r.prototype._emitUpdate=function(){this.model._emitUpdated()},r}(Ao);const IA=NA;var eS=Ue(14),RA=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Js=function(){return Js=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Js.apply(this,arguments)},FA=function(o){RA(r,o);function r(t,e){var n=o.call(this,{model:t})||this;return(0,D.bindAll)(n,"onScroll","frameLoaded","updateOffset","remove","startDrag"),Js(Js({},t.config),{frameWrapView:n}),n.cv=e,n.frame=new IA(t,n),n.classAnim="".concat(n.ppfx,"frame-wrapper--anim"),n.updateOffset=(0,D.debounce)(n.updateOffset.bind(n),0),n.updateSize=(0,D.debounce)(n.updateSize.bind(n),0),n.listenTo(t,"loaded",n.frameLoaded),n.listenTo(t,"change:x change:y",n.updatePos),n.listenTo(t,"change:width change:height",n.updateSize),n.listenTo(t,"destroy remove",n.remove),n.updatePos(),n.setupDragger(),n}return r.prototype.events=function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}},r.prototype.setupDragger=function(){var t=this,e=this,n=e.module,i=e.model,s,u,c,f=function(h){n.toggleFramesEvents(h)};this.dragger=new eS.A({onStart:function(){var h=i.attributes,g=h.x,m=h.y;c=t.em.getZoomMultiplier(),s=g,u=m,f(!1)},onEnd:function(){return f(!0)},setPosition:function(h){i.set({x:s+h.x*c,y:u+h.y*c})}})},r.prototype.startDrag=function(t){var e;t&&((e=this.dragger)===null||e===void 0||e.start(t))},r.prototype.__clear=function(t){var e=this.frame;e&&e.remove(t),(0,Jt.YZ)(this.elTools)},r.prototype.remove=function(t){var e=this;return this.__clear(t),Ao.prototype.remove.apply(this,t),["frame","dragger","cv","elTools"].forEach(function(n){return e[n]=0}),this},r.prototype.updateOffset=function(){var t,e=this,n=e.em,i=e.$el,s=e.frame;!n||n.destroyed||(n.runDefault({preserveSelected:1}),i.removeClass(this.classAnim),(t=s==null?void 0:s.model)===null||t===void 0||t._emitUpdated())},r.prototype.updatePos=function(t){var e=this,n=e.model,i=e.el,s=n.attributes,u=s.x,c=s.y,f=i.style;this.frame.rect=void 0,f.left=isNaN(u)?u:"".concat(u,"px"),f.top=isNaN(c)?c:"".concat(c,"px"),t&&this.updateOffset()},r.prototype.updateSize=function(){this.updateDim()},r.prototype.updateDim=function(){var t=this,e=t.em,n=t.el,i=t.$el,s=t.model,u=t.classAnim,c=t.frame;if(c){c.rect=void 0,i.addClass(u);var f=this.__handleSize(),h=f.noChanges,g=f.width,m=f.height;((0,D.isNull)(g)||(0,D.isNull)(m))&&s.set(Js(Js({},g?{}:{width:n.offsetWidth}),m?{}:{height:n.offsetHeight}),{silent:1}),e.stopDefault({preserveSelected:1}),h?this.updateOffset():setTimeout(this.updateOffset,350)}},r.prototype.onScroll=function(){var t=this,e=t.frame,n=t.em;n.trigger("frame:scroll",{frame:e,body:e.getBody(),target:e.getWindow()})},r.prototype.frameLoaded=function(){var t=this,e=t.frame;t.config,e.getWindow().onscroll=this.onScroll,this.updateDim()},r.prototype.__handleSize=function(){var t,e,n="px",i=this,s=i.model,u=i.el,c=u.style,f=s.attributes,h=f.width,g=f.height,m=c.width||"",y=c.height||"",w=h||"",b=g||"",O=m==w&&y==b,S=(0,D.isNumber)(w)?"".concat(w).concat(n):w,P=(0,D.isNumber)(b)?"".concat(b).concat(n):b;if(c.width=S,s.hasAutoHeight()){var T=this.frame.el;if(T.contentDocument){var j=T.contentDocument,X=new ResizeObserver(function(){c.height="".concat(j.body.scrollHeight,"px")});X.observe(j.body),(t=this.sizeObserver)===null||t===void 0||t.disconnect(),this.sizeObserver=X}}else c.height=P,(e=this.sizeObserver)===null||e===void 0||e.disconnect(),delete this.sizeObserver;return{noChanges:O,width:h,height:g,newW:w,newH:b}},r.prototype.render=function(){var t=this,e=t.frame,n=t.$el,i=t.ppfx,s=t.cv,u=t.model,c=t.el,f=u.attributes.onRender;this.__clear(),this.__handleSize(),e.render(),n.empty().attr({class:"".concat(i,"frame-wrapper")}).append(`
      <div class="`.concat(i,`frame-wrapper__top gjs-two-color" data-frame-top>
        <div class="`).concat(i,`frame-wrapper__name" data-action-move>
          `).concat(u.get("name")||"",`
        </div>
        <div class="`).concat(i,`frame-wrapper__top-r">
          <div class="`).concat(i,`frame-wrapper__icon" data-action-remove style="display: none">
            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>
          </div>
        </div>
      </div>
      <div class="`).concat(i,`frame-wrapper__right" data-frame-right></div>
      <div class="`).concat(i,`frame-wrapper__left" data-frame-left></div>
      <div class="`).concat(i,`frame-wrapper__bottom" data-frame-bottom></div>
      `)).append(e.el);var h=(0,Jt.a_)("div",{class:"".concat(i,"tools"),style:"pointer-events:none; display: none"},`
      <div class="`.concat(i,`highlighter" data-hl></div>
      <div class="`).concat(i,`badge" data-badge></div>
      <div class="`).concat(i,`placeholder">
        <div class="`).concat(i,`placeholder-int"></div>
      </div>
      <div class="`).concat(i,`ghost"></div>
      <div class="`).concat(i,`toolbar" style="pointer-events:all"></div>
      <div class="`).concat(i,`resizer"></div>
      <div class="`).concat(i,`offset-v" data-offset>
        <div class="gjs-marginName" data-offset-m>
          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>
          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>
          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>
          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>
        </div>
        <div class="gjs-paddingName" data-offset-m>
          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>
          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>
          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>
          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>
        </div>
      </div>
      <div class="`).concat(i,`offset-fixed-v"></div>
    `));this.elTools=h;var g=s==null?void 0:s.toolsWrapper;return g&&g.appendChild(h),f&&f({el:c,elTop:c.querySelector("[data-frame-top]"),elRight:c.querySelector("[data-frame-right]"),elBottom:c.querySelector("[data-frame-bottom]"),elLeft:c.querySelector("[data-frame-left]"),frame:u,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this},r}(Ao);const VA=FA;var UA=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),HA=function(o){UA(r,o);function r(t,e){t===void 0&&(t={});var n=o.call(this,t,!0)||this;return n.listenTo(n.collection,"reset",n.render),n.canvasView=e.canvasView,n._module=e.module,n}return r.prototype.onRemoveBefore=function(t,e){e===void 0&&(e={}),t.forEach(function(n){return n.remove(e)})},r.prototype.onRender=function(){var t=this,e=t.$el,n=t.ppfx;e.attr({class:"".concat(n,"frames")})},r.prototype.clearItems=function(){var t=this.viewCollection||[];t.forEach(function(e){return e.remove()}),this.viewCollection=[]},r.prototype.renderView=function(t,e){return new VA(t,this.canvasView)},r}(Gk);const BA=HA;var zA=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Td=function(){return Td=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Td.apply(this,arguments)},WA=function(o){zA(r,o);function r(t){var e=o.call(this,{model:t})||this;e.ready=!1,(0,D.bindAll)(e,"clearOff","onKeyPress","onWheel","onPointer");var n=e,i=n.em,s=n.pfx,u=n.ppfx,c=e.module.events;return e.className="".concat(s,"canvas ").concat(u,"no-touch-actions").concat(i.config.customUI?"":" ".concat(s,"canvas-bg")),e.clsUnscale="".concat(s,"unscale"),e._initFrames(),e.listenTo(i,c.refresh,e.clearOff),e.listenTo(i,"component:selected",e.checkSelected),e.listenTo(i,"".concat(c.coords," ").concat(c.zoom),e.updateFrames),e.listenTo(t,"change:frames",e._onFramesUpdate),e.toggleListeners(!0),e}return r.prototype.template=function(){var t=this.pfx;return`
      <div class="`.concat(t,`canvas__frames" data-frames>
        <div class="`).concat(t,`canvas__spots" data-spots></div>
      </div>
      <div id="`).concat(t,'tools" class="').concat(t,`canvas__tools" data-tools></div>
      <style data-canvas-style></style>
    `)},r.prototype._onFramesUpdate=function(){this._initFrames(),this._renderFrames()},r.prototype._initFrames=function(){var t=this,e=t.frames,n=t.model,i=t.config,s=t.em,u=n.frames;s.set("readyCanvas",0),u.once("loaded:all",function(){return s.set("readyCanvas",1)}),e==null||e.remove(),this.frames=new BA({collection:u},Td(Td({},i),{canvasView:this}))},r.prototype.checkSelected=function(t,e){var n;e===void 0&&(e={});var i=e.scroll,s=this.em.getCurrentFrame();i&&((n=t.views)===null||n===void 0||n.forEach(function(u){u.frameView===s&&u.scrollIntoView(i)}))},r.prototype.remove=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this.frames)===null||t===void 0||t.remove(),this.frames=void 0,Ao.prototype.remove.apply(this,e),this.toggleListeners(!1),this},r.prototype.preventDefault=function(t){var e;t&&(t.preventDefault(),(e=t._parentEvent)===null||e===void 0||e.preventDefault())},r.prototype.toggleListeners=function(t){var e=this,n=e.el,i=e.config,s=t?Jt.on:Jt.AU;s(document,"keypress",this.onKeyPress),s(window,"scroll resize",this.clearOff),s(n,"wheel",this.onWheel,{passive:!i.infiniteCanvas}),s(n,"pointermove",this.onPointer)},r.prototype.screenToWorld=function(t,e){var n=this.module,i=n.getCoords(),s=n.getZoomMultiplier(),u=this.getViewportDelta();return{x:(t-i.x-u.x)*s,y:(e-i.y-u.y)*s}},r.prototype.onPointer=function(t){if(this.config.infiniteCanvas){var e=this.getCanvasOffset(),n=(0,Jt.Xy)(),i={x:t.clientX-e.left+n.x,y:t.clientY-e.top+n.y};if(t._parentEvent){var s=t.target.getBoundingClientRect(),u=this.module.getZoomDecimal();i.x=s.left-e.left+n.x+t.clientX*u,i.y=s.top-e.top+n.y+t.clientY*u}this.model.set({pointerScreen:i,pointer:this.screenToWorld(i.x,i.y)})}},r.prototype.onKeyPress=function(t){var e=this.em,n=(0,Jt.Ch)(t);n===" "&&e.getZoomDecimal()!==1&&!e.Canvas.isInputFocused()&&(this.preventDefault(t),e.Editor.runCommand("core:canvas-move"))},r.prototype.onWheel=function(t){var e=this,n=e.module,i=e.config;if(i.infiniteCanvas){this.preventDefault(t);var s=t.deltaX,u=t.deltaY,c=n.getZoomDecimal(),f=(0,Jt.rp)(t),h=n.getCoords();if(f){var g=c-u*c*.01;n.setZoom(g*100);var m=this.model.getPointerCoords($t.x2.Screen),y=this.getCanvasOffset(),w=m.x-y.width/2,b=m.y-y.height/2,O=g/c,S=w-(w-h.x)*O,P=b-(b-h.y)*O;n.setCoords(S,P)}else this.onPointer(t),n.setCoords(h.x-s,h.y-u)}},r.prototype.updateFrames=function(t){var e=this.em,n=this.toolsWrapper,i={preserveSelected:1};this.updateFramesArea(),this.clearOff(),n.style.display="none",e.trigger("canvas:update",t),this.timerZoom&&clearTimeout(this.timerZoom),this.timerZoom=setTimeout(function(){e.stopDefault(i),e.runDefault(i),n.style.display=""},300)},r.prototype.updateFramesArea=function(){var t=this,e=t.framesArea,n=t.model,i=t.module,s=t.cvStyle,u=t.clsUnscale,c=i.getZoomMultiplier();if(e){var f=n.attributes,h=f.x,g=f.y,m=i.getZoomDecimal();e.style.transform="scale(".concat(m,") translate(").concat(h*c,"px, ").concat(g*c,"px)")}s&&(s.innerHTML=`
        .`.concat(u," { scale: ").concat(c,` }
      `))},r.prototype.fitViewport=function(t){var e,n;t===void 0&&(t={});var i=this,s=i.em,u=i.module,c=i.model,f=this.getCanvasOffset(),h=t.el,g=h&&((e=(0,Mt.getComponentView)(h))===null||e===void 0?void 0:e.frameView),m=g?g.model:t.frame||s.getCurrentFrameModel()||c.frames.at(0),y=m.attributes,w=y.x,b=y.y,O={x:w??0,y:b??0,width:m.width,height:m.height};if(h){var S=this.getElBoxRect(h);O.x=O.x+S.x,O.y=O.y+S.y,O.width=S.width,O.height=S.height}var P=t.ignoreHeight,T=(n=t.gap)!==null&&n!==void 0?n:0,j=(0,D.isNumber)(T),X=j?T:T.x,at=j?T:T.y,ft=O.width+X*2,Q=O.height+at*2,K=f.width,rt=f.height,H=K/ft,V=rt/Q,W=P?H:Math.min(H,V),z=W*100;u.setZoom(z);var it=-O.x+(m.width>=K?K/2-ft/2:-X),L=-O.y+rt/2-Q/2,_t={x:(it+X)*W,y:(L+at)*W};if(P){var nt=u.getZoomMultiplier(),Ct=rt*nt,Dt=Ct-rt,st=Dt/2;_t.y=(-O.y+at)*W-st/nt}u.setCoords(_t.x,_t.y)},r.prototype.isElInViewport=function(t){var e=(0,Mt.getElement)(t),n=(0,Jt.C8)(e),i=this.getFrameOffset(e),s=n.top,u=n.left;return s>=0&&u>=0&&s<=i.height&&u<=i.width},r.prototype.offset=function(t,e){e===void 0&&(e={});var n=e.noScroll,i=(0,Jt.C8)(t),s=n?{x:0,y:0}:(0,Jt.Xy)(t);return{top:i.top+s.y,left:i.left+s.x,width:i.width,height:i.height}},r.prototype.getRectToScreen=function(t){var e,n,i,s,u=this.module.getZoomDecimal(),c=this.module.getCoords(),f=this.getViewportDelta(),h=((e=t.x)!==null&&e!==void 0?e:0)*u+c.x+f.x||0,g=((n=t.y)!==null&&n!==void 0?n:0)*u+c.y+f.y||0;return{x:h,y:g,width:((i=t.width)!==null&&i!==void 0?i:0)*u,height:((s=t.height)!==null&&s!==void 0?s:0)*u}},r.prototype.getElBoxRect=function(t,e){var n,i,s;e===void 0&&(e={});var u=this.module,c=(0,Jt.C8)(t),f=c.width,h=c.height,g=c.left,m=c.top,y=(n=(0,Mt.getComponentView)(t))===null||n===void 0?void 0:n.frameView,w=y==null?void 0:y.getBoxRect(),b=u.getZoomMultiplier(),O=(i=w==null?void 0:w.x)!==null&&i!==void 0?i:0,S=(s=w==null?void 0:w.y)!==null&&s!==void 0?s:0,P=this.el,T=(0,Jt.Xy)(),j=g+O+(P.scrollLeft+T.x)*b,X=m+S+(P.scrollTop+T.y)*b,at={x:j,y:X,width:f,height:h};return e.local&&(at.x=g,at.y=m),e.toScreen?this.getRectToScreen(at):at},r.prototype.getViewportRect=function(t){t===void 0&&(t={});var e=this.getCanvasOffset(),n=e.top,i=e.left,s=e.width,u=e.height,c=this.module;if(t.toWorld){var f=c.getZoomMultiplier(),h=c.getCoords(),g=this.getViewportDelta(),m=-h.x-g.x||0,y=-h.y-g.y||0;return{x:m*f,y:y*f,width:s*f,height:u*f}}else return{x:i,y:n,width:s,height:u}},r.prototype.getViewportDelta=function(t){var e=this.module.getZoomMultiplier(),n=this.getCanvasOffset(),i=n.width,s=n.height,u=i*e,c=s*e,f=u-i,h=c-s;return{x:f/2/e,y:h/2/e}},r.prototype.clearOff=function(){this.frmOff=void 0,this.cvsOff=void 0},r.prototype.getFrameOffset=function(t){var e;if(!this.frmOff||t){var n=(e=this.frame)===null||e===void 0?void 0:e.el,i=t==null?void 0:t.ownerDocument.defaultView,s=i?i.frameElement:n;this.frmOff=this.offset(s||n)}return this.frmOff},r.prototype.getCanvasOffset=function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},r.prototype.getElementPos=function(t,e){e===void 0&&(e={});var n=this.module.getZoomDecimal(),i=this.getFrameOffset(t),s=this.el,u=this.getCanvasOffset(),c=this.offset(t,e),f=e.avoidFrameOffset?0:i.top,h=e.avoidFrameOffset?0:i.left,g=e.avoidFrameZoom?c.top:c.top*n,m=e.avoidFrameZoom?c.left:c.left*n,y=e.avoidFrameOffset?g:g+f-u.top+s.scrollTop,w=e.avoidFrameOffset?m:m+h-u.left+s.scrollLeft,b=e.avoidFrameZoom?c.height:c.height*n,O=e.avoidFrameZoom?c.width:c.width*n;return{top:y,left:w,height:b,width:O,zoom:n,rect:c}},r.prototype.getElementOffsets=function(t){if(!t||(0,Jt.ir)(t))return{};var e={},n=window.getComputedStyle(t),i=this.module.getZoomDecimal(),s=["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"];return s.forEach(function(u){e[u]=parseFloat(n[u])*i}),e},r.prototype.getPosition=function(t){var e;t===void 0&&(t={});var n=(e=this.frame)===null||e===void 0?void 0:e.el.contentDocument;if(!n)return{top:0,left:0,width:0,height:0};var i=n.body,s=this.module.getZoomDecimal(),u=this.getFrameOffset(),c=this.getCanvasOffset(),f=t.noScroll;return{top:u.top+(f?0:i.scrollTop)*s-c.top,left:u.left+(f?0:i.scrollLeft)*s-c.left,width:c.width,height:c.height}},r.prototype.updateScript=function(t){var e=t.model,n=e.getId();if(!t.scriptContainer){t.scriptContainer=(0,Jt.a_)("div",{"data-id":n});var i=this.getJsContainer();i==null||i.appendChild(t.scriptContainer)}t.el.id=n,t.scriptContainer.innerHTML="";var s=document.createElement("script"),u=e.getScriptString(),c=e.get("script-props")?u:`function(){
`.concat(u,`
;}`),f=JSON.stringify(e.__getScriptProps());s.innerHTML=`
      setTimeout(function() {
        var item = document.getElementById('`.concat(n,`');
        if (!item) return;
        (`).concat(c,".bind(item))(").concat(f,`)
      }, 1);`),setTimeout(function(){var h=t.scriptContainer;h==null||h.appendChild(s)},0)},r.prototype.getJsContainer=function(t){var e=this.getFrameView(t);return e==null?void 0:e.getJsContainer()},r.prototype.getFrameView=function(t){return(t==null?void 0:t.frameView)||this.em.getCurrentFrame()},r.prototype._renderFrames=function(){if(this.ready){var t=this,e=t.model,n=t.frames,i=t.em,s=t.framesArea,u=e.frames;u.listenToLoad(),n.render();var c=u.at(0),f=c==null?void 0:c.view;i.setCurrentFrame(f),s==null||s.appendChild(n.el),this.frame=f,this.updateFramesArea()}},r.prototype.renderFrames=function(){this._renderFrames()},r.prototype.render=function(){var t=this,e=t.el,n=t.$el,i=t.ppfx,s=t.config,u=t.em;n.html(this.template());var c=n.find("[data-frames]");this.framesArea=c.get(0);var f=n.find("[data-tools]");return this.toolsWrapper=f.get(0),f.append(`
      <div class="`.concat(i,"tools ").concat(i,`tools-gl" style="pointer-events:none">
        <div class="`).concat(i,`placeholder">
          <div class="`).concat(i,`placeholder-int"></div>
        </div>
      </div>
      <div id="`).concat(i,`tools" style="pointer-events:none">
        `).concat(s.extHl?'<div class="'.concat(i,'highlighter-sel"></div>'):"",`
        <div class="`).concat(i,`badge"></div>
        <div class="`).concat(i,`ghost"></div>
        <div class="`).concat(i,`toolbar" style="pointer-events:all"></div>
        <div class="`).concat(i,`resizer"></div>
        <div class="`).concat(i,`offset-v"></div>
        <div class="`).concat(i,`offset-fixed-v"></div>
      </div>
    `)),this.toolsEl=e.querySelector("#".concat(i,"tools")),this.hlEl=e.querySelector(".".concat(i,"highlighter")),this.badgeEl=e.querySelector(".".concat(i,"badge")),this.placerEl=e.querySelector(".".concat(i,"placeholder")),this.ghostEl=e.querySelector(".".concat(i,"ghost")),this.toolbarEl=e.querySelector(".".concat(i,"toolbar")),this.resizerEl=e.querySelector(".".concat(i,"resizer")),this.offsetEl=e.querySelector(".".concat(i,"offset-v")),this.fixedOffsetEl=e.querySelector(".".concat(i,"offset-fixed-v")),this.toolsGlobEl=e.querySelector(".".concat(i,"tools-gl")),this.spotsEl=e.querySelector("[data-spots]"),this.cvStyle=e.querySelector("[data-canvas-style]"),this.el.className=(0,Mt.getUiClass)(u,this.className),this.ready=!0,this._renderFrames(),this},r}(Ao);const KA=WA;var $A=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ba=function(){return Ba=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Ba.apply(this,arguments)},GA=function(o,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,i;e<n;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return o.concat(i||Array.prototype.slice.call(r))},YA=function(o){$A(r,o);function r(t){var e=o.call(this,t,"Canvas",pk)||this;return e.events=md,e.framesById={},e.canvas=new Vk(e),e.spots=new Bk(e),e.model=e.canvas,e.startAutoscroll=e.startAutoscroll.bind(e),e.stopAutoscroll=e.stopAutoscroll.bind(e),e}return r.prototype.getCanvasView=function(){return this.canvasView},r.prototype.postLoad=function(){this.model.init()},r.prototype.getModel=function(){return this.canvas},r.prototype.getElement=function(){return this.getCanvasView().el},r.prototype.getFrame=function(t){return this.getFrames()[t||0]},r.prototype.getFrameEl=function(){var t=(this.canvasView||{}).frame;return t==null?void 0:t.el},r.prototype.getFramesEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.framesArea},r.prototype.getWindow=function(){var t=(this.canvasView||{}).frame;return t==null?void 0:t.getWindow()},r.prototype.getDocument=function(){var t=this.getFrameEl();return t==null?void 0:t.contentDocument},r.prototype.getBody=function(){var t=this.getDocument();return t==null?void 0:t.body},r.prototype._getLocalEl=function(t,e,n){var i=t,s=e==null?void 0:e.frameView;return i=s?s[n]():i,i},r.prototype.getGlobalToolsEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.toolsGlobEl},r.prototype.getToolsEl=function(t){return this._getLocalEl(this.getCanvasView().toolsEl,t,"getToolsEl")},r.prototype.getHighlighter=function(t){return this._getLocalEl(this.getCanvasView().hlEl,t,"getHighlighter")},r.prototype.getBadgeEl=function(t){return this._getLocalEl(this.getCanvasView().badgeEl,t,"getBadgeEl")},r.prototype.getPlacerEl=function(){return this.getCanvasView().placerEl},r.prototype.getGhostEl=function(){return this.getCanvasView().ghostEl},r.prototype.getToolbarEl=function(){return this.getCanvasView().toolbarEl},r.prototype.getResizerEl=function(){return this.getCanvasView().resizerEl},r.prototype.getOffsetViewerEl=function(t){return this._getLocalEl(this.getCanvasView().offsetEl,t,"getOffsetViewerEl")},r.prototype.getFixedOffsetViewerEl=function(){return this.getCanvasView().fixedOffsetEl},r.prototype.getSpotsEl=function(){var t;return(t=this.canvasView)===null||t===void 0?void 0:t.spotsEl},r.prototype.render=function(){var t;return(t=this.canvasView)===null||t===void 0||t.remove(),this.canvasView=new KA(this.canvas),this.canvasView.render().el},r.prototype.getOffset=function(){var t=this.offset(this.getFrameEl()),e=this.offset(this.getElement());return{top:t.top-e.top,left:t.left-e.left}},r.prototype.offset=function(t){return this.getCanvasView().offset(t)},r.prototype.setCustomBadgeLabel=function(t){this.config.customBadgeLabel=t},r.prototype.getElementPos=function(t,e){return this.getCanvasView().getElementPos(t,e)},r.prototype.getElementOffsets=function(t){return this.getCanvasView().getElementOffsets(t)},r.prototype.getRect=function(){var t,e=(t=this.getCanvasView().getPosition())!==null&&t!==void 0?t:{},n=e.top,i=n===void 0?0:n,s=e.left,u=s===void 0?0:s;return Ba(Ba({},this.getCanvasView().getCanvasOffset()),{topScroll:i,leftScroll:u})},r.prototype.getTargetToElementDim=function(t,e,n){n===void 0&&(n={});var i=n||{},s=this.getCanvasView().getPosition();if(s){var u=i.elPos||this.getCanvasView().getElementPos(e),c=n.toRight||0,f=i.targetHeight||t.offsetHeight,h=i.targetWidth||t.offsetWidth,g=i.event||null,m=u.top-f,y=u.left;y+=c?u.width:0,y=c?y-h:y;var w=y<s.left?s.left:y,b=m<s.top?s.top:m;b=b>u.top+u.height?u.top+u.height:b;var O={top:b,left:w,elementTop:u.top,elementLeft:u.left,elementWidth:u.width,elementHeight:u.height,targetWidth:t.offsetWidth,targetHeight:t.offsetHeight,canvasTop:s.top,canvasLeft:s.left,canvasWidth:s.width,canvasHeight:s.height};return g&&this.em&&this.em.trigger(g,O),O}},r.prototype.canvasRectOffset=function(t,e,n){var i=this;n===void 0&&(n={});var s=function(c){var f=c.defaultView;return f==null?void 0:f.frameElement},u=function(c,f,h){f===void 0&&(f=1);var g=i.em.getZoomDecimal(),m=f?"top":"left",y=c.ownerDocument,w=n.offset?s(y):{},b=w.offsetTop,O=b===void 0?0:b,S=w.offsetLeft,P=S===void 0?0:S,T=y.body||{},j=T.scrollTop,X=j===void 0?0:j,at=T.scrollLeft,ft=at===void 0?0:at,Q=f?X:ft,K=f?O:P;return h[m]-(Q-K)*g};return{top:u(t,1,e),left:u(t,0,e)}},r.prototype.getTargetToElementFixed=function(t,e,n){n===void 0&&(n={});var i=n.pos||this.getElementPos(t,{noScroll:!0}),s=n.canvasOff||this.canvasRectOffset(t,i),u=e.offsetHeight||0,c=e.offsetWidth||0,f=i.left+i.width,h=this.getCanvasView(),g=h.getPosition(),m=h.getFrameOffset(t),y=n.event,w=-u,b=(0,D.isUndefined)(n.left)?i.width-c:n.left;if(b=i.left<-b?-i.left:b,b=f>g.width?b-(f-g.width):b,s.top<u){var O=i.height+u,S=O<m.height;S?w=w+O:w=-s.top<i.height?-s.top:i.height}var P={top:w,left:b,canvasOffsetTop:s.top,canvasOffsetLeft:s.left,elRect:i,canvasOffset:s,canvasRect:g,targetWidth:c,targetHeight:u};return y&&this.em.trigger(y,P),P},r.prototype.getMouseRelativePos=function(t,e){e===void 0&&(e={});var n=e.subWinOffset,i=t.target.ownerDocument,s=i.defaultView||i.parentWindow,u=s.frameElement,c=n?s.pageYOffset:0,f=n?s.pageXOffset:0,h=this.getZoomMultiplier(),g=0,m=0;if(u){var y=u.getBoundingClientRect();g=y.top||0,m=y.left||0}return{y:(t.clientY+g-c)*h,x:(t.clientX+m-f)*h}},r.prototype.getMouseRelativeCanvas=function(t,e){var n,i=this.getZoomDecimal(),s=(n=this.getCanvasView().getPosition(e))!==null&&n!==void 0?n:{},u=s.top,c=u===void 0?0:u,f=s.left,h=f===void 0?0:f;return{y:t.clientY*i+c,x:t.clientX*i+h}},r.prototype.hasFocus=function(){return this.getDocument().hasFocus()},r.prototype.isInputFocused=function(){var t=this.getDocument(),e=this.getFrameEl(),n=GA(["body"],this.config.notTextable,!0),i=e&&document.activeElement===e,s=i?t&&t.activeElement:document.activeElement;return s&&!n.some(function(u){return s.matches(u)})},r.prototype.scrollTo=function(t,e){e===void 0&&(e={});var n=(0,Mt.getElement)(t),i=n&&(0,Mt.getViewEl)(n);i&&i.scrollIntoView(e)},r.prototype.startAutoscroll=function(t){var e=t&&t.view||this.em.getCurrentFrame();e&&e.startAutoscroll()},r.prototype.stopAutoscroll=function(t){var e=t&&t.view||this.em.getCurrentFrame();e&&e.stopAutoscroll()},r.prototype.setZoom=function(t){return this.canvas.set("zoom",typeof t=="string"?parseFloat(t):t),this},r.prototype.getZoom=function(){return parseFloat(this.canvas.get("zoom"))},r.prototype.setCoords=function(t,e,n){var i;n===void 0&&(n={});var s=t||t===0,u=e||e===0,c={x:this.canvas.get("x"),y:this.canvas.get("y")};if(s&&(c.x=parseFloat("".concat(t))),u&&(c.y=parseFloat("".concat(e))),n.toWorld){var f=(i=this.canvasView)===null||i===void 0?void 0:i.getViewportDelta();f&&(s&&(c.x=c.x-f.x),u&&(c.y=c.y-f.y))}return this.canvas.set(c),this},r.prototype.getCoords=function(){var t=this.canvas.attributes,e=t.x,n=t.y;return{x:e,y:n}},r.prototype.getPointer=function(t){var e=this.canvas.attributes,n=e.pointer,i=e.pointerScreen;return t?i:n},r.prototype.getZoomDecimal=function(){return this.getZoom()/100},r.prototype.getZoomMultiplier=function(){var t=this.getZoomDecimal();return t?1/t:1},r.prototype.fitViewport=function(t){var e;(e=this.canvasView)===null||e===void 0||e.fitViewport(t)},r.prototype.toggleFramesEvents=function(t){var e=this.getFramesEl().style;e.pointerEvents=t?"":"none"},r.prototype.getFrames=function(){return this.canvas.frames.map(function(t){return t})},r.prototype.addFrame=function(t,e){return t===void 0&&(t={}),e===void 0&&(e={}),this.canvas.frames.add(new Vx(this,Ba({},t)),e)},r.prototype.getLastDragResult=function(){return this.em.get("dragResult")},r.prototype.addSpot=function(t,e){var n;e===void 0&&(e={});var i=t,s=this.getSpots(i);if(s.length){var u=s[0];return u.set(i),u}var c=i.componentView||((n=i.component)===null||n===void 0?void 0:n.view),f=new To.A(this,Ba(Ba({},i),{id:i.id||"cs_".concat(i.type,"_").concat(c==null?void 0:c.cid),type:i.type||""}));return this.spots.add(f,e),f},r.prototype.getSpots=function(t){return t===void 0&&(t={}),this.spots.where(t.id?{id:t.id}:t)},r.prototype.removeSpots=function(t){t===void 0&&(t={});var e=(0,D.isArray)(t)?t:this.getSpots(t),n=this.spots.remove(e);return n},r.prototype.hasCustomSpot=function(t){var e=this.config.customSpots;return!!(e===!0||e&&t&&e[t])},r.prototype.getWorldRectToScreen=function(t){var e;return(e=this.canvasView)===null||e===void 0?void 0:e.getRectToScreen(t)},r.prototype.refresh=function(t){t===void 0&&(t={});var e=this,n=e.em,i=e.events,s=e.canvasView;s==null||s.clearOff(),(t.spots||t.all)&&(this.refreshSpots(),n.trigger("canvas:updateTools")),n.set("canvasOffset",this.getOffset()),n.trigger(i.refresh,t)},r.prototype.refreshSpots=function(){this.spots.refresh()},r.prototype.destroy=function(){var t=this,e;this.canvas.stopListening(),(e=this.canvasView)===null||e===void 0||e.remove(),["model","droppable"].forEach(function(n){return t[n]={}})},r}(qn);const XA=YA,Q_={stylePrefix:"comp-",components:[],draggableComponents:!0,disableTextInnerChilds:!1,processor:void 0,useFrameDoc:!1,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]};var qA=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ed=function(){return Ed=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Ed.apply(this,arguments)},JA=function(o){qA(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Ed(Ed({},o.prototype.defaults),{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0})},enumerable:!1,configurable:!0}),r.prototype.toHTML=function(){var t=this.content,e=this.parent();return e!=null&&e.is("script")?t:this.__escapeContent(t)},r.prototype.__escapeContent=function(t){return(0,Mt.escapeNodeContent)(t)},r.isComponent=function(t){var e;if(t.nodeType===3)return{type:"textnode",content:(e=t.textContent)!==null&&e!==void 0?e:""}},r}(hn);const rS=JA;var ZA=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Sg=function(){return Sg=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Sg.apply(this,arguments)},QA=function(o){ZA(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Sg({},o.prototype.defaults)},enumerable:!1,configurable:!0}),r.prototype.toHTML=function(){return"<!--".concat(this.content,"-->")},r.isComponent=function(t){var e;if(t.nodeType==8)return{type:"comment",content:(e=t.textContent)!==null&&e!==void 0?e:""}},r}(rS);const tM=QA;var eM=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Pd=function(){return Pd=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Pd.apply(this,arguments)},Kh="iframe",rM=function(o){eM(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Pd(Pd({},o.prototype.defaults),{type:Kh,tagName:Kh,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,Mt.toLowerCase)(t.tagName)===Kh},r}(hn);const nM=rM;var oM=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),kd=function(){return kd=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},kd.apply(this,arguments)},tw='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',iM=function(o){oM(r,o);function r(t,e){t===void 0&&(t={});var n=o.call(this,t,e)||this,i=n.get("attributes").src;return i&&(0,Mt.buildBase64UrlFromSvg)((0,D.result)(n,"defaults").src)!==i&&n.set("src",i,{silent:!0}),n}return Object.defineProperty(r.prototype,"defaults",{get:function(){return kd(kd({},o.prototype.defaults),{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(tw,`>
        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>
      </svg>`),fallback:"<svg ".concat(tw,`>
        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>
      </svg>`),file:""})},enumerable:!1,configurable:!0}),r.prototype.initToolbar=function(){o.prototype.initToolbar.call(this);var t=this.em;if(t){var e=t.Commands,n="image-editor";if(e.has(n)){for(var i=!1,s=this.get("toolbar"),u=0;u<s.length;u++)if(s[u].command==="image-editor"){i=!0;break}i||(s.push({attributes:{class:"fa fa-pencil"},command:n}),this.set("toolbar",s))}}},r.prototype.getAttrToHTML=function(){var t=o.prototype.getAttrToHTML.call(this),e=this.getSrcResult();return e&&(t.src=e),t},r.prototype.getSrcResult=function(t){t===void 0&&(t={});var e=this.get(t.fallback?"fallback":"src")||"",n=e;return e&&e.substr(0,4)==="<svg"&&(n=(0,Mt.buildBase64UrlFromSvg)(e)),n},r.prototype.isDefaultSrc=function(){var t=this.get("src"),e=(0,D.result)(this,"defaults").src;return t===e||t===(0,Mt.buildBase64UrlFromSvg)(e)},r.prototype.toJSON=function(t){var e=o.prototype.toJSON.call(this,t),n=e.attributes;return n&&e.src===n.src&&delete e.src,e},r.prototype.parseUri=function(t){var e={},n=function(i){i===void 0&&(i="");for(var s={},u=i.substring(1).split("&"),c=0;c<u.length;c++){var f=u[c].split("="),h=decodeURIComponent(f[0]);h&&(s[h]=decodeURIComponent(f[1]||""))}return s};if((0,Mt.hasWin)())e=document.createElement("a"),e.href=t;else if(typeof URL<"u")try{e=new URL(t)}catch{}return{hostname:e.hostname||"",pathname:e.pathname||"",protocol:e.protocol||"",search:e.search||"",hash:e.hash||"",port:e.port||"",query:n(e.search)}},r.isComponent=function(t){return(0,Mt.toLowerCase)(t.tagName)==="img"},r}(hn);const Vm=iM;var aM=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ad=function(){return Ad=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Ad.apply(this,arguments)},sM=function(o){aM(r,o);function r(t,e){t===void 0&&(t={});var n=o.call(this,t,e)||this;return n.__checkInnerChilds(),n}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Ad(Ad({},o.prototype.defaults),{type:"text",droppable:!1,editable:!0})},enumerable:!1,configurable:!0}),r.prototype.__checkInnerChilds=function(){var t=this.em.Components.config.disableTextInnerChilds;if(t){var e=function(n){n.isInstanceOf("textnode")||n.set({locked:!0,layerable:!1})};(0,D.isFunction)(t)?this.forEachChild(function(n){t(n)&&e(n)}):this.forEachChild(e)}},r}(hn);const Um=sM;var lM=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Md=function(){return Md=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Md.apply(this,arguments)},$h="label",uM=function(o){lM(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Md(Md({},o.prototype.defaults),{type:$h,tagName:$h,traits:["id","title","for"]})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,Mt.toLowerCase)(t.tagName)===$h},r}(Um);const cM=uM;var fM=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ld=function(){return Ld=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Ld.apply(this,arguments)},ew="link",dM=function(o){fM(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Ld(Ld({},o.prototype.defaults),{type:ew,tagName:"a",traits:["title","href","target"]})},enumerable:!1,configurable:!0}),r.isComponent=function(t,e){e===void 0&&(e={});var n;if((0,Mt.toLowerCase)(t.tagName)==="a"){var i=e.textTags||[];n={type:ew,editable:!1};var s=t.childNodes,u=s.length;u||delete n.editable,(0,D.forEach)(s,function(c){var f=c.tagName;(c.nodeType==3&&c.textContent.trim()!==""||f&&i.indexOf((0,Mt.toLowerCase)(f))>=0)&&delete n.editable})}return n},r}(Um);const pM=dM;var hM=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Dd=function(){return Dd=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Dd.apply(this,arguments)},vM=function(o){hM(r,o);function r(t,e){t===void 0&&(t={});var n=o.call(this,t,e)||this;return n.get("src")?n.parseFromSrc():n.updateSrc(),n.listenTo(n,"change:address change:zoom change:mapType",n.updateSrc),n}return Object.defineProperty(r.prototype,"defaults",{get:function(){var t=o.prototype.defaults;return Dd(Dd({},t),{type:"map",src:"",void:!1,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:t.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:!0},{type:"select",label:"Map type",name:"mapType",changeProp:!0,options:[{id:"q",label:"Roadmap"},{id:"w",label:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:1,max:20,changeProp:!0}]})},enumerable:!1,configurable:!0}),r.prototype.updateSrc=function(){this.set("src",this.getMapUrl())},r.prototype.getMapUrl=function(){var t=this.get("address"),e=this.get("zoom"),n=this.get("mapType");t=t?"&q="+t:"",e=e?"&z="+e:"",n=n?"&t="+n:"";var i=this.get("mapUrl")+"?"+t+e+n;return i+="&output=embed",i},r.prototype.parseFromSrc=function(){var t=this.parseUri(this.get("src")),e=t.query;e.q&&this.set("address",e.q),e.z&&this.set("zoom",e.z),e.t&&this.set("mapType",e.t)},r.isComponent=function(t){if((0,Mt.toLowerCase)(t.tagName)=="iframe"&&/maps\.google\.com/.test(t.src))return{type:"map",src:t.src}},r}(Vm);const gM=vM;var mM=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),jd=function(){return jd=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},jd.apply(this,arguments)},Gh="script",yM=function(o){mM(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return jd(jd({},o.prototype.defaults),{type:Gh,tagName:Gh,droppable:!1,draggable:!1,layerable:!1,highlightable:!1})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,Mt.toLowerCase)(t.tagName)===Gh},r}(hn);const _M=yM;var wM=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Nd=function(){return Nd=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Nd.apply(this,arguments)},Yh="svg",CM=function(o){wM(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Nd(Nd({},o.prototype.defaults),{type:Yh,tagName:Yh,highlightable:!1,resizable:{ratioDefault:!0}})},enumerable:!1,configurable:!0}),r.prototype.getName=function(){var t=this.get("tagName"),e=this.get("custom-name");return t=t.charAt(0).toUpperCase()+t.slice(1),e||t},r.isComponent=function(t){return(0,Mt.toLowerCase)(t.tagName)===Yh},r}(hn);const nS=CM;var bM=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Id=function(){return Id=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Id.apply(this,arguments)},xM=function(o){bM(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Id(Id({},o.prototype.defaults),{selectable:!1,hoverable:!1,layerable:!1})},enumerable:!1,configurable:!0}),r.isComponent=function(t,e){return e===void 0&&(e={}),!!e.inSvg},r}(nS);const SM=xM;var OM=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Rd=function(){return Rd=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Rd.apply(this,arguments)},Xh="table",TM=function(o){OM(r,o);function r(t,e){t===void 0&&(t={});var n=o.call(this,t,e)||this,i=n.get("components");return!i.length&&i.add({type:"tbody"}),n}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Rd(Rd({},o.prototype.defaults),{type:Xh,tagName:Xh,droppable:["tbody","thead","tfoot"]})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,Mt.toLowerCase)(t.tagName)===Xh},r}(hn);const EM=TM;var PM=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fd=function(){return Fd=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Fd.apply(this,arguments)},qh="tbody",kM=function(o){PM(r,o);function r(t,e){t===void 0&&(t={});var n=o.call(this,t,e)||this,i=n.get("components"),s=n.get("columns"),u=n.get("rows");if(!i.length){for(var c=[];u--;){for(var f=[],h=s;h--;)f.push({type:"cell",classes:["cell"]});c.push({type:"row",classes:["row"],components:f})}i.add(c)}return n}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Fd(Fd({},o.prototype.defaults),{type:qh,tagName:qh,draggable:["table"],droppable:["tr"],columns:1,rows:1})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,Mt.toLowerCase)(t.tagName)===qh},r}(hn);const Hm=kM;var AM=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Vd=function(){return Vd=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Vd.apply(this,arguments)},MM=function(o){AM(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Vd(Vd({},o.prototype.defaults),{type:"cell",tagName:"td",draggable:["tr"]})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return["td","th"].indexOf((0,Mt.toLowerCase)(t.tagName))>=0},r}(hn);const LM=MM;var DM=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ud=function(){return Ud=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Ud.apply(this,arguments)},Jh="tfoot",jM=function(o){DM(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Ud(Ud({},o.prototype.defaults),{type:Jh,tagName:Jh})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,Mt.toLowerCase)(t.tagName)===Jh},r}(Hm);const NM=jM;var IM=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Hd=function(){return Hd=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Hd.apply(this,arguments)},Zh="thead",RM=function(o){IM(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Hd(Hd({},o.prototype.defaults),{type:Zh,tagName:Zh})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,Mt.toLowerCase)(t.tagName)===Zh},r}(Hm);const FM=RM;var VM=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Bd=function(){return Bd=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Bd.apply(this,arguments)},rw="tr",UM=function(o){VM(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Bd(Bd({},o.prototype.defaults),{tagName:rw,draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},enumerable:!1,configurable:!0}),r.isComponent=function(t){return(0,Mt.toLowerCase)(t.tagName)===rw},r}(hn);const HM=UM;var BM=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zd=function(){return zd=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},zd.apply(this,arguments)},Qh="video",js="yt",Ns="vi",Is="ytnc",nw="so",tv=function(o){return o&&o!=="0"},zM=function(o){BM(r,o);function r(t,e){t===void 0&&(t={});var n=o.call(this,t,e)||this;return n.get("src")&&n.parseFromSrc(),n.updatePropsFromAttr(),n.updateTraits(),n.on("change:provider",n.updateTraits),n.on("change:videoId change:provider",n.updateSrc),n}return Object.defineProperty(r.prototype,"defaults",{get:function(){return zd(zd({},o.prototype.defaults),{type:Qh,tagName:Qh,videoId:"",void:!1,provider:nw,ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:!1,poster:"",muted:0,autoplay:!1,controls:!0,color:"",list:"",src:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}})},enumerable:!1,configurable:!0}),r.prototype.updatePropsFromAttr=function(){if(this.get("provider")===nw){var t=this.get("attributes"),e=t.controls,n=t.autoplay,i=t.loop,s={};(0,Mt.isDef)(e)&&(s.controls=!!e),(0,Mt.isDef)(n)&&(s.autoplay=!!n),(0,Mt.isDef)(i)&&(s.loop=!!i),(0,Mt.isEmptyObj)(s)||this.set(s)}},r.prototype.updateTraits=function(){var t=this.em,e=this.get("provider"),n="iframe",i;switch(e){case js:case Is:i=this.getYoutubeTraits();break;case Ns:i=this.getVimeoTraits();break;default:n="video",i=this.getSourceTraits()}this.set({tagName:n},{silent:!0}),this.set({traits:i}),t.get("ready")&&t.trigger("component:toggled")},r.prototype.parseFromSrc=function(){var t=this.get("provider"),e=this.parseUri(this.get("src")),n=e.query;switch(t){case js:case Is:case Ns:this.set("videoId",e.pathname.split("/").pop()),n.list&&this.set("list",n.list),tv(n.autoplay)&&this.set("autoplay",!0),tv(n.loop)&&this.set("loop",!0),parseInt(n.controls)===0&&this.set("controls",!1),tv(n.color)&&this.set("color",n.color),n.rel==="0"&&this.set("rel",0),n.modestbranding==="1"&&this.set("modestbranding",1);break}},r.prototype.updateSrc=function(){var t=this.get("provider"),e="";switch(t){case js:e=this.getYoutubeSrc();break;case Is:e=this.getYoutubeNoCookieSrc();break;case Ns:e=this.getVimeoSrc();break}this.set({src:e})},r.prototype.getAttrToHTML=function(){var t=o.prototype.getAttrToHTML.call(this),e=this.get("provider");switch(e){case js:case Is:case Ns:break;default:t.loop=!!this.get("loop"),t.autoplay=!!this.get("autoplay"),t.controls=!!this.get("controls")}return t},r.prototype.getProviderTrait=function(){return{type:"select",label:"Provider",name:"provider",changeProp:!0,options:[{value:"so",name:"HTML5 Source"},{value:js,name:"Youtube"},{value:Is,name:"Youtube (no cookie)"},{value:Ns,name:"Vimeo"}]}},r.prototype.getSourceTraits=function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:!0},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]},r.prototype.getYoutubeTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:!0},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:!0}]},r.prototype.getVimeoTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:!0},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait()]},r.prototype.getAutoplayTrait=function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:!0}},r.prototype.getLoopTrait=function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:!0}},r.prototype.getControlsTrait=function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:!0}},r.prototype.getYoutubeSrc=function(){var t=this.get("videoId"),e=this.get("ytUrl"),n=this.get("list");return e+=t+(t.indexOf("?")<0?"?":""),e+=n?"&list=".concat(n):"",e+=this.get("autoplay")?"&autoplay=1&mute=1":"",e+=this.get("controls")?"":"&controls=0&showinfo=0",e+=this.get("loop")?"&loop=1&playlist=".concat(t):"",e+=this.get("rel")?"":"&rel=0",e+=this.get("modestbranding")?"&modestbranding=1":"",e},r.prototype.getYoutubeNoCookieSrc=function(){var t=this.getYoutubeSrc();return t=t.replace(this.get("ytUrl"),this.get("ytncUrl")),t},r.prototype.getVimeoSrc=function(){var t=this.get("viUrl");return t+=this.get("videoId")+"?",t+=this.get("autoplay")?"&autoplay=1&muted=1":"",t+=this.get("loop")?"&loop=1":"",t+=this.get("controls")?"":"&title=0&portrait=0&badge=0",t+=this.get("color")?"&color="+this.get("color"):"",t},r.isComponent=function(t){var e=t.tagName,n=t.src,i=/youtube\.com\/embed/.test(n),s=/youtube-nocookie\.com\/embed/.test(n),u=/player\.vimeo\.com\/video/.test(n),c=i||s||u;if((0,Mt.toLowerCase)(e)==Qh||(0,Mt.toLowerCase)(e)=="iframe"&&c){var f={type:"video"};return n&&(f.src=n),c&&(i?f.provider=js:s?f.provider=Is:u&&(f.provider=Ns)),f}},r}(Vm);const WM=zM;var KM=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Wd=function(){return Wd=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Wd.apply(this,arguments)},$M=function(o){KM(r,o);function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,i,s=o.apply(this,t)||this,u=t[1],c=(n=u==null?void 0:u.em)===null||n===void 0?void 0:n.Components,f=(i=c==null?void 0:c.getType(cl))===null||i===void 0?void 0:i.model,h=c==null?void 0:c.getType("default").model;return f&&s.set({head:new f({},u),docEl:new h({tagName:"html"},u)},{silent:!0}),s}return Object.defineProperty(r.prototype,"defaults",{get:function(){return Wd(Wd({},o.prototype.defaults),{tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],doctype:"",head:null,docEl:null,stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"docEl",{get:function(){return this.get("docEl")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"doctype",{get:function(){return this.attributes.doctype||""},enumerable:!1,configurable:!0}),r.prototype.toHTML=function(t){t===void 0&&(t={});var e=this.doctype,n=(0,D.isUndefined)(t.asDocument)?!!e:t.asDocument,i=this,s=i.head,u=i.docEl,c=o.prototype.toHTML.call(this,t),f=n&&(s==null?void 0:s.toHTML(t))||"",h=n&&(0,Jt.kk)(u==null?void 0:u.getAttrToHTML())||"",g=h?" ".concat(h):"";return n?"".concat(e,"<html").concat(g,">").concat(f).concat(c,"</html>"):c},r.prototype.__postAdd=function(){var t,e=(t=this.em)===null||t===void 0?void 0:t.UndoManager;return!this.__hasUm&&(e==null||e.add(this)),o.prototype.__postAdd.call(this)},r.prototype.__postRemove=function(){var t,e=(t=this.em)===null||t===void 0?void 0:t.UndoManager;return e==null||e.remove(this),o.prototype.__postRemove.call(this)},r.isComponent=function(){return!1},r}(hn);const GM=$M;var YM=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),XM=function(o){YM(r,o);function r(){var t=o!==null&&o.apply(this,arguments)||this;return t.compView=Dr,t}return r.prototype.initialize=function(t){this.opts=t||{},this.config=t.config||{},this.em=this.config.em;var e=this.collection;this.listenTo(e,"add",this.addTo),this.listenTo(e,"reset",this.resetChildren),this.listenTo(e,"remove",this.removeChildren)},r.prototype.removeChildren=function(t,e,n){var i=this;n===void 0&&(n={}),t.views.forEach(function(u){if(u){var c=u.childrenView,f=u.scriptContainer;c&&c.stopListening(),(0,Jt.YZ)(f),u.remove.apply(u)}});var s=t.components();s.forEach(function(u){return i.removeChildren(u,e,n)})},r.prototype.addTo=function(t){this.addToCollection(t,null,this.collection.indexOf(t))},r.prototype.addToCollection=function(t,e,n){for(var i=this,s=i.config,u=i.opts,c=i.em,f=s.frameView,h=(f==null?void 0:f.model)&&t.getView(f.model),g=u.componentTypes||(c==null?void 0:c.Components.getTypes()),m=t.get("type")||"default",y=this.compView,w=0;w<g.length;w++)if(g[w].id==m){y=g[w].view;break}var b=h||new y({model:t,config:s,componentTypes:g}),O;try{O=b.render().el}catch(j){O=document.createTextNode(""),c.logError(j)}if(e)e.appendChild(O);else{var S=this.parentEl,P=S.childNodes;if((0,D.isUndefined)(n))S.appendChild(O);else{var T=P.length==n;T&&n--,T||!P.length?S.appendChild(O):S.insertBefore(O,P[n])}}return t.opt.temporary||c==null||c.trigger("component:mount",t),O},r.prototype.resetChildren=function(t,e){var n=this,i=e===void 0?{}:e,s=i.previousModels,u=s===void 0?[]:s;this.parentEl.innerHTML="",u.forEach(function(c){return n.removeChildren(c,n.collection)}),t.each(function(c){return n.addToCollection(c)})},r.prototype.render=function(t){var e=this,n=this.el,i=document.createDocumentFragment();return this.parentEl=t||this.el,this.collection.each(function(s){return e.addToCollection(s,i)}),n.innerHTML="",n.appendChild(i),this},r}($t.Ss);const oS=XM;var qM=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zo=function(){return Zo=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Zo.apply(this,arguments)},JM=function(o){qM(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.className=function(){return this.getClasses()},r.prototype.tagName=function(){return this.model.get("tagName")},r.prototype.preinitialize=function(t){t===void 0&&(t={}),this.opts=t},r.prototype.initialize=function(t){t===void 0&&(t={});var e=this.model,n=t.config||{},i=n.em,s=e.opt||{},u=this,c=u.$el,f=u.el;this.opts=t,this.modelOpt=s,this.config=n,this.em=i,this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.attr=e.get("attributes"),this.classe=this.attr.class||[],this.listenTo(e,"change:style",this.updateStyle),this.listenTo(e,"change:attributes",this.renderAttributes),this.listenTo(e,"change:highlightable",this.updateHighlight),this.listenTo(e,"change:status change:locked",this.updateStatus),this.listenTo(e,"change:script rerender",this.reset),this.listenTo(e,"change:content",this.updateContent),this.listenTo(e,"change",this.handleChange),this.listenTo(e,"active",this.onActive),this.listenTo(e,"disable",this.onDisable),c.data("model",e),(0,Mt.setViewEl)(f,this),e.view=this,this.frameView&&e.views.push(this),this.initClasses(),this.initComponents({avoidRender:!0}),this.events=Zo(Zo({},this.constructor.getEvents()),{dragstart:"handleDragStart"}),this.delegateEvents(),!s.temporary&&this.init(this._clbObj())},Object.defineProperty(r.prototype,"__cmpStyleOpts",{get:function(){return{state:"",mediaText:""}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"frameView",{get:function(){return this.opts.config.frameView},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"createDoc",{get:function(){var t,e,n=((t=this.frameView)===null||t===void 0?void 0:t.getDoc())||document;return!((e=this.opts.config)===null||e===void 0)&&e.useFrameDoc?n:document},enumerable:!1,configurable:!0}),r.prototype.__isDraggable=function(){var t=this,e=t.model,n=t.config,i=e.attributes.draggable;return n.draggableComponents&&i},r.prototype._clbObj=function(){var t=this,e=t.em,n=t.model,i=t.el;return{editor:e==null?void 0:e.getEditor(),model:n,el:i}},r.prototype.init=function(t){},r.prototype.removed=function(t){},r.prototype.onRender=function(t){},r.prototype.onActive=function(t){},r.prototype.onDisable=function(t){},r.prototype.remove=function(){var t;o.prototype.remove.call(this);var e=this,n=e.model,i=e.$el,s=n.views,u=this.frameView||{};return n.components().forEach(function(c){var f=c.getView(u.model);f==null||f.remove()}),(t=this.childrenView)===null||t===void 0||t.remove(),s.splice(s.indexOf(this),1),this.removed(this._clbObj()),i.data({model:"",collection:"",view:""}),this},r.prototype.handleDragStart=function(t){if(!this.__isDraggable())return!1;t.stopPropagation(),t.preventDefault(),this.em.Commands.run("tlb-move",{target:this.model,event:t})},r.prototype.initClasses=function(){var t=this.model,e=t.classes,n="change:classes";e instanceof la&&(this.stopListening(t,n,this.initClasses),this.listenTo(t,n,this.initClasses),this.listenTo(e,"add remove change reset",this.updateClasses),e.length&&this.importClasses())},r.prototype.initComponents=function(t){t===void 0&&(t={});var e=this,n=e.model,i=e.$el,s=e.childrenView,u="change:components",c=n.get("components"),f=[n,u,this.initComponents];c instanceof uc&&(i.data("collection",c),s&&s.remove(),this.stopListening.apply(this,f),!t.avoidRender&&this.renderChildren(),this.listenTo.apply(this,f))},r.prototype.handleChange=function(){var t=this.model,e=(0,D.keys)(t.changed);if(!(e.length===1&&e[0]==="status")){t.emitUpdate();for(var n in t.changed)t.emitUpdate(n)}},r.prototype.importClasses=function(){var t=this,e=t.em,n=t.model,i=e.Selectors;i&&n.classes.forEach(function(s){return i.add(s.getName())})},r.prototype.updateStatus=function(t){t===void 0&&(t={});var e=this,n=e.em,i=e.el,s=e.ppfx,u=e.model,c=n==null?void 0:n.Canvas,f=c==null?void 0:c.config.extHl,h=u.get("status"),g="".concat(s,"selected"),m="".concat(g,"-parent"),y="".concat(s,"freezed"),w="".concat(s,"hovered"),b="".concat(s,"no-pointer"),O="".concat(s,"pointer-init"),S=[g,m,y,w,b],P=f&&!t.noExtHl?"":g;this.$el.removeClass(S.join(" "));var T=i.getAttribute("class")||"",j=[T],X=!(c!=null&&c.hasCustomSpot(To.F.Select)),at=!(c!=null&&c.hasCustomSpot(To.F.Target));switch(h){case"selected":X&&j.push(P);break;case"selected-parent":at&&j.push(m);break;case"freezed":j.push(y);break;case"freezed-selected":j.push(y),X&&j.push(P);break;case"hovered":!t.avoidHover&&j.push(w);break}(0,D.isBoolean)(u.locked)&&j.push(u.locked?b:O);var ft=j.filter(Boolean).join(" ");ft&&i.setAttribute("class",ft)},r.prototype.updateHighlight=function(){var t=this.model,e=t.get("textable"),n=t.get("highlightable")&&(e||!t.isChildOf("text"));this.setAttribute("data-gjs-highlightable",n?!0:"")},r.prototype.updateStyle=function(t,e,n){n===void 0&&(n={});var i=this,s=i.model,u=i.em;if(_u(u)&&!n.inline){var c=this.__cmpStyleOpts,f=s.getStyle(Zo({inline:!0},c));!(0,D.isEmpty)(f)&&s.setStyle(f,c)}else this.setAttribute("style",s.styleToString(n))},r.prototype.updateClasses=function(){var t=this.model.classes.pluck("name").join(" ");this.setAttribute("class",t),this.updateStatus(),this.onAttrUpdate()},r.prototype.setAttribute=function(t,e){var n=this.$el;e?n.attr(t,e):n.removeAttr(t)},r.prototype.getClasses=function(){return this.model.getClasses().join(" ")},r.prototype.updateAttributes=function(){var t=[],e=this,n=e.model,i=e.$el,s=e.el,u=n.attributes,c=u.textable,f=u.type,h=Zo(Zo({id:n.getId(),"data-gjs-type":f||"default"},this.__isDraggable()&&{draggable:!0}),c&&{contenteditable:"false"});(0,D.each)(s.attributes,function(m){return t.push(m.nodeName)}),t.forEach(function(m){return i.removeAttr(m)}),this.updateStyle(),this.updateHighlight();var g=Zo(Zo({},h),n.getAttributes());(0,D.keys)(g).forEach(function(m){return g[m]===!1&&delete g[m]}),i.attr(g)},r.prototype.updateContent=function(){var t=this.model.content,e=this.model.components().length;this.getChildrenContainer().innerHTML=e?"":t},r.prototype.prevDef=function(t){t.preventDefault()},r.prototype.updateScript=function(){var t=this,e=t.model,n=t.em;e.get("script")&&(n==null||n.Canvas.getCanvasView().updateScript(this))},r.prototype.getChildrenContainer=function(){var t=this.el;return typeof this.getChildrenSelector=="function"?t=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,t},r.prototype.getOffsetRect=function(){var t={top:0,left:0,bottom:0,right:0},e=this.el,n=0,i=0,s=function(u){var c=u.offsetParent;c?(n+=c.offsetTop,i+=c.offsetLeft,s(c)):(t.top=e.offsetTop+n,t.left=e.offsetLeft+i,t.bottom=t.top+e.offsetHeight,t.right=t.left+e.offsetWidth)};return s(e),t},r.prototype.isInViewport=function(){var t=this,e=t.el,n=t.em,i=t.frameView,s=n.Canvas.getCanvasView(),u=s.getElBoxRect(e,{local:!0}),c=i.el,f=c.clientHeight,h=c.clientWidth,g=u.y,m=u.x,y=g+u.height,w=m+u.width,b=g>=0&&g<f,O=y>0&&y<f,S=w>=0&&w<h,P=m>0&&m<=h,T=(b||O)&&(S||P);return T},r.prototype.scrollIntoView=function(t){var e;t===void 0&&(t={});var n=this.isInViewport();if(!n||t.force){var i=this.el;if(t.behavior!=="smooth"){var s=this.getOffsetRect();(e=i.ownerDocument.defaultView)===null||e===void 0||e.scrollTo(0,s.top)}else i.scrollIntoView(Zo({behavior:"smooth",block:"nearest"},t))}},r.prototype.reset=function(){var t=this.el;this.el="",this._ensureElement(),this._setData(),(0,Jt.bG)(t,this.el),this.render()},r.prototype._setData=function(){var t=this.model,e=t.components(),n=this;this.$el.data({model:t,collection:e,view:n})},r.prototype._createElement=function(t){return this.createDoc.createElement(t)},r.prototype.renderChildren=function(){this.updateContent();var t=this.getChildrenContainer(),e=this.childrenView||new oS({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});e.render(t),this.childrenView=e;for(var n=Array.prototype.slice.call(e.el.childNodes),i=0,s=n.length;i<s;i++)t.appendChild(n.shift())},r.prototype.renderAttributes=function(){this.updateAttributes(),this.updateClasses()},r.prototype.onAttrUpdate=function(){},r.prototype.render=function(){return this.renderAttributes(),this.modelOpt.temporary?this:(this.renderChildren(),this.updateScript(),(0,Mt.setViewEl)(this.el,this),this.postRender(),this)},r.prototype.postRender=function(){this.modelOpt.temporary||this.onRender(this._clbObj())},r.getEvents=function(){return(0,D.result)(this.prototype,"events")},r}($t.Ss);const Dr=JM;var ZM=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),QM=function(o){ZM(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype._setAttributes=function(){},r.prototype.renderAttributes=function(){},r.prototype.updateStatus=function(){},r.prototype.updateClasses=function(){},r.prototype.setAttribute=function(){},r.prototype.updateAttributes=function(){},r.prototype.initClasses=function(){},r.prototype.initComponents=function(){},r.prototype.delegateEvents=function(){return this},r.prototype._createElement=function(){return document.createTextNode("")},r.prototype.render=function(){var t=this,e=t.model,n=t.el;return e.opt.temporary?this:(n.textContent=e.content,this)},r}(Dr);const iS=QM;var tL=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),eL=function(o){tL(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype._createElement=function(){return document.createComment(this.model.content)},r}(iS);const rL=eL;var nL=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),oL=function(o){nL(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.tagName=function(){return"div"},r.prototype.initialize=function(t){o.prototype.initialize.call(this,t),this.listenTo(this.model,"change:attributes:src",this.updateSrc)},r.prototype.updateSrc=function(){var t=(0,Jt.I6)(this.el,"iframe")[0];t&&(0,Jt.X6)(t,{src:this.__getSrc()})},r.prototype.render=function(){o.prototype.render.call(this);var t=(0,Jt.a_)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(t),this},r.prototype.__getSrc=function(){return this.model.getAttributes().src||""},r}(Dr);const iL=oL;var aL=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sL=function(o){aL(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.tagName=function(){return"img"},r.prototype.events=function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}},r.prototype.initialize=function(t){o.prototype.initialize.call(this,t),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()},r.prototype.fetchFile=function(){if(!this.modelOpt.temporary){var t=this,e=t.model,n=t.em,i=e.get("file");if(i&&n){var s=n.Assets.FileUploader();s==null||s.uploadFile({dataTransfer:{files:[i]}},function(u){var c=u&&u.data&&u.data[0],f=c&&((0,D.isString)(c)?c:c.src);f&&e.set({src:f})}),e.set("file","")}}},r.prototype.updateSrc=function(){var t=this.model;t.addAttributes({src:t.getSrcResult()}),this.updateClasses()},r.prototype.updateClasses=function(){o.prototype.updateClasses.call(this);var t=this,e=t.el,n=t.classEmpty,i=t.model,s=i.getSrcResult()&&!i.isDefaultSrc(),u=s?"remove":"add";e.classList[u](n)},r.prototype.onActive=function(t){t==null||t.stopPropagation();var e=this,n=e.em,i=e.model,s=n==null?void 0:n.Assets;s&&i.get("editable")&&s.open({select:function(u,c){i.set({src:u.getSrc()}),c&&s.close()},target:i,types:["image"],accept:"image/*"})},r.prototype.onError=function(){var t=this.model.getSrcResult({fallback:!0});t&&(this.el.src=t)},r.prototype.onLoad=function(){this.em.Canvas.refresh({all:!0})},r.prototype.noDrag=function(t){return t.preventDefault(),!1},r.prototype.render=function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var t=this,e=t.$el,n=t.model,i=e.attr("class")||"";return!n.get("src")&&e.attr("class","".concat(i," ").concat(this.classEmpty).trim()),this.postRender(),this},r}(Dr);const Bm=sL;var lL=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ju=function(){return ju=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},ju.apply(this,arguments)},Cf=function(o,r,t,e){function n(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function u(h){try{f(e.next(h))}catch(g){s(g)}}function c(h){try{f(e.throw(h))}catch(g){s(g)}}function f(h){h.done?i(h.value):n(h.value).then(u,c)}f((e=e.apply(o,r||[])).next())})},bf=function(o,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,n,i,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(f){return function(h){return c([f,h])}}function c(f){if(e)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(e=1,n&&(i=f[0]&2?n.return:f[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,f[1])).done)return i;switch(n=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,n=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=r.call(o,t)}catch(h){f=[6,h],n=0}finally{e=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},uL=function(o){lL(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.events=function(){return{dblclick:"onActive",input:"onInput"}},r.prototype.initialize=function(t){o.prototype.initialize.call(this,t),(0,D.bindAll)(this,"disableEditing","onDisable");var e=this.model,n=this.em;this.listenTo(e,"focus",this.onActive),this.listenTo(e,"change:content",this.updateContentText),this.listenTo(e,"sync:content",this.syncContent),this.rte=n==null?void 0:n.RichTextEditor},r.prototype.updateContentText=function(t,e,n){n===void 0&&(n={}),!n.fromDisable&&this.disableEditing()},r.prototype.canActivate=function(){var t=this,e=t.model,n=t.rteEnabled,i=t.em,s=i==null?void 0:i.getEditing(),u=s===e,c=!0,f=!1,h;if((n||!e.get("editable")||u||(f=e.isChildOf("text")))&&(c=!1,f&&!e.get("textable"))){for(var g=e.parent();g&&!g.isInstanceOf("text");)g=g.parent();g&&g.get("editable")?h=g:c=!0}return{result:c,delegate:h}},r.prototype.onActive=function(t){return Cf(this,void 0,void 0,function(){var e,n,i,s,u,c,f,h,g,m,y;return bf(this,function(w){switch(w.label){case 0:return e=this,n=e.rte,i=e.em,s=this.canActivate(),u=s.result,c=s.delegate,u?((y=t==null?void 0:t.stopPropagation)===null||y===void 0||y.call(t),f=this,[4,this.getContent()]):(c&&((m=t==null?void 0:t.stopPropagation)===null||m===void 0||m.call(t),i.setSelected(c),c.trigger("active",t)),[2]);case 1:if(f.lastContent=w.sent(),!n)return[3,5];w.label=2;case 2:return w.trys.push([2,4,,5]),h=this,[4,n.enable(this,this.activeRte,{event:t})];case 3:return h.activeRte=w.sent(),[3,5];case 4:return g=w.sent(),i.logError(g),[3,5];case 5:return this.toggleEvents(!0),[2]}})})},r.prototype.onDisable=function(t){this.disableEditing(t)},r.prototype.disableEditing=function(){return Cf(this,arguments,void 0,function(t){var e,n,i,s,u,c,f,h;return t===void 0&&(t={}),bf(this,function(g){switch(g.label){case 0:if(e=this,n=e.model,i=e.rte,s=e.activeRte,u=e.em,c=n&&n.get("editable"),!i)return[3,8];g.label=1;case 1:return g.trys.push([1,3,,4]),[4,i.disable(this,s,t)];case 2:return g.sent(),[3,4];case 3:return f=g.sent(),u.logError(f),[3,4];case 4:return h=c,h?[4,this.getContent()]:[3,6];case 5:h=g.sent()!==this.lastContent,g.label=6;case 6:return h?[4,this.syncContent(t)]:[3,8];case 7:g.sent(),this.lastContent="",g.label=8;case 8:return this.toggleEvents(),[2]}})})},r.prototype.getContent=function(){return Cf(this,void 0,void 0,function(){var t,e,n,i;return bf(this,function(s){switch(s.label){case 0:return t=this,e=t.rte,n=t.activeRte,i="",e?[4,e.getContent(this,n)]:[3,2];case 1:i=s.sent(),s.label=2;case 2:return[2,i]}})})},r.prototype.syncContent=function(){return Cf(this,arguments,void 0,function(t){var e,n,i,s,u,c,f;return t===void 0&&(t={}),bf(this,function(h){switch(h.label){case 0:return e=this,n=e.model,i=e.rte,s=e.rteEnabled,!s&&!t.force?[2]:[4,this.getContent()];case 1:return u=h.sent(),c=n.components(),f=ju({fromDisable:1},t),n.set("content","",f),i!=null&&i.customRte&&!i.customRte.parseContent?(c.length&&c.reset(void 0,ju(ju({},t),{keepIds:qs(c)})),n.set("content",u,f)):c.resetFromString(u,t),[2]}})})},r.prototype.insertComponent=function(t,e){var n;e===void 0&&(e={});var i=this,s=i.model,u=i.el,c=u.ownerDocument,f=c.getSelection();if(f!=null&&f.rangeCount){var h=f.getRangeAt(0),g=h.startContainer,m=h.startOffset,y=(0,Mt.getComponentModel)(g),w=[];if(y&&(!((n=y.is)===null||n===void 0)&&n.call(y,"textnode"))){var b=y.collection;b.forEach(function(P){if(P===y){var T="textnode",j=e.useDomContent?g.textContent||"":P.content;w.push({type:T,content:j.slice(0,m)}),w.push(t),w.push({type:T,content:j.slice(m)})}else w.push(P)});var O=w.filter(Boolean),S=O.indexOf(t);return b.reset(O,e),b.at(S)}}return s.append(t,e)},r.prototype.onInput=function(){var t=this.em,e="component",n=["".concat(e,":update"),"".concat(e,":input")].join(" ");t&&t.trigger(n,this.model)},r.prototype.disablePropagation=function(t){t.stopPropagation()},r.prototype.toggleEvents=function(t){var e=this,n=e.em,i=e.model,s=e.$el,u={on:Jt.on,off:Jt.AU},c=t?"on":"off";n.setEditing(t?this:!1),this.rteEnabled=!!t;var f=[this.el.ownerDocument,document];if(u.off(f,"mousedown",this.onDisable),u[c](f,"mousedown",this.onDisable),n[c]("toolbar:run:before",this.onDisable),i&&(i[c]("removed",this.onDisable),i.trigger("rte:".concat(t?"enable":"disable"))),s==null||s.off("mousedown",this.disablePropagation),s&&s[c]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var h=this.el;h;)h.draggable=!t,h=h.parentNode,h&&h.tagName=="BODY"&&(h=0)},r}(Dr);const aS=uL;var cL=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fL=function(o){cL(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.render=function(){return o.prototype.render.call(this),this.el.addEventListener("click",this.prevDef,!0),this},r}(aS);const sS=fL;var dL=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pL=function(o){dL(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(sS);const hL=pL;var vL=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),gL=function(o){vL(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.tagName=function(){return"div"},r.prototype.events=function(){return{}},r.prototype.initialize=function(t){o.prototype.initialize.call(this,t),this.classEmpty=this.ppfx+"plh-map"},r.prototype.updateSrc=function(){this.getIframe().src=this.model.get("src")},r.prototype.getIframe=function(){if(!this.iframe){var t=document.createElement("iframe");t.src=this.model.get("src"),t.frameBorder="0",t.style.height="100%",t.style.width="100%",t.className=this.ppfx+"no-pointer",this.iframe=t}return this.iframe},r.prototype.render=function(){return o.prototype.render.call(this),this.updateClasses(),this.el.appendChild(this.getIframe()),this},r}(Bm);const mL=gL;var yL=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_L=function(o){yL(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.tagName=function(){return"script"},r.prototype.events=function(){return{}},r}(Dr);const wL=_L;var CL=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bL=function(o){CL(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype._createElement=function(t){return document.createElementNS("http://www.w3.org/2000/svg",t)},r}(Dr);const ow=bL;var xL=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),SL=function(o){xL(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(Dr);const OL=SL;var TL=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),EL=function(o){TL(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(Dr);const PL=EL;var kL=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),AL=function(o){kL(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(Dr);const ML=AL;var LL=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),DL=function(o){LL(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(Dr);const jL=DL;var NL=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),IL=function(o){NL(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(Dr);const RL=IL;var FL=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),VL=function(o){FL(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.events=function(){return{}},r}(Dr);const UL=VL;var HL=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),BL=function(o){HL(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.tagName=function(){return"div"},r.prototype.events=function(){return{}},r.prototype.initialize=function(){Dr.prototype.initialize.apply(this,arguments);var t=this.model,e=["loop","autoplay","controls","color","rel","modestbranding","poster"],n=e.map(function(i){return"change:".concat(i)}).join(" ");this.listenTo(t,"change:provider",this.updateProvider),this.listenTo(t,"change:src",this.updateSrc),this.listenTo(t,n,this.updateVideo)},r.prototype.updateProvider=function(){var t=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(t))},r.prototype.updateSrc=function(){var t=this,e=t.model,n=t.videoEl;if(n){var i=e.get("provider"),s=e.get("src");switch(i){case"yt":s=e.getYoutubeSrc();break;case"ytnc":s=e.getYoutubeNoCookieSrc();break;case"vi":s=e.getVimeoSrc();break}n.src=s}},r.prototype.updateVideo=function(){var t=this,e=t.model,n=t.videoEl,i=e.get("provider");switch(i){case"yt":case"ytnc":case"vi":e.trigger("change:videoId");break;default:if(n){var s=n;s.loop=e.get("loop"),s.autoplay=e.get("autoplay"),s.controls=e.get("controls"),s.poster=e.get("poster")}}},r.prototype.renderByProvider=function(t){var e;switch(t){case"yt":e=this.renderYoutube();break;case"ytnc":e=this.renderYoutubeNoCookie();break;case"vi":e=this.renderVimeo();break;default:e=this.renderSource()}return this.videoEl=e,e},r.prototype.renderSource=function(){var t=document.createElement("video");return t.src=this.model.get("src"),this.initVideoEl(t),t},r.prototype.renderYoutube=function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},r.prototype.renderYoutubeNoCookie=function(){var t=document.createElement("iframe");return t.src=this.model.getYoutubeNoCookieSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},r.prototype.renderVimeo=function(){var t=document.createElement("iframe");return t.src=this.model.getVimeoSrc(),t.frameBorder="0",t.setAttribute("allowfullscreen","true"),this.initVideoEl(t),t},r.prototype.initVideoEl=function(t){t.className=this.ppfx+"no-pointer",t.style.height="100%",t.style.width="100%"},r.prototype.render=function(){Dr.prototype.render.apply(this),this.updateClasses();var t=this.model.get("provider");return this.el.appendChild(this.renderByProvider(t)),this.updateVideo(),this},r}(Bm);const zL=BL;var WL=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),KL=function(o){WL(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.tagName=function(){return"div"},r}(Dr);const $L=KL;var GL=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Kd=function(){return Kd=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Kd.apply(this,arguments)},YL=function(o){GL(r,o);function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=o.apply(this,t)||this;n.refreshDbn=(0,D.debounce)(function(){return n.refresh()},0);var i=n.events;return n.on(i.update,n.onUpdate),n.on(i.updateInside,n.onUpdateDeep),n}return r.prototype.removeChildren=function(t,e,n){var i;n===void 0&&(n={}),o.prototype.removeChildren.call(this,t,e,n),(i=co(t))===null||i===void 0||i.forEach(function(s){return Rm(s,{skipRefs:!0})}),this.__trgEvent(this.events.symbolMainRemove,{component:t})},r.prototype.onAdd=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.prototype.onAdd.apply(this,t);var n=t[0];this.__trgEvent(this.events.symbolMainAdd,{component:n})},r.prototype.onUpdate=function(t){this.__trgEvent(this.events.symbolMainUpdate,t)},r.prototype.onUpdateDeep=function(t){this.__trgEvent(this.events.symbolMainUpdateDeep,t)},r.prototype.refresh=function(){var t=this,e=t.em,n=t.events;e.trigger(n.symbol)},r.prototype.__trgEvent=function(t,e,n){n===void 0&&(n=!1);var i=this,s=i.em,u=i.events,c=n?u.symbolInstance:u.symbolMain;s.trigger(t,e),s.trigger(c,Kd(Kd({},e),{event:t})),this.refreshDbn()},r}(uc);const XL=YL;var qL=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),un=function(){return un=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},un.apply(this,arguments)},JL=function(o,r){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&r.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(o);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(o,e[n])&&(t[e[n]]=o[e[n]]);return t},ZL=function(o,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,i;e<n;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return o.concat(i||Array.prototype.slice.call(r))},Nu;(function(o){o[o.InvalidSource=0]="InvalidSource",o[o.SourceReject=1]="SourceReject",o[o.TargetReject=2]="TargetReject"})(Nu||(Nu={}));var QL=function(o){qL(r,o);function r(t){var e=o.call(this,t,"DomComponents",new uc(void 0,{em:t}))||this;e.componentTypes=[{id:"cell",model:LM,view:PL},{id:"row",model:HM,view:RL},{id:"table",model:EM,view:UL},{id:"thead",model:FM,view:jL},{id:"tbody",model:Hm,view:OL},{id:"tfoot",model:NM,view:ML},{id:"map",model:gM,view:mL},{id:"link",model:pM,view:sS},{id:"label",model:cM,view:hL},{id:"video",model:WM,view:zL},{id:"image",model:Vm,view:Bm},{id:"script",model:_M,view:wL},{id:"svg-in",model:SM,view:ow},{id:"svg",model:nS,view:ow},{id:"iframe",model:nM,view:iL},{id:"comment",model:tM,view:rL},{id:"textnode",model:rS,view:iS},{id:cl,model:AA,view:Dr},{id:"wrapper",model:GM,view:$L},{id:"text",model:Um,view:aS},{id:"default",model:hn,view:Dr}],e.componentsById={},e.Component=hn,e.Components=uc,e.ComponentView=Dr,e.ComponentsView=oS,e.storageKey="components",e.keySymbols="symbols",e.events=dn.I;var n=e.config;e.symbols=new XL([],{em:t,config:n,domc:e}),t&&(e.config.components=t.config.components||e.config.components);for(var i in Q_)i in e.config||(e.config[i]=Q_[i]);var s=e.config.pStylePrefix;if(s&&(e.config.stylePrefix=s+e.config.stylePrefix),t){t.get("Parser").compTypes=e.componentTypes,t.on("change:componentHovered",e.componentHovered,e);var u=t.get("selected");t.listenTo(u,"add",function(c,f,h){return e.selectAdd(u.getComponent(c),h)}),t.listenTo(u,"remove",function(c,f,h){return e.selectRemove(u.getComponent(c),h)})}return e}return r.prototype.postLoad=function(){var t=this,e=t.em,n=t.symbols,i=e.UndoManager;i.add(n)},r.prototype.load=function(t){var e=this,n=this.loadProjectData(t,{onResult:function(i){var s=e.getWrapper();if(s||(e.em.Pages.add({},{select:!0}),s=e.getWrapper()),(0,D.isArray)(i))i.length&&s.components(i);else{var u=i.components,c=u===void 0?[]:u,f=JL(i,["components"]);s.set(f),s.components(c)}}});return this.symbols.reset(t[this.keySymbols]||[]),n},r.prototype.store=function(){var t;return t={},t[this.keySymbols]=this.symbols,t},r.prototype.getComponent=function(){var t=this.em.Pages.getSelected(),e=t==null?void 0:t.getMainFrame();return e==null?void 0:e.getComponent()},r.prototype.getWrapper=function(){return this.getComponent()},r.prototype.getComponents=function(){var t=this.getWrapper();return t==null?void 0:t.components()},r.prototype.addComponent=function(t,e){return e===void 0&&(e={}),this.getComponents().add(t,e)},r.prototype.render=function(){var t;return(t=this.componentView)===null||t===void 0?void 0:t.render().el},r.prototype.clear=function(t){t===void 0&&(t={});var e=this.getComponents();return e==null||e.filter(Boolean).forEach(function(n){return n.remove(t)}),this},r.prototype.setComponents=function(t,e){e===void 0&&(e={}),this.clear(e).addComponent(t,e)},r.prototype.addType=function(t,e){var n=this.em,i=e.model,s=i===void 0?{}:i,u=e.view,c=u===void 0?{}:u,f=e.isComponent,h=e.extend,g=e.extendView,m=e.extendFn,y=m===void 0?[]:m,w=e.extendFnView,b=w===void 0?[]:w,O=e.block,S=this.getType(t),P=this.getType(h),T=this.getType(g),j=P||S||this.getType("default"),X=j.model,at=T?T.view:j.view,ft=function(W,z,it){return W.reduce(function(L,_t){var nt=z[_t],Ct=it.prototype[_t];return nt&&Ct&&(L[_t]=function(){for(var Dt=[],st=0;st<arguments.length;st++)Dt[st]=arguments[st];Ct.bind(this).apply(void 0,Dt),nt.bind(this).apply(void 0,Dt)}),L},{})};if(typeof s=="object"){var Q={defaults:s.defaults};delete s.defaults;var K=new Set(X.typeExtends);K.add(X.getDefaults().type),e.model=X.extend(un(un({},s),ft(y,s,X)),{typeExtends:K,isComponent:S&&!P&&!f?X.isComponent:f||function(){return 0}}),Object.defineProperty(e.model.prototype,"defaults",{get:function(){return un(un({},(0,D.result)(X.prototype,"defaults")||{}),(0,D.result)(Q,"defaults")||{})}})}if(typeof c=="object"&&(e.view=at.extend(un(un({},c),ft(b,c,at)))),S?(S.model=e.model,S.view=e.view):(e.id=t,this.componentTypes.unshift(e)),O){var rt={id:t,label:t,content:{type:t}},H=O===!0?rt:un(un({},rt),O);n.Blocks.add(H.id||t,H)}var V="component:type:".concat(S?"update":"add");return n==null||n.trigger(V,S||e),this},r.prototype.getType=function(t){for(var e=this.componentTypes,n=0;n<e.length;n++){var i=e[n].id;if(i==t)return e[n]}},r.prototype.removeType=function(t){var e=this.componentTypes,n=this.getType(t);if(n){var i=e.indexOf(n);return e.splice(i,1),n}},r.prototype.getTypes=function(){return this.componentTypes},r.prototype.selectAdd=function(t,e){var n=this;e===void 0&&(e={}),t&&(t.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(i){return n.em.trigger(i,t,e)}))},r.prototype.selectRemove=function(t,e){var n=this;e===void 0&&(e={}),t&&(this.em,t.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(i){return n.em.trigger(i,t,e)}))},r.prototype.componentHovered=function(){var t=this.em,e=t.get("componentHovered"),n=t.previous("componentHovered"),i="hovered";n&&n.get("status")==i&&n.set({status:"",state:""}),e&&(0,D.isEmpty)(e.get("status"))&&e.set("status",i)},r.prototype.getShallowWrapper=function(){var t=this,e=t.shallow,n=t.em;if(!e&&n){var i=n.shallow;if(!i)return;var s=i.Components;if(s.componentTypes=this.componentTypes,e=s.getWrapper(),e){var u=[Wf,bg].join(" ");e.on(u,(0,D.debounce)(function(){return e==null?void 0:e.components("")},100))}this.shallow=e}return e},r.prototype.isComponent=function(t){return(0,Mt.isComponent)(t)},r.prototype.addSymbol=function(t){if(!((0,D.isSymbol)(t)&&!os(t))){var e=t.clone({symbol:!0});return yd(e)&&this.symbols.add(e),this.em.trigger("component:toggled"),e}},r.prototype.getSymbols=function(){return ZL([],this.symbols.models,!0)},r.prototype.detachSymbol=function(t){_d(t)&&Rm(t)},r.prototype.getSymbolInfo=function(t,e){e===void 0&&(e={});var n=yd(t),i=is(t),s=!!i,u=co(n?t:i)||[],c=i||(n?t:void 0),f=Xa(t,{changed:e.withChanges}),h=n||s,g=h&&os(t);return{isSymbol:h,isMain:n,isInstance:s,isRoot:g,main:c,instances:u,relatives:f||[]}},r.prototype.canMove=function(t,e,n){var i={result:!1,reason:Nu.InvalidSource,target:t,source:null};if(!e||!t)return i;var s=(0,Mt.isComponent)(e)?e:null;if(!s){var u=this.getShallowWrapper();s=(u==null?void 0:u.append(e)[0])||null}if(i.source=s,!s)return i;var c=s.get("draggable");if((0,D.isFunction)(c))c=!!c(s,t,n);else{var f=t.getEl();c=(0,D.isArray)(c)?c.join(","):c,c=(0,D.isString)(c)?f==null?void 0:f.matches(c):c}if(!c)return un(un({},i),{reason:Nu.SourceReject});var h=t.get("droppable");if((0,D.isFunction)(h))h=!!h(s,t,n);else if(h===!1&&t.isInstanceOf("text")&&s.get("textable"))h=!0;else{var f=s.getEl();h=(0,D.isArray)(h)?h.join(","):h,h=(0,D.isString)(h)?f==null?void 0:f.matches(h):h}var g=[t].concat(t.parents()).indexOf(s)>-1;return!h||g?un(un({},i),{reason:Nu.TargetReject}):un(un({},i),{result:!0})},r.prototype.allById=function(){return this.componentsById},r.prototype.getById=function(t){return this.componentsById[t]||null},r.prototype.destroy=function(){var t,e=this.allById();Object.keys(e).forEach(function(n){return e[n]&&e[n].remove()}),(t=this.componentView)===null||t===void 0||t.remove(),[this.em,this.componentsById,this.componentView].forEach(function(n){return{}})},r}(Sa);const t2=QL;var e2={stylePrefix:"css-",rules:[]};const r2=e2;var n2=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),o2=Number.MAX_VALUE,i2=function(o){var r=/(-?\d*\.?\d+)\w{0,}/.exec(o);return r?r[0]:""},a2=function(o){n2(r,o);function r(){var t=o.call(this)||this;return(0,D.bindAll)(t,"sortRules"),t.compCls=[],t.ids=[],t}return r.prototype.buildFromModel=function(t,e){var n=this;e===void 0&&(e={});var i="",s=this.em,u=s&&s.getConfig().avoidInlineStyle,c=t.styleToString(),f=t.classes;this.ids.push("#".concat(t.getId())),f.forEach(function(g){return n.compCls.push(g.getFullName())}),!u&&c&&(i="#".concat(t.getId(),"{").concat(c,"}"));var h=t.components();return h.forEach(function(g){return i+=n.buildFromModel(g,e)}),i},r.prototype.build=function(t,e){var n=this;e===void 0&&(e={});var i=e.json,s=e.em,u=e.cssc||(s==null?void 0:s.Css);this.em=s,this.compCls=[],this.ids=[],this.model=t;var c=[],f=t?this.buildFromModel(t,e):"",h=(0,D.isUndefined)(e.clearStyles)&&s?s.getConfig().clearStyles:e.clearStyles;if(u){var g=e.rules||u.getAll(),m={},y=[];e.onlyMatched&&t&&(0,Mt.hasWin)()&&(g=this.matchedRules(t,g)),g.forEach(function(w){var b=w.getAtRule();if(b){var O=m[b];O?O.push(w):m[b]=[w];return}var S=n.buildFromRule(w,y,e);i?c.push(S):f+=S}),this.sortMediaObject(m).forEach(function(w){var b="",O=w.key,S=w.value;S.forEach(function(P){var T=n.buildFromRule(P,y,e);P.get("singleAtRule")?f+="".concat(O,"{").concat(T,"}"):b+=T,i&&c.push(T)}),b&&(f+="".concat(O,"{").concat(b,"}"))}),s&&h&&g.remove&&g.remove(y)}return i?c.filter(function(w){return w}):f},r.prototype.buildFromRule=function(t,e,n){var i=this,s;n===void 0&&(n={});var u="",c=this.model,f=t.selectorsToString({skipAdd:1}),h=t.get("selectorsAdd"),g=t.get("singleAtRule"),m;if((s=t.get("selectors"))===null||s===void 0||s.forEach(function(w){var b=w.getFullName();(i.compCls.indexOf(b)>=0||i.ids.indexOf(b)>=0||n.keepUnusedStyles)&&(m=1)}),f&&m||h||g||!c){var y=t.getDeclaration({body:1});y&&(n.json?u=t:u+=y)}else e.push(t);return u},r.prototype.matchedRules=function(t,e){var n=this,i=t.getEl(),s=[];return e.forEach(function(u){try{u.selectorsToString().split(",").some(function(c){return i==null?void 0:i.matches(n.__cleanSelector(c))})&&s.push(u)}catch{}}),t.components().forEach(function(u){s=s.concat(n.matchedRules(u,e))}),s=s.filter(function(u,c){return s.indexOf(u)===c}),s},r.prototype.getQueryLength=function(t){var e=/(-?\d*\.?\d+)\w{0,}/.exec(t);return e?parseFloat(e[1]):o2},r.prototype.sortMediaObject=function(t){var e=this;t===void 0&&(t={});var n=[];return(0,D.each)(t,function(i,s){return n.push({key:s,value:i})}),n.sort(function(i,s){var u=[i.key,s.key].every(function(h){return h.indexOf("min-width")!==-1}),c=u?i.key:s.key,f=u?s.key:i.key;return e.getQueryLength(c)-e.getQueryLength(f)})},r.prototype.sortRules=function(t,e){var n=function(c){return c.get("mediaText")||""},i=[n(t),n(e)].every(function(c){return c.indexOf("min-width")!==-1}),s=n(i?t:e),u=n(i?e:t);return this.getQueryLength(s)-this.getQueryLength(u)},r.prototype.__cleanSelector=function(t){return t.split(" ").map(function(e){return e.split(":")[0]}).join(" ")},r}($t.Kx);const s2=a2;var l2=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Iu=function(){return Iu=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Iu.apply(this,arguments)},u2=function(o,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,i;e<n;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return o.concat(i||Array.prototype.slice.call(r))},ev=((0,Mt.hasWin)()?window:{}).CSS,c2=function(o){l2(r,o);function r(t,e){e===void 0&&(e={});var n=o.call(this,t)||this;return n.config=t||{},n.opt=e,n.em=e.em,n.ensureSelectors(null,null,{}),n.on("change",n.__onChange),n}return r.prototype.defaults=function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}},r.prototype.__onChange=function(t,e){var n=this.em,i=this.changedAttributes();i&&!(0,Mt.isEmptyObj)(i)&&(n==null||n.changesUp(e))},r.prototype.clone=function(){var t=Iu({},this.opt),e=Iu({},this.attributes);return e.selectors=this.get("selectors").map(function(n){return n.clone()}),new this.constructor(e,t)},r.prototype.ensureSelectors=function(t,e,n){var i=this.em,s=i==null?void 0:i.Selectors,u=[this,"change:selectors",this.ensureSelectors],c=this.getSelectors();if(this.stopListening.apply(this,u),c.models&&(c=u2([],c.models,!0)),c=(0,D.isString)(c)?[c]:c,Array.isArray(c)){var f=c.filter(function(h){return h}).map(function(h){return s?s.add(h):h});c=new la(f)}this.set("selectors",c,n),this.listenTo.apply(this,u)},r.prototype.getAtRule=function(){var t=this.get("atRuleType"),e=this.get("mediaText"),n=t?"@".concat(t):e?"@media":"";return n+(e&&n?" ".concat(e):"")},r.prototype.selectorsToString=function(t){t===void 0&&(t={});var e=[],n=this.get("state"),i=this.get("selectorsAdd"),s={escape:function(f){return ev&&ev.escape?ev.escape(f):f}},u=this.getSelectors().getFullString(0,s),c=n&&!t.skipState?":".concat(n):"";return u&&e.push("".concat(u).concat(c)),i&&!t.skipAdd&&e.push(i),e.join(", ")},r.prototype.getDeclaration=function(t){t===void 0&&(t={});var e="",n=this.attributes.important,i=this.selectorsToString(t),s=this.styleToString(Iu({important:n},t)),u=this.get("singleAtRule");return(i||u)&&(s||t.allowEmpty)&&(e=u?s:"".concat(i,"{").concat(s,"}")),e},r.prototype.getDevice=function(){var t=this.em,e=this.attributes,n=e.atRuleType,i=e.mediaText,s=(t==null?void 0:t.Devices.getDevices())||[],u=s.filter(function(c){return c.getWidthMedia()===""})[0];return n!=="media"||!i?u||null:s.filter(function(c){return c.getWidthMedia()===i2(i)})[0]||null},r.prototype.getState=function(){var t=this.em,e=this.get("state"),n=(t==null?void 0:t.Selectors.getStates())||[];return n.filter(function(i){return i.getName()===e})[0]||null},r.prototype.getComponent=function(){var t,e=this.getSelectors(),n=e.length==1&&e.at(0),i=n&&n.isId()&&n.get("name");return i&&((t=this.em)===null||t===void 0?void 0:t.Components.getById(i))||null},r.prototype.toCSS=function(t){t===void 0&&(t={});var e="",n=this.getAtRule(),i=this.getDeclaration(t);return(i||t.allowEmpty)&&(e=i),n&&e&&(e="".concat(n,"{").concat(e,"}")),e},r.prototype.toJSON=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=$t.Kx.prototype.toJSON.apply(this,e);if(!((t=this.em)===null||t===void 0)&&t.getConfig().avoidDefaults){var s=this.defaults();(0,D.forEach)(s,function(u,c){i[c]===u&&delete i[c]}),delete i.style.__p,(0,D.isEmpty)(i.selectors)&&delete i.selectors,(0,D.isEmpty)(i.style)&&delete i.style}return i},r.prototype.compare=function(t,e,n,i){var s;i===void 0&&(i={});var u=e||"",c=n||"",f=i.selectorsAdd||"",h=i.atRuleType||"",g=!(0,D.isArray)(t)&&!t.models?[t]:t.models||t;c&&!h&&(h="media");var m=g.map(function(O){return O.getFullName()}),y=(s=this.get("selectors"))===null||s===void 0?void 0:s.map(function(O){return O.getFullName()}),w=m.slice().sort(),b=y.slice().sort();return!(m.length!==y.length||!w.every(function(O,S){return O===b[S]})||this.get("state")!==u||this.get("mediaText")!==c||this.get("selectorsAdd")!==f||this.get("atRuleType")!==h)},r}(Kx);const lS=c2;var f2=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),uS=function(o){f2(r,o);function r(t,e){var n=o.call(this,t)||this;return n.editor=e==null?void 0:e.em,setTimeout(function(){n.on("remove",n.onRemove),n.on("add",n.onAdd)}),n}return r.prototype.toJSON=function(t){var e=$t.pM.prototype.toJSON.call(this,t);return e.filter(function(n){return n.style&&!n.shallow})},r.prototype.onAdd=function(t,e,n){t.ensureSelectors(t,e,n)},r.prototype.onRemove=function(t){var e=this.editor;e.stopListening(t),e.UndoManager.remove(t)},r.prototype.add=function(t,e){return e===void 0&&(e={}),typeof t=="string"&&(t=this.editor.get("Parser").parseCss(t)),e.em=this.editor,$t.pM.prototype.add.apply(this,[t,e])},r}($t.pM);const d2=uS;uS.prototype.model=lS;var p2=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),za=function(){return za=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},za.apply(this,arguments)},h2=function(o,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,i;e<n;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return o.concat(i||Array.prototype.slice.call(r))},v2=function(o){p2(r,o);function r(t){var e=o.call(this,t,"CssComposer",null,{},r2)||this;e.Selectors=la,e.storageKey="styles";var n=e.config,i=n.pStylePrefix;return i&&(n.stylePrefix=i+n.stylePrefix),n.rules=e.em.config.style||n.rules||"",e.rules=new d2([],n),e}return r.prototype.onLoad=function(){this.rules.add(this.config.rules,{silent:!0})},r.prototype.postLoad=function(){var t,e=(t=this.em)===null||t===void 0?void 0:t.get("UndoManager");e&&e.add(this.getAll())},r.prototype.store=function(){return this.getProjectData()},r.prototype.load=function(t){return this.loadProjectData(t,{all:this.rules})},r.prototype.add=function(t,e,n,i,s){i===void 0&&(i={}),s===void 0&&(s={});var u=e||"",c=n||"",f=za({},i),h=this.get(t,u,c,f);return h&&h.config&&!h.config.singleAtRule||(f.state=u,f.mediaText=c,f.selectors=[],c&&!f.atRuleType&&(f.atRuleType="media"),h=new lS(f,this.config),h.get("selectors").add(t,s),this.rules.add(h,s)),h},r.prototype.get=function(t,e,n,i){var s=t;if((0,D.isString)(t)){var u=this.em.Selectors,c=t.split(",")[0].trim(),f=this.em.Parser.parserCss.checkNode({selectors:c})[0];s=u.get(f.selectors)}return this.rules.find(function(h){return h.compare(s,e,n,i)})||null},r.prototype.getAll=function(){return this.rules},r.prototype.addCollection=function(t,e,n){e===void 0&&(e={}),n===void 0&&(n={});var i=this.em,s=[];(0,D.isString)(t)&&(t=i.Parser.parseCss(t));for(var u=t instanceof Array?t:[t],c=0,f=u.length;c<f;c++){var h=u[c]||{};if(h.selectors){var g=i==null?void 0:i.Selectors;g||console.warn("Selector Manager not found");for(var m=h.selectors,y=m instanceof Array?m:[m],w=[],b=0,O=y.length;b<O;b++){var S=g.add(y[b]);w.push(S)}var P=this.get(w,h.state,h.mediaText,h),T=this.add(w,h.state,h.mediaText,h,e),j=!P||!e.avoidUpdateStyle,X=h.style||{};if((0,Mt.isObject)(n)&&T.set(n,e),j){var at=e.extend?za(za({},T.get("style")),X):X;T.set("style",at,e)}s.push(T)}}return s},r.prototype.addRules=function(t){return this.addCollection(t)},r.prototype.setRule=function(t,e,n){e===void 0&&(e={}),n===void 0&&(n={});var i=n.atRuleType,s=n.atRuleParams,u=this.em.Parser.parserCss.checkNode({selectors:t,style:e})[0],c=u.state,f=u.selectorsAdd,h=this.em.Selectors,g=h.add(u.selectors),m=this.add(g,c,s,{selectorsAdd:f,atRule:i});return n.addStyles?m.addStyle(e,n):m.setStyle(e,n),m},r.prototype.getRule=function(t,e){e===void 0&&(e={});var n=this.em,i=n.Selectors,s=n.Parser.parserCss.checkNode({selectors:t})[0],u=i.get(s.selectors),c=s.state,f=s.selectorsAdd,h=e.atRuleType,g=e.atRuleParams;return u?this.get(u,c,g,{selectorsAdd:f,atRuleType:h}):void 0},r.prototype.getRules=function(t){var e=this.getAll();if(!t)return h2([],e.models,!0);var n={sort:!0},i=(0,D.isString)(t)?t.split(",").map(function(u){return u.trim()}):t,s=e.filter(function(u){return i.indexOf(u.getSelectors().getFullString(null,n))>=0});return s},r.prototype.setIdRule=function(t,e,n){e===void 0&&(e={}),n===void 0&&(n={});var i=n.addOpts,s=i===void 0?{}:i,u=n.mediaText,c=n.state||"",f=(0,D.isUndefined)(u)?this.em.getCurrentMedia():u,h=this.em.Selectors,g=h.add({name:t,type:En.TYPE_ID},s),m=this.add(g,c,f,{},s);return m.setStyle(e,za(za({},n),s)),m},r.prototype.getIdRule=function(t,e){e===void 0&&(e={});var n=e.mediaText,i=e.state||"",s=(0,D.isUndefined)(n)?this.em.getCurrentMedia():n,u=this.em.Selectors.get(t,En.TYPE_ID);return u&&this.get(u,i,s)},r.prototype.setClassRule=function(t,e,n){e===void 0&&(e={}),n===void 0&&(n={});var i=n.state||"",s=n.mediaText||this.em.getCurrentMedia(),u=this.em.Selectors,c=u.add({name:t,type:En.TYPE_CLASS}),f=this.add(c,i,s);return f.setStyle(e,n),f},r.prototype.getClassRule=function(t,e){e===void 0&&(e={});var n=e.state||"",i=e.mediaText||this.em.getCurrentMedia(),s=this.em.Selectors.get(t,En.TYPE_CLASS);return s&&this.get(s,n,i)},r.prototype.remove=function(t,e){var n=(0,D.isString)(t)?this.getRules(t):t,i=this.getAll().remove(n,e);return(0,D.isArray)(i)?i:[i]},r.prototype.clear=function(t){return t===void 0&&(t={}),this.getAll().reset([],t),this},r.prototype.getComponentRules=function(t,e){e===void 0&&(e={});var n=e.state,i=e.mediaText,s=e.current;s&&(n=this.em.get("state")||"",i=this.em.getCurrentMedia());var u=t.getId(),c=this.getAll().filter(function(f){return!(0,D.isUndefined)(n)&&f.get("state")!==n||!(0,D.isUndefined)(i)&&f.get("mediaText")!==i?!1:f.getSelectorsString()==="#".concat(u)});return c},r.prototype.render=function(){var t;return(t=this.rulesView)===null||t===void 0||t.remove(),this.rulesView=new Bx({collection:this.rules,config:this.config}),this.rulesView.render().el},r.prototype.checkId=function(t,e){e===void 0&&(e={});var n=e.idMap,i=n===void 0?{}:n,s=[];if(!Object.keys(i).length)return s;var u=Array.isArray(t)?t:[t];return u.forEach(function(c){var f=c.selectors;if(f&&f.length==1){var h=f[0];if((0,D.isString)(h)){if(h[0]==="#"){var g=h.substring(1),m=i[g];g&&m&&(f[0]="#".concat(m),s.push(c))}}else if(h.name&&h.type===En.TYPE_ID){var m=i[h.name];m&&(h.name=m,s.push(c))}}}),s},r.prototype.destroy=function(){var t;this.rules.reset(),this.rules.stopListening(),(t=this.rulesView)===null||t===void 0||t.remove()},r}(Sa);const g2=v2;var m2={appendTo:"",blocks:[],appendOnClick:!1,custom:!1};const y2=m2;var _2=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),w2=function(o){_2(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return{label:"",content:"",media:"",category:"",activate:!1,select:void 0,resetId:!1,disable:!1,onClick:void 0,attributes:{}}},Object.defineProperty(r.prototype,"category",{get:function(){var t=this.get("category");return t instanceof yc?t:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"parent",{get:function(){return this.collection},enumerable:!1,configurable:!0}),r.prototype.getId=function(){return this.id},r.prototype.getLabel=function(){return this.get("label")},r.prototype.getMedia=function(){return this.get("media")},r.prototype.getContent=function(){return this.get("content")},r.prototype.getCategoryLabel=function(){var t=this.get("category");return(0,D.isFunction)(t==null?void 0:t.get)?t.get("label"):t!=null&&t.label?t==null?void 0:t.label:t},r}($t.Kx);const cS=w2;var C2=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fS=function(o){C2(r,o);function r(t,e){var n=o.call(this,t)||this;return n.em=e.em,n.on("add",n.handleAdd),n}return r.prototype.getCategories=function(){return this.em.Blocks.getCategories()},r.prototype.handleAdd=function(t){this.initCategory(t)},r}(Qx);const xf=fS;fS.prototype.model=cS;var Ru;(function(o){o.add="block:add",o.remove="block:remove",o.removeBefore="block:remove:before",o.update="block:update",o.dragStart="block:drag:start",o.drag="block:drag",o.dragEnd="block:drag:stop",o.categoryUpdate="block:category:update",o.custom="block:custom",o.all="block"})(Ru||(Ru={}));var b2=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),x2=function(o){b2(r,o);function r(t,e){e===void 0&&(e={});var n=o.call(this,t)||this,i=n.model;return n.em=e.em,n.config=e,n.endDrag=n.endDrag.bind(n),n.ppfx=e.pStylePrefix||"",n.listenTo(i,"destroy remove",n.remove),n.listenTo(i,"change",n.render),n}return r.prototype.events=function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}},r.prototype.__getModule=function(){return this.em.Blocks},r.prototype.handleClick=function(t){var e=this,n=e.config,i=e.model,s=e.em,u=i.get("onClick")||n.appendOnClick;if(s.trigger("block:click",i,t),u){if((0,D.isFunction)(u))return u(i,s==null?void 0:s.getEditor(),{event:t})}else return;var c=n.getSorter(),f=i.get("content"),h=s.getSelected();c.setDropContent(f);var g,m,y;if(h)if(m=c.validTarget(h.getEl(),f),m.valid)g=h;else{var w=h.parent();w&&(m=c.validTarget(w.getEl(),f),m.valid&&(g=w,y=w.components().indexOf(h)+1))}if(!g){var b=s.getWrapper();m=c.validTarget(b.getEl(),f),m.valid&&(g=b)}var O=g&&g.append(f,{at:y})[0];O&&s.setSelected(O,{scroll:1})},r.prototype.startDrag=function(t){var e=this,n=e.config,i=e.em,s=e.model,u=s.get("disable");if(!(t.button!==0||!n.getSorter||this.el.draggable||u)){i.refreshCanvas();var c=n.getSorter();c.__currentBlock=s,c.setDragHelper(this.el,t),c.setDropContent(this.model.get("content")),c.startSort(this.el),(0,Jt.on)(document,"mouseup",this.endDrag)}},r.prototype.handleDragStart=function(t){this.__getModule().__startDrag(this.model,t)},r.prototype.handleDrag=function(t){this.__getModule().__drag(t)},r.prototype.handleDragEnd=function(){this.__getModule().__endDrag()},r.prototype.endDrag=function(){(0,Jt.AU)(document,"mouseup",this.endDrag);var t=this.config.getSorter();t.moved=0,t.endMove()},r.prototype.render=function(){var t,e=this,n=e.em,i=e.el,s=e.$el,u=e.ppfx,c=e.model,f=c.get("disable"),h=c.get("attributes")||{},g=h.class||"",m="".concat(u,"block"),y=n&&n.t("blockManager.labels.".concat(c.id))||c.get("label"),w=c.get("render"),b=c.get("media"),O=f?"".concat(m,"--disable"):"".concat(u,"four-color-h");s.attr(h),i.className="".concat(g," ").concat(m," ").concat(u,"one-bg ").concat(O).trim(),i.innerHTML=`
      `.concat(b?'<div class="'.concat(m,'__media">').concat(b,"</div>"):"",`
      <div class="`).concat(m,'-label">').concat(y,`</div>
    `),i.title=h.title||((t=i.textContent)===null||t===void 0?void 0:t.trim()),i.setAttribute("draggable","".concat(!!((0,Mt.hasDnd)(n)&&!f)));var S=w&&w({el:i,model:c,className:m,prefix:u});return S&&(i.innerHTML=S),this},r}($t.Ss);const S2=x2;var O2=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),T2=function(o,r){return Object.defineProperty?Object.defineProperty(o,"raw",{value:r}):o.raw=r,o},E2=function(o){O2(r,o);function r(t,e,n){var i=o.call(this,t)||this;i.config=e;var s=e.pStylePrefix||"";return i.em=e.em,i.catName=n,i.pfx=s,i.caretR="fa fa-caret-right",i.caretD="fa fa-caret-down",i.iconClass="".concat(s,"caret-icon"),i.activeClass="".concat(s,"open"),i.className="".concat(s).concat(n,"-category"),i.listenTo(i.model,"change:open",i.updateVisibility),i.model.view=i,i}return r.prototype.events=function(){return{"click [data-title]":"toggle"}},r.prototype.template=function(t){var e=t.pfx,n=t.label,i=t.catName;return Wn(iw||(iw=T2([`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `],[`
      <div class="`,`title" data-title>
        <i class="`,`caret-icon"></i>
        `,`
      </div>
      <div class="`,"",`s-c"></div>
    `])),e,e,n,e,i)},r.prototype.attributes=function(){return this.model.get("attributes")||{}},r.prototype.updateVisibility=function(){this.model.get("open")?this.open():this.close()},r.prototype.open=function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getTypeEl().style.display=""},r.prototype.close=function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getTypeEl().style.display="none"},r.prototype.toggle=function(){var t=this.model;t.set("open",!t.get("open"))},r.prototype.getIconEl=function(){return this.iconEl||(this.iconEl=this.el.querySelector(".".concat(this.iconClass))),this.iconEl},r.prototype.getTypeEl=function(){return this.typeEl||(this.typeEl=this.el.querySelector(".".concat(this.pfx).concat(this.catName,"s-c"))),this.typeEl},r.prototype.append=function(t){this.getTypeEl().appendChild(t)},r.prototype.render=function(){var t=this,e=t.em,n=t.el,i=t.$el,s=t.model,u=t.pfx,c=t.catName,f=e.t("".concat(c,"Manager.categories.").concat(s.id))||s.get("label");return n.innerHTML=this.template({pfx:u,label:f,catName:c}),i.addClass(this.className),i.css({order:s.get("order")}),this.updateVisibility(),this},r}($t.Ss);const dS=E2;var iw,P2=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),$d=function(){return $d=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},$d.apply(this,arguments)},k2=function(o){P2(r,o);function r(t,e){var n=o.call(this,t)||this;n.renderedCategories=new Map,(0,D.bindAll)(n,"getSorter","onDrag","onDrop","onMove"),n.config=e||{},n.categories=t.categories||"";var i=n.config.pStylePrefix||"";n.ppfx=i,n.noCatClass="".concat(i,"blocks-no-cat"),n.blockContClass="".concat(i,"blocks-c"),n.catsClass="".concat(i,"block-categories");var s=n.collection;return n.listenTo(s,"add",n.addTo),n.listenTo(s,"reset",n.render),n.em=n.config.em,n.em&&(n.config.getSorter=n.getSorter),n}return r.prototype.__getModule=function(){return this.em.Blocks},r.prototype.updateConfig=function(t){t===void 0&&(t={}),this.config=$d($d({},this.config),t)},r.prototype.getSorter=function(){var t=this.em;if(t){if(!this.sorter){var e=t.Utils,n=t.Canvas;this.sorter=new e.Sorter({container:n.getBody(),placer:n.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,onStart:this.onDrag,onEndMove:this.onDrop,onMove:this.onMove,document:n.getFrameEl().contentDocument,direction:"a",wmargin:1,nested:1,em:t,canvasRelative:1})}return this.sorter}},r.prototype.onDrag=function(t){this.em.stopDefault(),this.__getModule().__startDrag(this.sorter.__currentBlock,t)},r.prototype.onMove=function(t){this.__getModule().__drag(t)},r.prototype.onDrop=function(t){this.em.runDefault(),this.__getModule().__endDrag({component:t}),delete this.sorter.__currentBlock},r.prototype.addTo=function(t){this.add(t)},r.prototype.add=function(t,e){var n=this,i=n.config,s=n.renderedCategories,u=t.get("attributes"),c=new S2({model:t,attributes:u},i),f=c.render().el,h=t.parent.initCategory(t);if(h&&this.categories&&!i.ignoreCategories){var g=h.getId(),m=this.getCategoriesEl(),y=s.get(g);!y&&m&&(y=new dS({model:h},i,"block").render(),s.set(g,y),m.appendChild(y.el)),y==null||y.append(f);return}e?e.appendChild(f):this.append(f)},r.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},r.prototype.getBlocksEl=function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},r.prototype.append=function(t){var e=this.getBlocksEl();e&&e.appendChild(t)},r.prototype.render=function(){var t=this,e=this.ppfx,n=document.createDocumentFragment();delete this.catsEl,delete this.blocksEl,this.renderedCategories=new Map,this.el.innerHTML=`
      <div class="`.concat(this.catsClass,`"></div>
      <div class="`).concat(this.noCatClass,`">
        <div class="`).concat(this.blockContClass,`"></div>
      </div>
    `),this.collection.each(function(s){return t.add(s,n)}),this.append(n);var i="".concat(this.blockContClass,"s ").concat(e,"one-bg ").concat(e,"two-color");return this.$el.addClass(i),this.rendered=!0,this},r}($t.Ss);const aw=k2;var A2=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ta=function(){return ta=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},ta.apply(this,arguments)},M2=function(o){A2(r,o);function r(t){var e,n=o.call(this,t,"BlockManager",new xf(((e=t.config.blockManager)===null||e===void 0?void 0:e.blocks)||[],{em:t}),Ru,y2)||this;return n.events=Ru,n.Block=cS,n.Blocks=xf,n.Category=yc,n.Categories=wd,n.storageKey="",n.blocks=n.all,n.blocksVisible=new xf(n.blocks.models,{em:t}),n.categories=new wd([],{em:t,events:{update:Ru.categoryUpdate}}),n.blocks.on("add",function(i){return n.blocksVisible.add(i)}),n.blocks.on("remove",function(i){return n.blocksVisible.remove(i)}),n.blocks.on("reset",function(i){return n.blocksVisible.reset(i.models)}),n.__onAllEvent=(0,D.debounce)(function(){return n.__trgCustom()},0),n}return r.prototype.__trgCustom=function(){this.em.trigger(this.events.custom,this.__customData())},r.prototype.__customData=function(){var t=this,e=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:e.container,dragStart:function(n,i){return t.startDrag(n,i)},drag:function(n){return t.__drag(n)},dragStop:function(n){return t.endDrag(n)}}},r.prototype.__startDrag=function(t,e){var n=this,i=n.em,s=n.events,u=n.blocks,c=t.getContent?t.getContent():t;this._dragBlock=t,i.set({dragResult:null,dragContent:c}),[i,u].map(function(f){return f.trigger(s.dragStart,t,e)})},r.prototype.__drag=function(t){var e=this,n=e.em,i=e.events,s=e.blocks,u=this._dragBlock;[n,s].map(function(c){return c.trigger(i.drag,u,t)})},r.prototype.__endDrag=function(t){t===void 0&&(t={});var e=this,n=e.em,i=e.events,s=e.blocks,u=this._dragBlock,c=t.component||n.get("dragResult");if(delete this._dragBlock,c&&u){var f="activeOnRender",h=c.get&&c.get(f),g=u.get("activate")||h,m=u.get("select"),y=(0,D.isArray)(c)?c[0]:c;(m||g&&m!==!1)&&n.setSelected(y),g&&(y.trigger("active"),h&&y.unset(f)),u.get("resetId")&&y.onAll(function(w){return w.resetId()})}n.set({dragResult:null,dragContent:null}),u&&[n,s].map(function(w){return w.trigger(i.dragEnd,c,u)})},r.prototype.__getFrameViews=function(){return this.em.Canvas.getFrames().map(function(t){return t.view}).filter(Boolean)},r.prototype.__behaviour=function(t){return t===void 0&&(t={}),this._bhv=ta(ta({},this._bhv||{}),t)},r.prototype.__getBehaviour=function(){return this._bhv||{}},r.prototype.startDrag=function(t,e){this.__startDrag(t,e),this.__getFrameViews().forEach(function(n){var i;return(i=n.droppable)===null||i===void 0?void 0:i.startCustom()})},r.prototype.endDrag=function(t){this.__getFrameViews().forEach(function(e){var n;return(n=e.droppable)===null||n===void 0?void 0:n.endCustom(t)}),this.__endDrag()},r.prototype.postRender=function(){var t=this,e=t.categories,n=t.config,i=t.em,s=this.blocksVisible;this.blocksView=new aw({collection:s,categories:e},ta(ta({},n),{em:i})),this.__appendTo(s.models),this.__trgCustom()},r.prototype.add=function(t,e,n){n===void 0&&(n={});var i=e||{};return i.id=t,this.blocks.add(i,n)},r.prototype.get=function(t){return this.blocks.get(t)},r.prototype.getAll=function(){return this.blocks},r.prototype.getAllVisible=function(){return this.blocksVisible},r.prototype.remove=function(t,e){return e===void 0&&(e={}),this.__remove(t,e)},r.prototype.getCategories=function(){return this.categories},r.prototype.getContainer=function(){var t;return(t=this.blocksView)===null||t===void 0?void 0:t.el},r.prototype.getDragBlock=function(){return this._dragBlock},r.prototype.getBlocksByCategory=function(t){return Zx(t||this.getAll().models)},r.prototype.render=function(t,e){e===void 0&&(e={});var n=this,i=n.categories,s=n.config,u=n.em,c=t||this.getAll().models;if(e.external){var f=new xf(c,{em:u});return new aw({collection:f,categories:i},ta(ta({em:u},s),e)).render().el}return this.blocksView&&(this.blocksView.updateConfig(e),this.blocksView.collection.reset(c),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=!0)),this.getContainer()},r.prototype.destroy=function(){var t,e=[this.blocks,this.blocksVisible,this.categories];e.map(function(n){return n.stopListening()}),e.map(function(n){return n.reset()}),(t=this.blocksView)===null||t===void 0||t.remove()},r}(Sa);const L2=M2;var D2={stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',componentFirst:!1,custom:!1};const j2=D2;var N2=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pS=function(o){N2(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return{name:"",label:""}},r.prototype.getName=function(){return this.get("name")},r.prototype.getLabel=function(){return this.get("label")||this.getName()},r}($t.Kx);const rv=pS;pS.prototype.idAttribute="name";var I2=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),R2=function(o,r){return Object.defineProperty?Object.defineProperty(o,"raw",{value:r}):o.raw=r,o},sw="contentEditable",F2=function(o){I2(r,o);function r(t){t===void 0&&(t={});var e=o.call(this,t)||this,n=t.config||{};return e.config=n,e.module=t.module,e.coll=t.coll||null,e.pfx=n.stylePrefix||"",e.ppfx=n.pStylePrefix||"",e.em=n.em,e.listenTo(e.model,"change:active",e.updateStatus),e}return r.prototype.template=function(){var t=this,e=t.pfx,n=t.model,i=t.config,s=n.get("label")||"";return Wn(lw||(lw=R2([`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `],[`
      <span id="`,'checkbox" class="',`tag-status" data-tag-status></span>
      <span id="`,'tag-label" data-tag-name>',`</span>
      <span id="`,'close" class="','tag-close" data-tag-remove> $',` </span>
    `])),e,e,e,s,e,e,i.iconTagRemove)},r.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},r.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},r.prototype.startEditTag=function(){var t=this.em,e=this.getInputEl();e[sw]="true",e.focus(),t==null||t.setEditing(!0)},r.prototype.endEditTag=function(){var t=this,e=t.model,n=t.em,i=this.getInputEl(),s=i.textContent||"",u=n==null?void 0:n.Selectors;i[sw]="false",n==null||n.setEditing(!1),u&&u.rename(e,s)!==e&&(i.innerText=e.getLabel())},r.prototype.changeStatus=function(){var t=this.model;t.set("active",!t.getActive())},r.prototype.removeTag=function(){this.module.removeSelected(this.model)},r.prototype.updateStatus=function(){var t=this,e=t.model,n=t.$el,i=t.config,s=i.iconTagOn,u=i.iconTagOff,c=n.find("[data-tag-status]");e.get("active")?(c.html(s),n.removeClass("opac50")):(c.html(u),n.addClass("opac50"))},r.prototype.render=function(){var t=this,e=t.pfx,n=t.ppfx,i=t.$el,s=t.model,u="".concat(e,"tag"),c=["".concat(u," ").concat(n,"three-bg")];return s.get("protected")&&c.push("".concat(u,"-protected")),i.html(this.template()),i.attr("class",c.join(" ")),this.updateStatus(),this},r}($t.Ss);const V2=F2;var lw,U2=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),du=function(o,r){return Object.defineProperty?Object.defineProperty(o,"raw",{value:r}):o.raw=r,o},H2=function(o){U2(r,o);function r(t){t===void 0&&(t={});var e=o.call(this,t)||this;e.config=t.config||{},e.pfx=e.config.stylePrefix||"",e.ppfx=e.config.pStylePrefix||"",e.className=e.pfx+"tags",e.stateInputId=e.pfx+"states",e.stateInputC=e.pfx+"input-c",e.states=e.config.states||[];var n=e.config.em,i=e.collection;e.target=n;var s=n.Selectors;e.module=s,e.em=n,e.componentChanged=(0,D.debounce)(e.componentChanged.bind(e),0),e.checkSync=(0,D.debounce)(e.checkSync.bind(e),0);var u=dn.I.update,c="".concat(u,":classes"),f="component:toggled ".concat(c),h="".concat(c," ").concat(u,":attributes:id change:state");return e.listenTo(n,f,e.componentChanged),e.listenTo(n,"styleManager:update",e.componentChanged),e.listenTo(n,h,e.__handleStateChange),e.listenTo(n,"styleable:change change:device",e.checkSync),e.listenTo(i,"add",e.addNew),e.listenTo(i,"reset",e.renderClasses),e.listenTo(i,"remove",e.tagRemoved),e.listenTo(s.getAll(),s.events.state,(0,D.debounce)(function(){return e.renderStates()},0)),e.delegateEvents(),e}return r.prototype.template=function(t){var e=t.labelInfo,n=t.labelHead,i=t.iconSync,s=t.iconAdd,u=t.pfx,c=t.ppfx;return Wn(uw||(uw=du([' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`],[' <div id="','up" class="',`header">
        <div id="`,'label" class="','header-label">',`</div>
        <div id="`,'status-c" class="',`header-status">
          <span id="`,`input-c" data-states-c>
            <div class="`,"field ",`select">
              <span id="`,`input-holder">
                <select id="`,`states" data-states></select>
              </span>
              <div class="`,`sel-arrow">
                <div class="`,`d-s-arrow"></div>
              </div>
            </div>
          </span>
        </div>
      </div>
      <div id="`,'tags-field" class="',`field">
        <div id="`,`tags-c" data-selectors></div>
        <input id="`,`new" data-input />
        <span id="`,'add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',` </span>
        <span class="`,"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',` </span>
      </div>
      <div class="`,`sels-info">
        <div class="`,'label-sel">',`:</div>
        <div class="`,`sels" data-selected></div>
      </div>`])),u,u,u,u,n,u,u,u,c,c,c,u,c,c,u,c,u,u,u,u,u,s,u,u,i,u,u,e,u)},r.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},r.prototype.syncStyle=function(){var t=this.em,e=this.getTarget(),n=t.Css,i={noDisabled:1},s=this.getCommonSelectors({opts:i}),u=t.get("state"),c=t.getCurrentMedia(),f=[],h=n.get(s,u,c)||n.add(s,u,c),g;this.getTargets().forEach(function(m){var y=n.getIdRule(m.getId(),{state:u,mediaText:c});g=y.getStyle(),y.setStyle({}),f.push(y)}),g&&h.addStyle(g),t.trigger("component:toggled"),t.trigger("component:sync-style",{component:e,selectors:s,mediaText:c,rule:h,ruleComponents:f,state:u})},r.prototype.tagRemoved=function(t){this.updateStateVis()},r.prototype.addNew=function(t){this.addToClasses(t)},r.prototype.startNewTag=function(){var t,e;(t=this.$addBtn)===null||t===void 0||t.css({display:"none"}),(e=this.$input)===null||e===void 0||e.show().focus()},r.prototype.endNewTag=function(){var t,e;(t=this.$addBtn)===null||t===void 0||t.css({display:""}),(e=this.$input)===null||e===void 0||e.hide().val("")},r.prototype.onInputKeyUp=function(t){var e;t.keyCode===13?(t.preventDefault(),this.addNewTag((e=this.$input)===null||e===void 0?void 0:e.val())):t.keyCode===27&&this.endNewTag()},r.prototype.checkStates=function(){var t=this.em.getState(),e=this.getStates();e&&e.val(t)},r.prototype.componentChanged=function(t){var e=t===void 0?{}:t,n=e.targets;this.updateSelection(n)},r.prototype.updateSelection=function(t){var e=t||this.getTargets();e=(0,D.isArray)(e)?e:[e];var n=[];return e&&e.length&&(n=this.getCommonSelectors({targets:e}),this.checkSync({validSelectors:n})),this.collection.reset(n),this.updateStateVis(e),this.module.__trgCustom(),n},r.prototype.getCommonSelectors=function(t){var e=t===void 0?{}:t,n=e.targets,i=e.opts,s=i===void 0?{}:i,u=n||this.getTargets();return this.module.__getCommonSelectors(u,s)},r.prototype._commonSelectors=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return(t=this.module).__common.apply(t,e)},r.prototype.checkSync=function(){var t=this,e=t.$btnSyncEl,n=t.config,i=t.collection,s=this.getTarget(),u;if(s&&n.componentFirst&&i.length){var c=s.getStyle();u=!(0,D.isEmpty)(c)}e&&e[u?"show":"hide"]()},r.prototype.getTarget=function(){return this.target.getSelected()},r.prototype.getTargets=function(){return this.target.getSelectedAll()},r.prototype.updateStateVis=function(t){var e=this.em,n=e&&e.getConfig().avoidInlineStyle,i=this.collection.length||n?"":"none";this.getStatesC().css("display",i),this.updateSelector(t)},r.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},r.prototype.updateSelector=function(t){var e=this,n=this.el.querySelector("[data-selected]"),i=[],s=t||this.getTargets();s=(0,D.isArray)(s)?s:[s],s.forEach(function(u){return i.push(e.__getName(u))}),n&&(n.innerHTML=i.join(", ")),this.checkStates()},r.prototype.__getName=function(t){var e=this,n=e.pfx,i=e.config,s=e.em,u=i.selectedName,c=i.componentFirst,f;if((0,D.isString)(t))f=Wn(cw||(cw=du(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),n,t);else{var h=t==null?void 0:t.getSelectors();if(!h)return"";var g=h.getStyleable(),m=s.get("state"),y=t.getId?Wn(fw||(fw=du(['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"],['<span class="','sel-cmp">',`</span>
            <span class="`,'sel-id">#',"</span>"])),n,t.getName(),n,t.getId()):"";f=this.collection.getFullString(g),f=f?Wn(dw||(dw=du(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),n,f):t.get("selectorsAdd")||y,f=c&&y?y:f,f+=m?Wn(pw||(pw=du(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),n,m):"",f=u?u({result:f,state:m,target:t}):f}return f&&'<span class="'.concat(n,'sel">').concat(f,"</span>")},r.prototype.stateChanged=function(t){var e=this.em,n=t.target.value;e.set("state",n)},r.prototype.addNewTag=function(t){var e=t.trim();e&&(this.module.addSelected({label:e}),this.endNewTag())},r.prototype.addToClasses=function(t,e){var n=e,i=this.getClasses(),s=new V2({model:t,config:this.config,coll:this.collection,module:this.module}).render().el;return n?n.appendChild(s):i.append(s),s},r.prototype.renderClasses=function(){var t=this,e=document.createDocumentFragment(),n=this.getClasses();n.empty(),this.collection.each(function(i){return t.addToClasses(i,e)}),n.append(e)},r.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},r.prototype.getStates=function(){if(!this.$states){var t=this.$el.find("[data-states]");this.$states=t[0]&&t}return this.$states},r.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},r.prototype.renderStates=function(){var t=this,e=t.module,n=t.em,i=n.t("selectorManager.emptyState"),s=e.getStates().map(function(c){var f=n.t("selectorManager.states.".concat(c.id))||c.getLabel()||c.id;return'<option value="'.concat(c.id,'">').concat(f,"</option>")}).join(""),u=this.getStates();u&&u.html('<option value="">'.concat(i,"</option>").concat(s)),this.checkStates()},r.prototype.render=function(){var t=this,e=t.em,n=t.pfx,i=t.ppfx,s=t.config,u=t.$el,c=t.el,f=s.render,h=s.iconSync,g=s.iconAdd,m={iconSync:h,iconAdd:g,labelHead:e.t("selectorManager.label"),labelInfo:e.t("selectorManager.selected"),ppfx:i,pfx:n,el:c};u.html(this.template(m));var y=f&&f(m);return y&&y!==c&&u.empty().append(y),this.$input=u.find("[data-input]"),this.$addBtn=u.find("[data-add]"),this.$classes=u.find("#"+n+"tags-c"),this.$btnSyncEl=u.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),u.attr("class","".concat(this.className," ").concat(i,"one-bg ").concat(i,"two-color")),this},r}($t.Ss);const B2=H2;var uw,cw,fw,dw,pw,z2=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fu=function(){return Fu=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Fu.apply(this,arguments)},nv=function(o,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,i;e<n;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return o.concat(i||Array.prototype.slice.call(r))},hw=function(o){return(0,D.isString)(o)&&o[0]=="#"},vw=function(o){return(0,D.isString)(o)&&o[0]=="."},hS="selector",_c="".concat(hS,":"),W2="".concat(_c,"add"),K2="".concat(_c,"update"),vS="".concat(_c,"remove"),$2="".concat(vS,":before"),G2="".concat(_c,"custom"),gS="".concat(_c,"state"),Y2={all:hS,update:K2,add:W2,remove:vS,removeBefore:$2,state:gS,custom:G2},X2=function(o){z2(r,o);function r(t){var e=o.call(this,t,"SelectorManager",new la([]),Y2,j2,{skipListen:!0})||this;e.Selector=En,e.Selectors=la,e.storageKey="",(0,D.bindAll)(e,"__updateSelectedByComponents");var n=e.config,i=n.pStylePrefix;i&&(n.stylePrefix=i+n.stylePrefix),e.all=new la(n.selectors),e.selected=new la([],{em:t,config:n}),e.states=new $t.pM(n.states.map(function(c){return new rv(c)}),{model:rv}),e.model=new $t.Kx({cFirst:n.componentFirst,_undo:!0}),e.__update=(0,D.debounce)(function(){return e.__trgCustom()},0),e.__initListen({collections:[e.states,e.selected],propagate:[{entity:e.states,event:e.events.state}]}),t.on("change:state",function(c,f){return t.trigger(gS,f)}),e.model.on("change:cFirst",function(c,f){return t.trigger("selector:type",f)});var s="".concat(dn.I.update,":classes");t.on("component:toggled ".concat(s),e.__updateSelectedByComponents);var u="component:toggled ".concat(s," change:device styleManager:update selector:state selector:type style:target");return e.model.listenTo(t,u,function(){return e.__update()}),e}return r.prototype.__trgCustom=function(t){this.em.trigger(this.events.custom,this.__customData(t))},r.prototype.getAll=function(t){return t===void 0&&(t={}),this.all?t.array?nv([],this.all.models,!0):this.all:[]},r.prototype.__customData=function(t){return t===void 0&&(t={}),this.__ctn=this.__ctn||t.container,{states:this.getStates(),selected:this.getSelected(),container:this.__ctn}},r.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},r.prototype.select=function(t,e){e===void 0&&(e={});var n=Array.isArray(t)?t:[t],i=this.em.Styles.select(n,e);this.selected.reset(this.__getCommonSelectors(i));var s=this.selectorTags,u=i.filter(function(c){return c}).map(function(c){return(0,Mt.isComponent)(c)||(0,Mt.isRule)(c)&&!c.get("selectorsAdd")?c:c.getSelectorsString()});return s&&s.componentChanged({targets:u}),this},r.prototype.addSelector=function(t,e,n){e===void 0&&(e={}),n===void 0&&(n={});var i=Fu({},e);(0,D.isObject)(t)?i=t:i.name=t,hw(i.name)?(i.name=i.name.substr(1),i.type=En.TYPE_ID):vw(i.name)&&(i.name=i.name.substr(1)),i.label&&!i.name&&(i.name=this.escapeName(i.label));var s=i.name,u=this.getConfig(),c=this,f=c.all,h=c.em,g=s?this.get(s,i.type):f.where(i)[0];if(!g){var m=i instanceof En?i:new En(i,Fu(Fu({},n),{config:u,em:h}));return f.add(m,n)}return g},r.prototype.getSelector=function(t,e){return e===void 0&&(e=En.TYPE_CLASS),hw(t)?(t=t.substr(1),e=En.TYPE_ID):vw(t)&&(t=t.substr(1)),this.all.where({name:t,type:e})[0]},r.prototype.add=function(t,e){var n=this;e===void 0&&(e={});var i=(0,D.isString)(t)?{}:e;return(0,D.isArray)(t)?t.map(function(s){return n.addSelector(s,e,i)}):this.addSelector(t,e,i)},r.prototype.addClass=function(t){var e=this,n=[];return(0,D.isString)(t)&&(t=t.trim().split(" ")),t.forEach(function(i){return n.push(e.addSelector(i))}),n},r.prototype.get=function(t,e){var n=this;if((0,D.isArray)(t)){var i=[],s=t.map(function(u){return n.getSelector(u)}).filter(Boolean);return s.forEach(function(u){return i.indexOf(u)<0&&i.push(u)}),i}else return this.getSelector(t,e)},r.prototype.remove=function(t,e){return this.__remove(t,e)},r.prototype.rename=function(t,e,n){var i=this.escapeName(e),s=this.get(i);return s||t.set({name:i,label:e},n)},r.prototype.setState=function(t){return this.em.setState(t),this},r.prototype.getState=function(){return this.em.getState()},r.prototype.getStates=function(){return nv([],this.states.models,!0)},r.prototype.setStates=function(t,e){return this.states.reset(t.map(function(n){return new rv(n)}),e)},r.prototype.getSelected=function(){return this.__getCommon()},r.prototype.getSelectedAll=function(){return nv([],this.selected.models,!0)},r.prototype.addSelected=function(t){var e=this.add(t);this.em.getSelectedAll().forEach(function(n){n.getSelectors().add(e)})},r.prototype.removeSelected=function(t){this.em.getSelectedAll().forEach(function(e){!t.get("protected")&&e&&e.getSelectors().remove(t)})},r.prototype.duplicateSelected=function(t,e){var n=this;e===void 0&&(e={});var i=this.em,s=this.getSelected();if(!(s.indexOf(t)<0)){var u=this.getState(),c=i.getCurrentMedia(),f=i.Css.get(s,u,c),h=f==null?void 0:f.getStyle();if(i.getSelectedAll().forEach(function(m){var y=m.getSelectors();if(y.includes(t)){var w=e.suffix||" copy",b=t.getLabel(),O=n.addSelector("".concat(b).concat(w)),S=y.indexOf(t);y.remove(t),y.add(O,{at:S})}}),h){var g=i.Css.add(this.getSelected(),u,c);g.setStyle(h)}}},r.prototype.getSelectedTargets=function(){return this.em.Styles.getSelectedAll()},r.prototype.setComponentFirst=function(t){this.getConfig().componentFirst=t,this.model.set({cFirst:t})},r.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},r.prototype.escapeName=function(t){var e=this.getConfig().escapeName;return e?e(t):En.escapeName(t)},r.prototype.render=function(t){var e=this.selectorTags,n=this.getConfig(),i=e==null?void 0:e.el;return this.selected.reset(t),this.selectorTags=new B2({el:i,collection:this.selected,module:this,config:n}),this.selectorTags.render().el},r.prototype.destroy=function(){var t=this,e=t.selectorTags,n=t.model;n.stopListening(),this.__update.cancel(),this.__destroy(),e==null||e.remove(),this.selectorTags=void 0},r.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},r.prototype.__getCommonSelectors=function(t,e){e===void 0&&(e={});var n=t.map(function(i){return i.getSelectors&&i.getSelectors().getValid(e)}).filter(Boolean);return this.__common.apply(this,n)},r.prototype.__common=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.length?e.length===1?e[0]:e.length===2?e[0].filter(function(i){return e[1].indexOf(i)>=0}):e.slice(1).reduce(function(i,s){return t.__common(i,s)},e[0]):[]},r.prototype.__updateSelectedByComponents=function(){this.selected.reset(this.__getCommon())},r}(Sa);const q2=X2;var J2={textTags:["br","b","i","u","a","ul","ol"],textTypes:["text","textnode","comment"],parserCss:void 0,parserHtml:void 0,optionsHtml:{htmlType:"text/html",allowScripts:!1,allowUnsafeAttr:!1,allowUnsafeAttrValue:!1,keepEmptyTextNodes:!1}};const Z2=J2;var Uo,ao={STYLE_RULE:1,CHARSET_RULE:2,IMPORT_RULE:3,MEDIA_RULE:4,FONT_FACE_RULE:5,PAGE_RULE:6,KEYFRAMES_RULE:7,KEYFRAME_RULE:8,NAMESPACE_RULE:10,COUNTER_STYLE_RULE:11,SUPPORTS_RULE:12,DOCUMENT_RULE:13,FONT_FEATURE_VALUES_RULE:14,VIEWPORT_RULE:15,REGION_STYLE_RULE:16},fl=(Uo={},Uo[ao.MEDIA_RULE]="media",Uo[ao.FONT_FACE_RULE]="font-face",Uo[ao.PAGE_RULE]="page",Uo[ao.KEYFRAMES_RULE]="keyframes",Uo[ao.COUNTER_STYLE_RULE]="counter-style",Uo[ao.SUPPORTS_RULE]="supports",Uo[ao.DOCUMENT_RULE]="document",Uo[ao.FONT_FEATURE_VALUES_RULE]="font-feature-values",Uo[ao.VIEWPORT_RULE]="viewport",Uo),mS=(0,D.keys)(fl),zm=[ao.FONT_FACE_RULE,ao.PAGE_RULE,ao.COUNTER_STYLE_RULE,ao.VIEWPORT_RULE],Q2=mS.filter(function(o){return zm.indexOf(Number(o))<0}).map(function(o){return fl[o]}).concat(["container","layer"]),tD=zm.map(function(o){return fl[o]}),yS=function(o){o===void 0&&(o="");for(var r=[],t=[],e=o.split(","),n=0,i=e.length;n<i;n++){var s=e[n].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(s)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(s)){var u=s.split(".").filter(Boolean);t.push(u)}else r.push(s)}return{result:t,add:r}},eD=function(o){for(var r=o.style,t={},e=0,n=r.length;e<n;e++){var i=r[e],s=r.getPropertyValue(i),u=r.getPropertyPriority(i);t[i]="".concat(s).concat(u?" !".concat(u):"")}return t},gw=function(o){var r=o.conditionText||o.media&&o.media.mediaText||o.name||o.selectorText||"";return r.trim()},Og=function(o,r,t){r===void 0&&(r={}),t===void 0&&(t={});var e={},n=o.length,i=o[n-1],s=i?i.split(/:(.+)/):[],u=s[1],c=t.atRule,f=t.selectorsAdd,h=t.mediaText,g=tD.indexOf(c)>=0;return g&&(e.singleAtRule=!0),c&&(e.atRuleType=c),f&&(e.selectorsAdd=f),h&&(e.mediaText=h),u&&(o[n-1]=s[0],e.state=u,s.splice(s.length-1,1)),e.selectors=o,e.style=r,e},mw=function(o){var r=o.cssText,t=r===void 0?"":r;return Q2.find(function(e){return t.indexOf("@".concat(e))===0})},_S=function(o){for(var r=[],t=o.cssRules||[],e=0,n=t.length;e<n;e++){var i=t[e],s=i.type,u=!1,c="",f="",h=i.selectorText||i.keyText||"",g=zm.indexOf(s)>=0;if(g)u=!0,c=fl[s],f=gw(i);else if(mS.indexOf("".concat(s))>=0||!s&&mw(i)){var m=_S(i),y=fl[s]||mw(i);f=gw(i);for(var w=0,b=m.length;w<b;w++){var O=m[w];f&&(O.mediaText=f),O.atRuleType=y}r=r.concat(m)}if(!(!h&&!g)){for(var S=eD(i),P=yS(h),T=P.add,j=P.result,X=void 0,at=0,ft=j.length;at<ft;at++){var Q=Og(j[at],S,{atRule:fl[s]});r.push(Q),X=Q}if(T.length){var K=T.join(", ");if(X)X.selectorsAdd=K;else{var Q={selectors:[],selectorsAdd:K,style:S};u&&(Q.singleAtRule=u),c&&(Q.atRuleType=c),f&&(Q.mediaText=f),r.push(Q)}}}}return r};const rD=function(o){var r=document.createElement("style");r.innerHTML=o,document.head.appendChild(r);var t=r.sheet;return document.head.removeChild(r),t?_S(t):[]};var nD=function(o,r){return r===void 0&&(r={}),{parse:function(t){var e=this,n=[],i=r.parserCss,s=o==null?void 0:o.Editor,u=i?i(t,s):rD(t);return u.forEach(function(c){return n=n.concat(e.checkNode(c))}),o==null||o.trigger("parse:css",{input:t,output:n,nodes:u}),n},checkNode:function(t){var e=t.selectors,n=t.style,i=[t];if((0,D.isString)(e)){var s=[],u=t,c=yS(e),f=c.result,h=c.add.join(", "),g={atRule:u.atRule,mediaText:u.params};if(f.length?f.forEach(function(y){s.push(Og(y,n,g))}):s.push(Og([],n,g)),h){var m=s[s.length-1];m.selectorsAdd=h}i=s}return i}}};const oD=nD;var iD=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),aD=function(o){iD(r,o);function r(t){var e=o.call(this,t,"Parser",Z2)||this,n=e.config;return e.parserCss=oD(t,n),e.parserHtml=Wx(t,n),e}return r.prototype.parseHtml=function(t,e){e===void 0&&(e={});var n=this,i=n.em,s=n.parserHtml;return s.compTypes=i.Components.getTypes()||[],s.parse(t,this.parserCss,e)},r.prototype.parseCss=function(t){return this.parserCss.parse(t)},r.prototype.destroy=function(){},r}(qn);const sD=aD;var lD={id:"gjs-",type:"local",autosave:!0,autoload:!0,stepsBeforeSave:1,recovery:!1,onStore:function(o){return o},onLoad:function(o){return o},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(o){return o},onLoad:function(o){return o}}}};const uD=lD;var yw=function(o,r,t,e){function n(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function u(h){try{f(e.next(h))}catch(g){s(g)}}function c(h){try{f(e.throw(h))}catch(g){s(g)}}function f(h){h.done?i(h.value):n(h.value).then(u,c)}f((e=e.apply(o,r||[])).next())})},_w=function(o,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,n,i,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(f){return function(h){return c([f,h])}}function c(f){if(e)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(e=1,n&&(i=f[0]&2?n.return:f[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,f[1])).done)return i;switch(n=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,n=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=r.call(o,t)}catch(h){f=[6,h],n=0}finally{e=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},cD=function(){function o(){}return o.prototype.store=function(r){return yw(this,arguments,void 0,function(t,e){return e===void 0&&(e={}),_w(this,function(n){return this.hasLocal(e,!0)&&localStorage.setItem(e.key,JSON.stringify(t)),[2,t]})})},o.prototype.load=function(){return yw(this,arguments,void 0,function(r){var t;return r===void 0&&(r={}),_w(this,function(e){return t={},this.hasLocal(r,!0)&&(t=JSON.parse(localStorage.getItem(r.key)||"{}")),[2,t]})})},o.prototype.hasLocal=function(r,t){if(r===void 0&&(r={}),r.checkLocal&&(!(0,Mt.hasWin)()||!localStorage)){if(t)throw new Error("localStorage not available");return!1}return!0},o}();const fD=cD;function cc(o){"@babel/helpers - typeof";return cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},cc(o)}function dD(o){var r=this.constructor;return this.then(function(t){return r.resolve(o()).then(function(){return t})},function(t){return r.resolve(o()).then(function(){return r.reject(t)})})}const pD=dD;var hD=setTimeout;function wS(o){return!!(o&&typeof o.length<"u")}function vD(){}function gD(o,r){return function(){o.apply(r,arguments)}}function Or(o){if(!(this instanceof Or))throw new TypeError("Promises must be constructed via new");if(typeof o!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],bS(o,this)}function CS(o,r){for(;o._state===3;)o=o._value;if(o._state===0){o._deferreds.push(r);return}o._handled=!0,Or._immediateFn(function(){var t=o._state===1?r.onFulfilled:r.onRejected;if(t===null){(o._state===1?Tg:fc)(r.promise,o._value);return}var e;try{e=t(o._value)}catch(n){fc(r.promise,n);return}Tg(r.promise,e)})}function Tg(o,r){try{if(r===o)throw new TypeError("A promise cannot be resolved with itself.");if(r&&(cc(r)==="object"||typeof r=="function")){var t=r.then;if(r instanceof Or){o._state=3,o._value=r,Eg(o);return}else if(typeof t=="function"){bS(gD(t,r),o);return}}o._state=1,o._value=r,Eg(o)}catch(e){fc(o,e)}}function fc(o,r){o._state=2,o._value=r,Eg(o)}function Eg(o){o._state===2&&o._deferreds.length===0&&Or._immediateFn(function(){o._handled||Or._unhandledRejectionFn(o._value)});for(var r=0,t=o._deferreds.length;r<t;r++)CS(o,o._deferreds[r]);o._deferreds=null}function mD(o,r,t){this.onFulfilled=typeof o=="function"?o:null,this.onRejected=typeof r=="function"?r:null,this.promise=t}function bS(o,r){var t=!1;try{o(function(e){t||(t=!0,Tg(r,e))},function(e){t||(t=!0,fc(r,e))})}catch(e){if(t)return;t=!0,fc(r,e)}}Or.prototype.catch=function(o){return this.then(null,o)};Or.prototype.then=function(o,r){var t=new this.constructor(vD);return CS(this,new mD(o,r,t)),t};Or.prototype.finally=pD;Or.all=function(o){return new Or(function(r,t){if(!wS(o))return t(new TypeError("Promise.all accepts an array"));var e=Array.prototype.slice.call(o);if(e.length===0)return r([]);var n=e.length;function i(u,c){try{if(c&&(cc(c)==="object"||typeof c=="function")){var f=c.then;if(typeof f=="function"){f.call(c,function(h){i(u,h)},t);return}}e[u]=c,--n===0&&r(e)}catch(h){t(h)}}for(var s=0;s<e.length;s++)i(s,e[s])})};Or.resolve=function(o){return o&&cc(o)==="object"&&o.constructor===Or?o:new Or(function(r){r(o)})};Or.reject=function(o){return new Or(function(r,t){t(o)})};Or.race=function(o){return new Or(function(r,t){if(!wS(o))return t(new TypeError("Promise.race accepts an array"));for(var e=0,n=o.length;e<n;e++)Or.resolve(o[e]).then(r,t)})};Or._immediateFn=typeof setImmediate=="function"&&function(o){setImmediate(o)}||function(o){hD(o,0)};Or._unhandledRejectionFn=function(r){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",r)};const Pg=Or;(0,Mt.hasWin)()&&(window.Promise=window.Promise||Pg);const xS=typeof fetch=="function"?fetch.bind():function(o,r){return new Pg(function(t,e){var n=new XMLHttpRequest;n.open(r.method||"get",o),n.withCredentials=r.credentials=="include";for(var i in r.headers||{})n.setRequestHeader(i,r.headers[i]);n.onload=function(s){return t({status:n.status,statusText:n.statusText,text:function(){return Pg.resolve(n.responseText)}})},n.onerror=e,n.upload&&r.onProgress&&(n.upload.onprogress=r.onProgress),r.body?n.send(r.body):n.send()})};var Gd=function(){return Gd=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Gd.apply(this,arguments)},ww=function(o,r,t,e){function n(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function u(h){try{f(e.next(h))}catch(g){s(g)}}function c(h){try{f(e.throw(h))}catch(g){s(g)}}function f(h){h.done?i(h.value):n(h.value).then(u,c)}f((e=e.apply(o,r||[])).next())})},Cw=function(o,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,n,i,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(f){return function(h){return c([f,h])}}function c(f){if(e)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(e=1,n&&(i=f[0]&2?n.return:f[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,f[1])).done)return i;switch(n=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,n=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=r.call(o,t)}catch(h){f=[6,h],n=0}finally{e=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},yD=function(){function o(){}return o.prototype.store=function(r){return ww(this,arguments,void 0,function(t,e){return e===void 0&&(e={}),Cw(this,function(n){switch(n.label){case 0:return[4,this.request(e.urlStore,this.__props(e,t),e)];case 1:return[2,n.sent()]}})})},o.prototype.load=function(){return ww(this,arguments,void 0,function(r){return r===void 0&&(r={}),Cw(this,function(t){switch(t.label){case 0:return[4,this.request(r.urlLoad,this.__props(r),r)];case 1:return[2,t.sent()]}})})},o.prototype.request=function(r,t,e){return t===void 0&&(t={}),e===void 0&&(e={}),xS(r,t).then(function(n){var i=n.text(),s=(n.status/200|0)===1;return s?i:i.then(Promise.reject)}).then(function(n){var i=n&&(0,D.isString)(n);return e.contentTypeJson&&i?JSON.parse(n):n})},o.prototype.__props=function(r,t){r===void 0&&(r={});var e=r.contentTypeJson,n=r.headers||{},i=r.fetchOptions||{},s="X-Requested-With",u="Content-Type",c;if((0,D.isUndefined)(n[s])&&(n[s]="XMLHttpRequest"),(0,D.isUndefined)(n[u])&&e&&(n[u]="application/json; charset=utf-8"),t)if(e)c=JSON.stringify(t);else{c=new FormData;for(var f in t)c.append(f,t[f])}var h={method:c?"POST":"GET",credentials:r.credentials,headers:n,body:c};return Gd(Gd({},h),(0,D.isFunction)(i)?i(h):i)},o}();const _D=yD;var kg;(function(o){o.start="storage:start",o.startStore="storage:start:store",o.startLoad="storage:start:load",o.load="storage:load",o.store="storage:store",o.after="storage:after",o.afterStore="storage:after:store",o.afterLoad="storage:after:load",o.end="storage:end",o.endStore="storage:end:store",o.endLoad="storage:end:load",o.error="storage:error",o.errorStore="storage:error:store",o.errorLoad="storage:error:load"})(kg||(kg={}));const xn=kg;var wD=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zs=function(){return Zs=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Zs.apply(this,arguments)},ov=function(o,r,t,e){function n(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function u(h){try{f(e.next(h))}catch(g){s(g)}}function c(h){try{f(e.throw(h))}catch(g){s(g)}}function f(h){h.done?i(h.value):n(h.value).then(u,c)}f((e=e.apply(o,r||[])).next())})},iv=function(o,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,n,i,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(f){return function(h){return c([f,h])}}function c(f){if(e)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(e=1,n&&(i=f[0]&2?n.return:f[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,f[1])).done)return i;switch(n=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,n=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=r.call(o,t)}catch(h){f=[6,h],n=0}finally{e=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Sf="local",bw="remote",CD=function(o){wD(r,o);function r(t){var e=o.call(this,t,"StorageManager",uD)||this;e.storages={},e.events=xn;var n=e.config;return n._disable&&(n.type=void 0),e.storages={},e.add(Sf,new fD),e.add(bw,new _D),e.setCurrent(n.type),e}return r.prototype.isAutosave=function(){return!!this.config.autosave},r.prototype.setAutosave=function(t){return this.config.autosave=!!t,this},r.prototype.getStepsBeforeSave=function(){return this.config.stepsBeforeSave},r.prototype.setStepsBeforeSave=function(t){return this.config.stepsBeforeSave=t,this},r.prototype.add=function(t,e){return this.storages[t]=e,this},r.prototype.get=function(t){return this.storages[t]},r.prototype.getStorages=function(){return this.storages},r.prototype.getCurrent=function(){return this.config.currentStorage},r.prototype.setCurrent=function(t){return this.getConfig().currentStorage=t,this},r.prototype.getCurrentStorage=function(){return this.get(this.getCurrent())},r.prototype.getStorageOptions=function(t){return this.getCurrentOptions(t)},r.prototype.store=function(t){return ov(this,arguments,void 0,function(e,n){var i,s,u,c,f,h;return n===void 0&&(n={}),iv(this,function(g){switch(g.label){case 0:i=this.getCurrentStorage(),s=Zs(Zs({},this.getCurrentOptions()),n),u=this.getRecoveryStorage(),c=this.getCurrentOptions(Sf),g.label=1;case 1:return g.trys.push([1,5,,9]),[4,this.__exec(i,s,e)];case 2:return g.sent(),f=u,f?[4,this.__exec(u,c,{})]:[3,4];case 3:f=g.sent(),g.label=4;case 4:return[3,9];case 5:return h=g.sent(),u?[4,this.__exec(u,c,e)]:[3,7];case 6:return g.sent(),[3,8];case 7:throw h;case 8:return[3,9];case 9:return[2,e]}})})},r.prototype.load=function(){return ov(this,arguments,void 0,function(t){var e,n,i,s,u;return t===void 0&&(t={}),iv(this,function(c){switch(c.label){case 0:return e=this.getCurrentStorage(),n=Zs(Zs({},this.getCurrentOptions()),t),i=this.getRecoveryStorage(),i?[4,this.__exec(i,this.getCurrentOptions(Sf))]:[3,5];case 1:if(u=c.sent(),(0,D.isEmpty)(u))return[3,5];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this.__askRecovery()];case 3:return c.sent(),s=u,[3,5];case 4:return c.sent(),[3,5];case 5:return s?[3,7]:[4,this.__exec(e,n)];case 6:s=c.sent(),c.label=7;case 7:return[2,s||{}]}})})},r.prototype.__askRecovery=function(){var t=this.em,e=this.getRecovery();return new Promise(function(n,i){(0,D.isFunction)(e)?e(n,i,t==null?void 0:t.getEditor()):confirm(t==null?void 0:t.t("storageManager.recover"))?n(null):i()})},r.prototype.getRecovery=function(){return this.config.recovery},r.prototype.getRecoveryStorage=function(){var t=this.getRecovery();return t&&this.getCurrent()===bw&&this.get(Sf)},r.prototype.__exec=function(t,e,n){return ov(this,void 0,void 0,function(){var i,s,u,c,f,h,g,m,y,w,b,O,S,P;return iv(this,function(T){switch(T.label){case 0:if(i=n?"store":"load",s=this.getConfig(),u=s.onStore,c=s.onLoad,!t)return[2,n||{}];this.onStart(i,n),T.label=1;case 1:return T.trys.push([1,14,,15]),h=(P=this.em)===null||P===void 0?void 0:P.getEditor(),g=void 0,n?(y=u,y?[4,u(n,h)]:[3,3]):[3,7];case 2:y=T.sent(),T.label=3;case 3:return m=y||n,w=e.onStore,w?[4,e.onStore(m,h)]:[3,5];case 4:w=T.sent(),T.label=5;case 5:return m=w||m,[4,t.store(m,e)];case 6:return g=T.sent(),f=n,[3,13];case 7:return[4,t.load(e)];case 8:return g=T.sent(),f=this.__clearKeys(g),b=e.onLoad,b?[4,e.onLoad(f,h)]:[3,10];case 9:b=T.sent(),T.label=10;case 10:return f=b||f,O=c,O?[4,c(f,h)]:[3,12];case 11:O=T.sent(),T.label=12;case 12:f=O||f,T.label=13;case 13:return this.onAfter(i,f,g),this.onEnd(i,f,g),[3,15];case 14:throw S=T.sent(),this.onError(i,S),S;case 15:return[2,f]}})})},r.prototype.__clearKeys=function(t){t===void 0&&(t={});var e=this.getConfig(),n=new RegExp("^".concat(e.id)),i={};for(var s in t){var u=s.replace(n,"");i[u]=t[s]}return i},r.prototype.getCurrentOptions=function(t){var e=this.getConfig(),n=t||this.getCurrent();return e.options[n]||{}},r.prototype.onStart=function(t,e){var n=this.em;if(n){var i=t==="load"?xn.startLoad:xn.startStore;n.trigger(xn.start,t,e),n.trigger(i,e)}},r.prototype.onAfter=function(t,e,n){var i=this.em;if(i){var s=t==="load"?xn.afterLoad:xn.afterStore;i.trigger(xn.after),i.trigger(s,e,n);var u=t==="load"?xn.load:xn.store;i.trigger(u,e,n)}},r.prototype.onEnd=function(t,e,n){var i=this.em;if(i){var s=t==="load"?xn.endLoad:xn.endStore;i.trigger(xn.end,t,e,n),i.trigger(s,e,n)}},r.prototype.onError=function(t,e){var n=this.em;if(n){var i=t==="load"?xn.errorLoad:xn.errorStore;n.trigger(xn.error,e,t),n.trigger(i,e),this.onEnd(t,e)}},r.prototype.canAutoload=function(){var t=this.getCurrentStorage();return!!t&&!!this.config.autoload},r.prototype.destroy=function(){this.storages={}},r}(qn);const bD=CD;var xD={stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}],custom:!1};const SD=xD;var OD=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Vu=function(){return Vu=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Vu.apply(this,arguments)},SS=function(o){OD(r,o);function r(t){t===void 0&&(t={});var e=o.call(this,t)||this;e.events={},e.appendInput=!0;var n=t.config,i=n===void 0?{}:n,s=e,u=s.model,c=s.eventCapture,f=u.target,h=u.attributes.type;e.config=i,e.em=i.em,e.pfx=i.stylePrefix||"",e.ppfx=i.pStylePrefix||"",e.target=f,e.className=e.pfx+"trait",e.clsField="".concat(e.ppfx,"field ").concat(e.ppfx,"field-").concat(h);var g=[["change:value",e.onValueChange],["remove",e.removeView]];return g.forEach(function(m){var y=m[0],w=m[1];u.off(y,w),e.listenTo(u,y,w)}),u.view=e,e.listenTo(u,"change:label",e.render),e.listenTo(u,"change:placeholder",e.rerender),e.events={},c.forEach(function(m){return e.events[m]="onChange"}),e.delegateEvents(),e.init(),e}return r.prototype.attributes=function(){return this.model.get("attributes")||{}},r.prototype.templateLabel=function(t){var e=this.ppfx,n=this.getLabel();return'<div class="'.concat(e,'label" title="').concat(n,'">').concat(n,"</div>")},r.prototype.templateInput=function(t){var e=this.clsField;return'<div class="'.concat(e,'" data-input></div>')},r.prototype.getClbOpts=function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},r.prototype.removeView=function(){this.remove(),this.removed()},r.prototype.init=function(){},r.prototype.removed=function(){},r.prototype.onRender=function(t){},r.prototype.onUpdate=function(t){},r.prototype.onEvent=function(t){},r.prototype.onChange=function(t){var e=this.getInputElem();e&&!(0,D.isUndefined)(e.value)&&this.model.set("value",e.value),this.onEvent(Vu(Vu({},this.getClbOpts()),{event:t}))},r.prototype.getValueForTarget=function(){return this.model.get("value")},r.prototype.setInputValue=function(t){var e=this.getInputElem();e&&(e.value=t)},r.prototype.onValueChange=function(t,e,n){if(n===void 0&&(n={}),n.fromTarget)this.setInputValue(t.get("value")),this.postUpdate();else{var i=this.getValueForTarget();t.setTargetValue(i,n)}},r.prototype.renderLabel=function(){var t=this,e=t.$el,n=t.target,i=this.getLabel(),s=this.templateLabel(n);this.createLabel&&(s=this.createLabel({label:i,component:n,trait:this})||""),e.find("[data-label]").append(s)},r.prototype.getLabel=function(){var t=this.em,e=this.model.attributes,n=e.label,i=e.name;return t.t("traitManager.traits.labels.".concat(i))||(0,Mt.capitalize)(n||i).replace(/-/g," ")},r.prototype.getComponent=function(){return this.target},r.prototype.getInputEl=function(){if(!this.$input){var t=this,e=t.em,n=t.model,i=n,s=n.attributes.name,u=i.get("placeholder")||i.get("default")||"",c=i.get("type")||"text",f=i.get("min"),h=i.get("max"),g=this.getModelValue(),m=(0,sr.default)('<input type="'.concat(c,'">')),y=e.t("traitManager.traits.attributes.".concat(s))||{};m.attr(Vu({placeholder:u},y)),(0,D.isUndefined)(g)||(i.set({value:g},{silent:!0}),m.prop("value",g)),f&&m.prop("min",f),h&&m.prop("max",h),this.$input=m}return this.$input.get(0)},r.prototype.getInputElem=function(){var t=this,e=t.input,n=t.$input;return e||n&&n.get&&n.get(0)||this.getElInput()},r.prototype.getModelValue=function(){return this.model.getValue()},r.prototype.getElInput=function(){return this.elInput},r.prototype.renderField=function(){var t=this,e=t.$el,n=t.appendInput,i=t.model,s=e.find("[data-input]"),u=s[s.length-1],c=i.el;c||(c=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,D.isString)(c)?(u.innerHTML=c,this.elInput=u.firstChild):(n?u.appendChild(c):u.insertBefore(c,u.firstChild),this.elInput=c),i.el=this.elInput},r.prototype.hasLabel=function(){var t=this.model.attributes.label;return!this.noLabel&&t!==!1},r.prototype.rerender=function(){delete this.model.el,this.render()},r.prototype.postUpdate=function(){this.onUpdate(this.getClbOpts())},r.prototype.render=function(){var t=this,e=t.$el,n=t.pfx,i=t.ppfx,s=t.model,u=s.attributes,c=u.type,f=u.id,h=this.hasLabel&&this.hasLabel(),g="".concat(n,"trait");delete this.$input;var m='<div class="'.concat(g," ").concat(g,"--").concat(c,`">
      `).concat(h?'<div class="'.concat(i,'label-wrp" data-label></div>'):"",`
      <div class="`).concat(i,"field-wrp ").concat(i,"field-wrp--").concat(c,`" data-input>
        `).concat(this.templateInput?(0,D.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"",`
      </div>
    </div>`);return e.empty().append(m),h&&this.renderLabel(),this.renderField(),this.el.className="".concat(g,"__wrp ").concat(g,"__wrp-").concat(f),this.postUpdate(),this.onRender(this.getClbOpts()),this},r}($t.Ss);const Pi=SS;SS.prototype.eventCapture=["change"];var TD=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),OS=function(o){TD(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.templateInput=function(){return""},r.prototype.onChange=function(){this.handleClick()},r.prototype.handleClick=function(){this.model.runCommand()},r.prototype.renderLabel=function(){this.model.get("label")&&Pi.prototype.renderLabel.apply(this)},r.prototype.getInputEl=function(){var t=this,e=t.model,n=t.ppfx,i=e.props(),s=i.labelButton,u=i.text,c=i.full,f=s||u,h="".concat(n,"btn"),g='<button type="button" class="'.concat(h,"-prim").concat(c?" ".concat(h,"--full"):"",'">').concat(f,"</button>");return g},r}(Pi);const ED=OS;OS.prototype.eventCapture=["click button"];var PD=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),kD=function(o){PD(r,o);function r(){var t=o!==null&&o.apply(this,arguments)||this;return t.appendInput=!1,t}return r.prototype.templateInput=function(){var t=this,e=t.ppfx,n=t.clsField;return'<label class="'.concat(n,`" data-input>
    <i class="`).concat(e,`chk-icon"></i>
  </label>`)},r.prototype.onChange=function(){this.model.set("value",this.getInputElem().checked)},r.prototype.setInputValue=function(t){var e=this.getInputElem();e&&(e.checked=!!t)},r.prototype.getInputEl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=!this.$input,i=Pi.prototype.getInputEl.apply(this,t);if(n){var s=void 0,u=void 0,c=this,f=c.model,h=c.target,g=f.attributes.valueFalse,m=f.getName();f.changeProp?(s=h.get(m),u=s):(u=h.get("attributes")[m],s=!!(u||u==="")),!(0,D.isUndefined)(g)&&u===g&&(s=!1),i.checked=s}return i},r}(Pi);const AD=kD;function MD(o,r){if(!(0,Mt.hasWin)())return;var t={beforeShow:y,move:y,change:y,show:y,hide:y,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},e=[],n=!!/msie/i.exec(window.navigator.userAgent),i=function(){function B(Et,yt){return!!~(""+Et).indexOf(yt)}var ot=document.createElement("div"),N=ot.style;return N.cssText="background-color:rgba(0,0,0,.5)",B(N.backgroundColor,"rgba")||B(N.backgroundColor,"hsla")}(),s=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),u=function(){var B="";if(n)for(var ot=1;ot<=6;ot++)B+="<div class='sp-"+ot+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",B,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();function c(B,ot,N,Et){for(var yt=[],Nt=0;Nt<B.length;Nt++){var Qt=B[Nt];if(Qt){var Zt=V(Qt),Kt=Zt.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";Kt+=V.equals(ot,Qt)?" sp-thumb-active":"";var se=Zt.toString(Et.preferredFormat||"rgb"),Oe=i?"background-color:"+Zt.toRgbString():"filter:"+Zt.toFilter();yt.push('<span title="'+se+'" data-color="'+Zt.toRgbString()+'" class="'+Kt+'"><span class="sp-thumb-inner" style="'+Oe+';"></span></span>')}else{var Me="sp-clear-display";yt.push(o("<div />").append(o('<span data-color="" style="background-color:transparent;" class="'+Me+'"></span>').attr("title",Et.noColorSelectedText)).html())}}return"<div class='sp-cf "+N+"'>"+yt.join("")+"</div>"}function f(){for(var B=0;B<e.length;B++)e[B]&&e[B].hide()}function h(B,ot){var N=o.extend({},t,B);return N.callbacks={move:b(N.move,ot),change:b(N.change,ot),show:b(N.show,ot),hide:b(N.hide,ot),beforeShow:b(N.beforeShow,ot)},N}function g(B,ot){var N=h(ot,B),Et=N.flat,yt=N.showSelectionPalette,Nt=N.localStorageKey,Qt=N.theme,Zt=N.callbacks,Kt=S(no,10),se=!1,Oe=!1,Me=!0,Ee=0,ir=0,Tr=0,F=0,tt=0,dt=0,kt=0,zt=0,ce=0,we=0,Ge=1,hr=[],Ye=[],Jn={},Xe=N.selectionPalette.slice(0),tn=N.maxSelectionSize,Ln="sp-dragging",Ne=null,vr=B.ownerDocument;vr.body;var Le=o(B),Gr=!1,ve=o(u,vr).addClass(Qt),Dn=ve.find(".sp-picker-container"),vn=ve.find(".sp-color"),yr=ve.find(".sp-dragger"),_r=ve.find(".sp-hue"),en=ve.find(".sp-slider"),Ie=ve.find(".sp-alpha-inner"),ne=ve.find(".sp-alpha"),jr=ve.find(".sp-alpha-handle"),Qe=ve.find(".sp-input"),Nr=ve.find(".sp-palette"),ke=ve.find(".sp-initial"),ze=ve.find(".sp-cancel"),jn=ve.find(".sp-clear"),Zn=ve.find(".sp-choose"),jt=ve.find(".sp-palette-toggle"),pe=Le.is("input"),Qn=pe&&Le.attr("type")==="color"&&P(),I=pe&&!Et,q=I?o(s).addClass(Qt).addClass(N.className).addClass(N.replacerClassName):o([]),St=I?q:Le,It=q.find(".sp-preview-inner"),Rt=N.color||pe&&Le.val(),Se=!1,Pe=N.preferredFormat,qe=!N.showButtons||N.clickoutFiresChange,Fe=!Rt,Nn=N.allowEmpty&&!Qn;function Ai(){if(N.showPaletteOnly&&(N.showPalette=!0),jt.text(N.showPaletteOnly?N.togglePaletteMoreText:N.togglePaletteLessText),N.palette){hr=N.palette.slice(0),Ye=o.isArray(hr[0])?hr:[hr],Jn={};for(var ue=0;ue<Ye.length;ue++)for(var le=0;le<Ye[ue].length;le++){var De=V(Ye[ue][le]).toRgbString();Jn[De]=!0}}ve.toggleClass("sp-flat",Et),ve.toggleClass("sp-input-disabled",!N.showInput),ve.toggleClass("sp-alpha-enabled",N.showAlpha),ve.toggleClass("sp-clear-enabled",Nn),ve.toggleClass("sp-buttons-disabled",!N.showButtons),ve.toggleClass("sp-palette-buttons-disabled",!N.togglePaletteOnly),ve.toggleClass("sp-palette-disabled",!N.showPalette),ve.toggleClass("sp-palette-only",N.showPaletteOnly),ve.toggleClass("sp-initial-disabled",!N.showInitial),ve.addClass(N.className).addClass(N.containerClassName),no()}function ni(){if(n&&ve.find("*:not(input)").attr("unselectable","on"),Ai(),I&&Le.after(q).hide(),Nn||jn.hide(),Et)Le.after(ve).hide();else{var ue=N.appendTo==="parent"?Le.parent():o(N.appendTo);ue.length!==1&&(ue=o("body")),ue.append(ve)}oi(),St.bind("click.spectrum touchstart.spectrum",function(me){Gr||Di(),me.stopPropagation(),o(me.target).is("input")||me.preventDefault()}),(Le.is(":disabled")||N.disabled===!0)&&mo(),ve.click(w),Qe.change(Mo),Qe.bind("paste",function(){setTimeout(Mo,1)}),Qe.keydown(function(me){me.keyCode==13&&Mo()}),ze.text(N.cancelText),ze.bind("click.spectrum",function(me){me.stopPropagation(),me.preventDefault(),Lo(),to()}),jn.attr("title",N.clearText),jn.bind("click.spectrum",function(me){me.stopPropagation(),me.preventDefault(),Fe=!0,Do(),Et&&ro(!0)}),Zn.text(N.chooseText),Zn.bind("click.spectrum",function(me){me.stopPropagation(),me.preventDefault(),n&&Qe.is(":focus")&&Qe.trigger("change"),fs()&&(ro(!0),to())}),jt.text(N.showPaletteOnly?N.togglePaletteMoreText:N.togglePaletteLessText),jt.bind("click.spectrum",function(me){me.stopPropagation(),me.preventDefault(),N.showPaletteOnly=!N.showPaletteOnly,!N.showPaletteOnly&&!Et&&ve.css("left","-="+(Dn.outerWidth(!0)+5)),Ai()}),O(ne,function(me,tr,Cr){Ge=me/tt,Fe=!1,Cr.shiftKey&&(Ge=Math.round(Ge*10)/10),Do()},ai,Go),O(_r,function(me,tr){zt=parseFloat(tr/F),Fe=!1,N.showAlpha||(Ge=1),Do()},ai,Go),O(vn,function(me,tr,Cr){if(!Cr.shiftKey)Ne=null;else if(!Ne){var nn=ce*Ee,yo=ir-we*ir,gn=Math.abs(me-nn)>Math.abs(tr-yo);Ne=gn?"x":"y"}var mn=!Ne||Ne==="x",In=!Ne||Ne==="y";mn&&(ce=parseFloat(me/Ee)),In&&(we=parseFloat((ir-tr)/ir)),Fe=!1,N.showAlpha||(Ge=1),Do()},ai,Go),Rt?(rn(Rt),eo(),Pe=N.preferredFormat||V(Rt).getFormat(),ii(Rt)):eo(),Et&&wr();function le(me){return me.data&&me.data.ignore?(rn(o(me.target).closest(".sp-thumb-el").data("color")),Do()):(rn(o(me.target).closest(".sp-thumb-el").data("color")),Do(),N.hideAfterPaletteSelect&&(ro(!0),to())),!1}var De=n?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Nr.delegate(".sp-thumb-el",De,le),ke.delegate(".sp-thumb-el:nth-child(1)",De,{ignore:!0},le)}function oi(){if(Nt&&window.localStorage){try{var ue=window.localStorage[Nt].split(",#");ue.length>1&&(delete window.localStorage[Nt],o.each(ue,function(le,De){ii(De)}))}catch{}try{Xe=window.localStorage[Nt].split(";")}catch{}}}function ii(ue){if(yt){var le=V(ue).toRgbString();if(!Jn[le]&&o.inArray(le,Xe)===-1)for(Xe.push(le);Xe.length>tn;)Xe.shift();if(Nt&&window.localStorage)try{window.localStorage[Nt]=Xe.join(";")}catch{}}}function Oa(){var ue=[];if(N.showPalette)for(var le=0;le<Xe.length;le++){var De=V(Xe[le]).toRgbString();Jn[De]||ue.push(Xe[le])}return ue.reverse().slice(0,N.maxSelectionSize)}function Mi(){var ue=Pr(),le=o.map(Ye,function(De,me){return c(De,ue,"sp-palette-row sp-palette-row-"+me,N)});oi(),Xe&&le.push(c(Oa(),ue,"sp-palette-row sp-palette-row-selection",N)),Nr.html(le.join(""))}function Li(){if(N.showInitial){var ue=Se,le=Pr();ke.html(c([ue,le],le,"sp-palette-row-initial",N))}}function ai(){(ir<=0||Ee<=0||F<=0)&&no(),Oe=!0,ve.addClass(Ln),Ne=null,Le.trigger("dragstart.spectrum",[Pr()])}function Go(){Oe=!1,ve.removeClass(Ln),Le.trigger("dragstop.spectrum",[Pr()])}function Mo(){var ue=Qe.val();if((ue===null||ue==="")&&Nn)rn(null),ro(!0);else{var le=V(ue);le.isValid()?(rn(le),ro(!0)):Qe.addClass("sp-validation-error")}}function Di(){se?to():wr()}function wr(){var ue=o.Event("beforeShow.spectrum");if(se){no();return}if(Le.trigger("beforeShow.spectrum",[Pr()]),!(Zt.beforeShow(Pr())===!1||ue.isDefaultPrevented())){f(),se=!0;var le=o(vr);le.bind("keydown.spectrum",Er),le.bind("click.spectrum",Ta),o(window).bind("resize.spectrum",Kt),q.addClass("sp-active"),ve.removeClass("sp-hidden"),no(),eo(),Se=Pr(),Li(),Zt.show(Se),Le.trigger("show.spectrum",[Se])}}function Er(ue){ue.keyCode===27&&to()}function Ta(ue){ue.button!=2&&(Oe||(qe?ro(!0):Lo(),to()))}function to(){!se||Et||(se=!1,o(vr).unbind("keydown.spectrum",Er),o(vr).unbind("click.spectrum",Ta),o(window).unbind("resize.spectrum",Kt),q.removeClass("sp-active"),ve.addClass("sp-hidden"),Zt.hide(Pr()),Le.trigger("hide.spectrum",[Pr()]))}function Lo(){rn(Se,!0)}function rn(ue,le){if(V.equals(ue,Pr())){eo();return}var De,me;!ue&&Nn?Fe=!0:(Fe=!1,Me=!ue,De=V(ue),me=De.toHsv(),zt=me.h%360/360,ce=me.s,we=me.v,Ge=me.a),eo(),De&&De.isValid()&&!le&&(Pe=N.preferredFormat||De.getFormat())}function Pr(ue){return ue=ue||{},Nn&&Fe?null:V.fromRatio({h:zt,s:ce,v:we,a:Math.round(Ge*100)/100},{format:ue.format||Pe})}function fs(){return!Qe.hasClass("sp-validation-error")}function Do(){eo(),Zt.move(Pr()),Le.trigger("move.spectrum",[Pr()])}function eo(){Qe.removeClass("sp-validation-error"),si();var ue=V.fromRatio({h:zt,s:1,v:1});vn.css("background-color",ue.toHexString());var le=Pe;Ge<1&&!(Ge===0&&le==="name")&&(le==="hex"||le==="hex3"||le==="hex6"||le==="name")&&(le="rgb");var De=Pr({format:le}),me="";if(It.removeClass("sp-clear-display"),It.css("background-color","transparent"),!De&&Nn)It.addClass("sp-clear-display");else{var tr=De.toHexString(),Cr=De.toRgbString();if(i||De.alpha===1?It.css("background-color",Cr):(It.css("background-color","transparent"),It.css("filter",De.toFilter())),N.showAlpha){var nn=De.toRgb();nn.a=0;var yo=V(nn).toRgbString(),gn="linear-gradient(left, "+yo+", "+tr+")";n?Ie.css("filter",V(yo).toFilter({gradientType:1},tr)):(Ie.css("background","-webkit-"+gn),Ie.css("background","-moz-"+gn),Ie.css("background","-ms-"+gn),Ie.css("background","linear-gradient(to right, "+yo+", "+tr+")"))}me=De.toString(le)}N.showInput&&Qe.val(me),N.showPalette&&Mi(),Li()}function si(){var ue=ce,le=we;if(Nn&&Fe)jr.hide(),en.hide(),yr.hide();else{jr.show(),en.show(),yr.show();var De=ue*Ee,me=ir-le*ir;De=Math.max(-Tr,Math.min(Ee-Tr,De-Tr)),me=Math.max(-Tr,Math.min(ir-Tr,me-Tr)),yr.css({top:me+"px",left:De+"px"});var tr=Ge*tt;jr.css({left:tr-dt/2+"px"});var Cr=zt*F;en.css({top:Cr-kt+"px"})}}function ro(ue){var le=Pr(),De="",me=Me?!0:!V.equals(le,Se);le&&(De=le.toString(Pe),!se&&ii(le)),pe&&Le.val(De),ue&&me&&(Zt.change(le),Le.trigger("change",[le]))}function no(){se&&(Ee=vn.width(),ir=vn.height(),Tr=yr.height(),_r.width(),F=_r.height(),kt=en.height(),tt=ne.width(),dt=jr.width(),Et||(ve.css("position","absolute"),N.offset?ve.offset(N.offset):ve.offset(m(ve,St))),si(),N.showPalette&&Mi(),Le.trigger("reflow.spectrum"))}function Ea(){Le.show(),St.unbind("click.spectrum touchstart.spectrum"),ve.remove(),q.remove(),e[jo.id]=null}function ji(ue,le){if(ue===r)return o.extend({},N);if(le===r)return N[ue];N[ue]=le,ue==="preferredFormat"&&(Pe=N.preferredFormat),Ai()}function li(){Gr=!1,Le.attr("disabled",!1),St.removeClass("sp-disabled")}function mo(){to(),Gr=!0,Le.attr("disabled",!0),St.addClass("sp-disabled")}function ui(ue){N.offset=ue,no()}ni();var jo={show:wr,hide:to,toggle:Di,reflow:no,option:ji,enable:li,disable:mo,offset:ui,set:function(ue){rn(ue),ro()},get:Pr,destroy:Ea,container:ve};return jo.id=e.push(jo)-1,jo}function m(B,ot){for(var N=ot[0],Et=B[0],yt=Et.parentElement,Nt=N.getBoundingClientRect(),Qt=Et.offsetWidth,Zt=Et.offsetHeight,Kt={top:0,left:0,width:N.offsetWidth,height:N.offsetHeight};N&&(Kt.top+=N.offsetTop-N.scrollTop,Kt.left+=N.offsetLeft-N.scrollLeft,!(N===yt||!yt.contains(N.offsetParent)));)N=N.offsetParent;return Nt.right+Qt>window.innerWidth-window.scrollX&&Nt.right-Qt>0&&(Kt.left-=Qt-Kt.width),Nt.bottom+Zt<window.innerHeight-window.scrollY?Kt.top+=Kt.height:Kt.top-=Zt,Kt}function y(){}function w(B){B.stopPropagation()}function b(B,ot){var N=Array.prototype.slice,Et=N.call(arguments,2);return function(){return B.apply(ot,Et.concat(N.call(arguments)))}}function O(B,ot,N,Et){ot=ot||function(){},N=N||function(){},Et=Et||function(){};var yt=document,Nt=!1,Qt={},Zt=0,Kt=0,se="ontouchstart"in window,Oe={};Oe.selectstart=Me,Oe.dragstart=Me,Oe["touchmove mousemove"]=Ee,Oe["touchend mouseup"]=Tr;function Me(F){F.stopPropagation&&F.stopPropagation(),F.preventDefault&&F.preventDefault(),F.returnValue=!1}function Ee(F){if(Nt){if(n&&yt.documentMode<9&&!F.button)return Tr();var tt=F&&F.touches&&F.touches[0],dt=tt&&tt.pageX||F.pageX,kt=tt&&tt.pageY||F.pageY,zt=Math.max(0,Math.min(dt-Qt.left,Kt)),ce=Math.max(0,Math.min(kt-Qt.top,Zt));se&&Me(F),ot.apply(B,[zt,ce,F])}}function ir(F){var tt=F.which?F.which==3:F.button==2;!tt&&!Nt&&N.apply(B,arguments)!==!1&&(Nt=!0,Zt=o(B).height(),Kt=o(B).width(),Qt=o(B).offset(),o(yt).bind(Oe),o(yt.body).addClass("sp-dragging"),Ee(F),Me(F))}function Tr(){Nt&&(o(yt).unbind(Oe),o(yt.body).removeClass("sp-dragging"),setTimeout(function(){Et.apply(B,arguments)},0)),Nt=!1}o(B).bind("touchstart mousedown",ir)}function S(B,ot,N){var Et;return function(){var yt=this,Nt=arguments,Qt=function(){Et=null,B.apply(yt,Nt)};N&&clearTimeout(Et),(N||!Et)&&(Et=setTimeout(Qt,ot))}}function P(){return o.fn.spectrum.inputTypeColorSupport()}var T="spectrum.id";o.fn.spectrum=function(B,ot){if(typeof B=="string"){var N=this,Et=Array.prototype.slice.call(arguments,1);return this.each(function(){var yt=e[o(this).data(T)];if(yt){var Nt=yt[B];if(!Nt)throw new Error("Spectrum: no such method: '"+B+"'");B=="get"?N=yt.get():B=="container"?N=yt.container:B=="option"?N=yt.option.apply(yt,Et):B=="destroy"?(yt.destroy(),o(this).removeData(T)):Nt.apply(yt,Et)}}),N}return this.spectrum("destroy").each(function(){var yt=o.extend({},B,o(this).data()),Nt=g(this,yt);o(this).data(T,Nt.id)})},o.fn.spectrum.load=!0,o.fn.spectrum.loadOpts={},o.fn.spectrum.draggable=O,o.fn.spectrum.defaults=t,o.fn.spectrum.inputTypeColorSupport=function B(){if(typeof B._cachedResult>"u"){var ot=o("<input type='color'/>")[0];B._cachedResult=ot.type==="color"&&ot.value!==""}return B._cachedResult},o.spectrum={},o.spectrum.localization={},o.spectrum.palettes={},o.fn.spectrum.processNativeColorInputs=function(){var B=o("input[type=color]");B.length&&!P()&&B.spectrum({preferredFormat:"hex6"})};var j=/^[\s,#]+/,X=/\s+$/,at=0,ft=Math,Q=ft.round,K=ft.min,rt=ft.max,H=ft.random,V=function(B,ot){if(B=B||"",ot=ot||{},B instanceof V)return B;if(!(this instanceof V))return new V(B,ot);var N=W(B);this._originalInput=B,this._r=N.r,this._g=N.g,this._b=N.b,this._a=N.a,this._roundA=Q(100*this._a)/100,this._format=ot.format||N.format,this._gradientType=ot.gradientType,this._r<1&&(this._r=Q(this._r)),this._g<1&&(this._g=Q(this._g)),this._b<1&&(this._b=Q(this._b)),this._ok=N.ok,this._tc_id=at++};V.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var B=this.toRgb();return(B.r*299+B.g*587+B.b*114)/1e3},setAlpha:function(B){return this._a=_e(B),this._roundA=Q(100*this._a)/100,this},toHsv:function(){var B=_t(this._r,this._g,this._b);return{h:B.h*360,s:B.s,v:B.v,a:this._a}},toHsvString:function(){var B=_t(this._r,this._g,this._b),ot=Q(B.h*360),N=Q(B.s*100),Et=Q(B.v*100);return this._a==1?"hsv("+ot+", "+N+"%, "+Et+"%)":"hsva("+ot+", "+N+"%, "+Et+"%, "+this._roundA+")"},toHsl:function(){var B=it(this._r,this._g,this._b);return{h:B.h*360,s:B.s,l:B.l,a:this._a}},toHslString:function(){var B=it(this._r,this._g,this._b),ot=Q(B.h*360),N=Q(B.s*100),Et=Q(B.l*100);return this._a==1?"hsl("+ot+", "+N+"%, "+Et+"%)":"hsla("+ot+", "+N+"%, "+Et+"%, "+this._roundA+")"},toHex:function(B){return Ct(this._r,this._g,this._b,B)},toHexString:function(B){return"#"+this.toHex(B)},toHex8:function(){return Dt(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:Q(this._r),g:Q(this._g),b:Q(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Q(this._r)+", "+Q(this._g)+", "+Q(this._b)+")":"rgba("+Q(this._r)+", "+Q(this._g)+", "+Q(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Q(A(this._r,255)*100)+"%",g:Q(A(this._g,255)*100)+"%",b:Q(A(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Q(A(this._r,255)*100)+"%, "+Q(A(this._g,255)*100)+"%, "+Q(A(this._b,255)*100)+"%)":"rgba("+Q(A(this._r,255)*100)+"%, "+Q(A(this._g,255)*100)+"%, "+Q(A(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Ze[Ct(this._r,this._g,this._b,!0)]||!1},toFilter:function(B){var ot="#"+Dt(this._r,this._g,this._b,this._a),N=ot,Et=this._gradientType?"GradientType = 1, ":"";if(B){var yt=V(B);N=yt.toHex8String()}return"progid:DXImageTransform.Microsoft.gradient("+Et+"startColorstr="+ot+",endColorstr="+N+")"},toString:function(B){var ot=!!B;B=B||this._format;var N=!1,Et=this._a<1&&this._a>=0,yt=!ot&&Et&&(B==="hex"||B==="hex6"||B==="hex3"||B==="name");return yt?B==="name"&&this._a===0?this.toName():this.toRgbString():(B==="rgb"&&(N=this.toRgbString()),B==="prgb"&&(N=this.toPercentageRgbString()),(B==="hex"||B==="hex6")&&(N=this.toHexString()),B==="hex3"&&(N=this.toHexString(!0)),B==="hex8"&&(N=this.toHex8String()),B==="name"&&(N=this.toName()),B==="hsl"&&(N=this.toHslString()),B==="hsv"&&(N=this.toHsvString()),N||this.toHexString())},_applyModification:function(B,ot){var N=B.apply(null,[this].concat([].slice.call(ot)));return this._r=N._r,this._g=N._g,this._b=N._b,this.setAlpha(N._a),this},lighten:function(){return this._applyModification(Tt,arguments)},brighten:function(){return this._applyModification(te,arguments)},darken:function(){return this._applyModification(pt,arguments)},desaturate:function(){return this._applyModification(st,arguments)},saturate:function(){return this._applyModification(Ot,arguments)},greyscale:function(){return this._applyModification(Vt,arguments)},spin:function(){return this._applyModification(bt,arguments)},_applyCombination:function(B,ot){return B.apply(null,[this].concat([].slice.call(ot)))},analogous:function(){return this._applyCombination(ee,arguments)},complement:function(){return this._applyCombination(At,arguments)},monochromatic:function(){return this._applyCombination(Ae,arguments)},splitcomplement:function(){return this._applyCombination(Ut,arguments)},triad:function(){return this._applyCombination(Wt,arguments)},tetrad:function(){return this._applyCombination(Yt,arguments)}},V.fromRatio=function(B,ot){if(typeof B=="object"){var N={};for(var Et in B)B.hasOwnProperty(Et)&&(Et==="a"?N[Et]=B[Et]:N[Et]=vt(B[Et]));B=N}return V(B,ot)};function W(B){var ot={r:0,g:0,b:0},N=1,Et=!1,yt=!1;return typeof B=="string"&&(B=ge(B)),typeof B=="object"&&(B.hasOwnProperty("r")&&B.hasOwnProperty("g")&&B.hasOwnProperty("b")?(ot=z(B.r,B.g,B.b),Et=!0,yt=String(B.r).substr(-1)==="%"?"prgb":"rgb"):B.hasOwnProperty("h")&&B.hasOwnProperty("s")&&B.hasOwnProperty("v")?(B.s=vt(B.s),B.v=vt(B.v),ot=nt(B.h,B.s,B.v),Et=!0,yt="hsv"):B.hasOwnProperty("h")&&B.hasOwnProperty("s")&&B.hasOwnProperty("l")&&(B.s=vt(B.s),B.l=vt(B.l),ot=L(B.h,B.s,B.l),Et=!0,yt="hsl"),B.hasOwnProperty("a")&&(N=B.a)),N=_e(N),{ok:Et,format:B.format||yt,r:K(255,rt(ot.r,0)),g:K(255,rt(ot.g,0)),b:K(255,rt(ot.b,0)),a:N}}function z(B,ot,N){return{r:A(B,255)*255,g:A(ot,255)*255,b:A(N,255)*255}}function it(B,ot,N){B=A(B,255),ot=A(ot,255),N=A(N,255);var Et=rt(B,ot,N),yt=K(B,ot,N),Nt,Qt,Zt=(Et+yt)/2;if(Et==yt)Nt=Qt=0;else{var Kt=Et-yt;switch(Qt=Zt>.5?Kt/(2-Et-yt):Kt/(Et+yt),Et){case B:Nt=(ot-N)/Kt+(ot<N?6:0);break;case ot:Nt=(N-B)/Kt+2;break;case N:Nt=(B-ot)/Kt+4;break}Nt/=6}return{h:Nt,s:Qt,l:Zt}}function L(B,ot,N){var Et,yt,Nt;B=A(B,360),ot=A(ot,100),N=A(N,100);function Qt(se,Oe,Me){return Me<0&&(Me+=1),Me>1&&(Me-=1),Me<1/6?se+(Oe-se)*6*Me:Me<1/2?Oe:Me<2/3?se+(Oe-se)*(2/3-Me)*6:se}if(ot===0)Et=yt=Nt=N;else{var Zt=N<.5?N*(1+ot):N+ot-N*ot,Kt=2*N-Zt;Et=Qt(Kt,Zt,B+1/3),yt=Qt(Kt,Zt,B),Nt=Qt(Kt,Zt,B-1/3)}return{r:Et*255,g:yt*255,b:Nt*255}}function _t(B,ot,N){B=A(B,255),ot=A(ot,255),N=A(N,255);var Et=rt(B,ot,N),yt=K(B,ot,N),Nt,Qt,Zt=Et,Kt=Et-yt;if(Qt=Et===0?0:Kt/Et,Et==yt)Nt=0;else{switch(Et){case B:Nt=(ot-N)/Kt+(ot<N?6:0);break;case ot:Nt=(N-B)/Kt+2;break;case N:Nt=(B-ot)/Kt+4;break}Nt/=6}return{h:Nt,s:Qt,v:Zt}}function nt(B,ot,N){B=A(B,360)*6,ot=A(ot,100),N=A(N,100);var Et=ft.floor(B),yt=B-Et,Nt=N*(1-ot),Qt=N*(1-yt*ot),Zt=N*(1-(1-yt)*ot),Kt=Et%6,se=[N,Qt,Nt,Nt,Zt,N][Kt],Oe=[Zt,N,N,Qt,Nt,Nt][Kt],Me=[Nt,Nt,Zt,N,N,Qt][Kt];return{r:se*255,g:Oe*255,b:Me*255}}function Ct(B,ot,N,Et){var yt=[$(Q(B).toString(16)),$(Q(ot).toString(16)),$(Q(N).toString(16))];return Et&&yt[0].charAt(0)==yt[0].charAt(1)&&yt[1].charAt(0)==yt[1].charAt(1)&&yt[2].charAt(0)==yt[2].charAt(1)?yt[0].charAt(0)+yt[1].charAt(0)+yt[2].charAt(0):yt.join("")}function Dt(B,ot,N,Et){var yt=[$(ut(Et)),$(Q(B).toString(16)),$(Q(ot).toString(16)),$(Q(N).toString(16))];return yt.join("")}V.equals=function(B,ot){return!B||!ot?!1:V(B).toRgbString()==V(ot).toRgbString()},V.random=function(){return V.fromRatio({r:H(),g:H(),b:H()})};function st(B,ot){ot=ot===0?0:ot||10;var N=V(B).toHsl();return N.s-=ot/100,N.s=U(N.s),V(N)}function Ot(B,ot){ot=ot===0?0:ot||10;var N=V(B).toHsl();return N.s+=ot/100,N.s=U(N.s),V(N)}function Vt(B){return V(B).desaturate(100)}function Tt(B,ot){ot=ot===0?0:ot||10;var N=V(B).toHsl();return N.l+=ot/100,N.l=U(N.l),V(N)}function te(B,ot){ot=ot===0?0:ot||10;var N=V(B).toRgb();return N.r=rt(0,K(255,N.r-Q(255*-(ot/100)))),N.g=rt(0,K(255,N.g-Q(255*-(ot/100)))),N.b=rt(0,K(255,N.b-Q(255*-(ot/100)))),V(N)}function pt(B,ot){ot=ot===0?0:ot||10;var N=V(B).toHsl();return N.l-=ot/100,N.l=U(N.l),V(N)}function bt(B,ot){var N=V(B).toHsl(),Et=(Q(N.h)+ot)%360;return N.h=Et<0?360+Et:Et,V(N)}function At(B){var ot=V(B).toHsl();return ot.h=(ot.h+180)%360,V(ot)}function Wt(B){var ot=V(B).toHsl(),N=ot.h;return[V(B),V({h:(N+120)%360,s:ot.s,l:ot.l}),V({h:(N+240)%360,s:ot.s,l:ot.l})]}function Yt(B){var ot=V(B).toHsl(),N=ot.h;return[V(B),V({h:(N+90)%360,s:ot.s,l:ot.l}),V({h:(N+180)%360,s:ot.s,l:ot.l}),V({h:(N+270)%360,s:ot.s,l:ot.l})]}function Ut(B){var ot=V(B).toHsl(),N=ot.h;return[V(B),V({h:(N+72)%360,s:ot.s,l:ot.l}),V({h:(N+216)%360,s:ot.s,l:ot.l})]}function ee(B,ot,N){ot=ot||6,N=N||30;var Et=V(B).toHsl(),yt=360/N,Nt=[V(B)];for(Et.h=(Et.h-(yt*ot>>1)+720)%360;--ot;)Et.h=(Et.h+yt)%360,Nt.push(V(Et));return Nt}function Ae(B,ot){ot=ot||6;for(var N=V(B).toHsv(),Et=N.h,yt=N.s,Nt=N.v,Qt=[],Zt=1/ot;ot--;)Qt.push(V({h:Et,s:yt,v:Nt})),Nt=(Nt+Zt)%1;return Qt}V.mix=function(B,ot,N){N=N===0?0:N||50;var Et=V(B).toRgb(),yt=V(ot).toRgb(),Nt=N/100,Qt=Nt*2-1,Zt=yt.a-Et.a,Kt;Qt*Zt==-1?Kt=Qt:Kt=(Qt+Zt)/(1+Qt*Zt),Kt=(Kt+1)/2;var se=1-Kt,Oe={r:yt.r*Kt+Et.r*se,g:yt.g*Kt+Et.g*se,b:yt.b*Kt+Et.b*se,a:yt.a*Nt+Et.a*(1-Nt)};return V(Oe)},V.readability=function(B,ot){var N=V(B),Et=V(ot),yt=N.toRgb(),Nt=Et.toRgb(),Qt=N.getBrightness(),Zt=Et.getBrightness(),Kt=Math.max(yt.r,Nt.r)-Math.min(yt.r,Nt.r)+Math.max(yt.g,Nt.g)-Math.min(yt.g,Nt.g)+Math.max(yt.b,Nt.b)-Math.min(yt.b,Nt.b);return{brightness:Math.abs(Qt-Zt),color:Kt}},V.isReadable=function(B,ot){var N=V.readability(B,ot);return N.brightness>125&&N.color>500},V.mostReadable=function(B,ot){for(var N=null,Et=0,yt=!1,Nt=0;Nt<ot.length;Nt++){var Qt=V.readability(B,ot[Nt]),Zt=Qt.brightness>125&&Qt.color>500,Kt=3*(Qt.brightness/125)+Qt.color/500;(Zt&&!yt||Zt&&yt&&Kt>Et||!Zt&&!yt&&Kt>Et)&&(yt=Zt,Et=Kt,N=V(ot[Nt]))}return N};var de=V.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Ze=V.hexNames=He(de);function He(B){var ot={};for(var N in B)B.hasOwnProperty(N)&&(ot[B[N]]=N);return ot}function _e(B){return B=parseFloat(B),(isNaN(B)||B<0||B>1)&&(B=1),B}function A(B,ot){ct(B)&&(B="100%");var N=wt(B);return B=K(ot,rt(0,parseFloat(B))),N&&(B=parseInt(B*ot,10)/100),ft.abs(B-ot)<1e-6?1:B%ot/parseFloat(ot)}function U(B){return K(1,rt(0,B))}function Y(B){return parseInt(B,16)}function ct(B){return typeof B=="string"&&B.indexOf(".")!=-1&&parseFloat(B)===1}function wt(B){return typeof B=="string"&&B.indexOf("%")!=-1}function $(B){return B.length==1?"0"+B:""+B}function vt(B){return B<=1&&(B=B*100+"%"),B}function ut(B){return Math.round(parseFloat(B)*255).toString(16)}function ie(B){return Y(B)/255}var Ce=function(){var B="[-\\+]?\\d+%?",ot="[-\\+]?\\d*\\.\\d+%?",N="(?:"+ot+")|(?:"+B+")",Et="[\\s|\\(]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?",yt="[\\s|\\(]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")[,|\\s]+("+N+")\\s*\\)?";return{rgb:new RegExp("rgb"+Et),rgba:new RegExp("rgba"+yt),hsl:new RegExp("hsl"+Et),hsla:new RegExp("hsla"+yt),hsv:new RegExp("hsv"+Et),hsva:new RegExp("hsva"+yt),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function ge(B){B=B.replace(j,"").replace(X,"").toLowerCase();var ot=!1;if(de[B])B=de[B],ot=!0;else if(B=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var N;return(N=Ce.rgb.exec(B))?{r:N[1],g:N[2],b:N[3]}:(N=Ce.rgba.exec(B))?{r:N[1],g:N[2],b:N[3],a:N[4]}:(N=Ce.hsl.exec(B))?{h:N[1],s:N[2],l:N[3]}:(N=Ce.hsla.exec(B))?{h:N[1],s:N[2],l:N[3],a:N[4]}:(N=Ce.hsv.exec(B))?{h:N[1],s:N[2],v:N[3]}:(N=Ce.hsva.exec(B))?{h:N[1],s:N[2],v:N[3],a:N[4]}:(N=Ce.hex8.exec(B))?{a:ie(N[1]),r:Y(N[2]),g:Y(N[3]),b:Y(N[4]),format:ot?"name":"hex8"}:(N=Ce.hex6.exec(B))?{r:Y(N[1]),g:Y(N[2]),b:Y(N[3]),format:ot?"name":"hex"}:(N=Ce.hex3.exec(B))?{r:Y(N[1]+""+N[1]),g:Y(N[2]+""+N[2]),b:Y(N[3]+""+N[3]),format:ot?"name":"hex"}:!1}window.tinycolor=V,o(function(){o.fn.spectrum.load&&o.fn.spectrum.processNativeColorInputs()})}var LD=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),TS=function(o){LD(r,o);function r(t){t===void 0&&(t={});var e=o.call(this,t)||this,n=t.ppfx||"";return e.opts=t,e.ppfx=n,e.em=t.target||{},!t.onChange&&e.listenTo(e.model,"change:value",e.handleModelChange),e}return r.prototype.template=function(){return'<span class="'.concat(this.holderClass(),'"></span>')},r.prototype.inputClass=function(){return"".concat(this.ppfx,"field")},r.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},r.prototype.elementUpdated=function(){this.model.trigger("el:change")},r.prototype.setValue=function(t,e){var n=this.model,i=t||n.get("defaults"),s=this.getInputEl();s&&(s.value=i)},r.prototype.handleModelChange=function(t,e,n){this.setValue(e,n)},r.prototype.handleChange=function(t){t.stopPropagation();var e=this.getInputEl().value;this.__onInputChange(e),this.elementUpdated()},r.prototype.__onInputChange=function(t){this.model.set({value:t},{fromInput:1})},r.prototype.getInputEl=function(){if(!this.inputEl){var t=this,e=t.model,n=t.opts,i=n.type||"text",s=e.get("placeholder")||e.get("defaults")||e.get("default")||"";this.inputEl=(0,sr.default)('<input type="'.concat(i,'" placeholder="').concat(s,'">'))}return this.inputEl.get(0)},r.prototype.render=function(){this.inputEl=null;var t=this.$el;return t.addClass(this.inputClass()),t.html(this.template()),t.find(".".concat(this.holderClass())).append(this.getInputEl()),this},r}($t.Ss);const Yd=TS;TS.prototype.events={change:"handleChange"};var DD=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Uu=function(){return Uu=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Uu.apply(this,arguments)};sr.default&&MD(sr.default);var Of=function(o){var r=o.getFormat()==="name"&&o.toName(),t=o.getAlpha()==1?o.toHexString():o.toRgbString();return r||t.replace(/ /g,"")},jD=function(o){DD(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.template=function(){var t=this.ppfx;return`
      <div class="`.concat(this.holderClass(),`"></div>
      <div class="`).concat(t,`field-colorp">
        <div class="`).concat(t,`field-colorp-c" data-colorp-c>
          <div class="`).concat(t,`checker-bg"></div>
        </div>
      </div>
    `)},r.prototype.inputClass=function(){var t=this.ppfx;return"".concat(t,"field ").concat(t,"field-color")},r.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},r.prototype.remove=function(){return o.prototype.remove.call(this),this.colorEl.spectrum("destroy"),this},r.prototype.handleChange=function(t){t.stopPropagation();var e=t.target.value;(0,D.isUndefined)(e)||this.__onInputChange(e)},r.prototype.__onInputChange=function(t){var e=this,n=e.model,i=e.opts,s=i.onChange,u=t,c=this.getColorEl();if(c){c.spectrum("set",u);var f=c.spectrum("get"),h=u&&Of(f);h&&(u=h)}s?s(u):n.set({value:u},{fromInput:1})},r.prototype.setValue=function(t,e){e===void 0&&(e={});var n=this.model,i=(0,D.isUndefined)(e.def)?n.get("defaults"):e.def,s=(0,D.isUndefined)(t)?(0,D.isUndefined)(i)?"":i:t,u=this.getInputEl(),c=this.getColorEl(),f=s!="none"?s:"";u.value=s,c.get(0).style.backgroundColor=f,(e.fromTarget||e.fromInput&&!e.avoidStore)&&(c.spectrum("set",f),this.noneColor=s=="none",this.movedColor=f)},r.prototype.getColorEl=function(){var t=this;if(!this.colorEl){var e=this,n=e.em,i=e.model,s=e.opts,u=this.ppfx,c=s.onChange,f=(0,sr.default)('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),h=f.get(0).style,g=n&&n.getConfig&&n.getConfig().colorPicker||{};this.movedColor="";var m=!1,y;this.$el.find("[data-colorp-c]").append(f);var w=function(b,O){O===void 0&&(O=!0),c?c(b,!O):(O&&i.setValueFromInput(0,!1),i.setValueFromInput(b,O))};f.spectrum(Uu(Uu(Uu({color:i.getValue()||!1,containerClassName:"".concat(u,"one-bg ").concat(u,"two-color ").concat(u,"editor-sp"),maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"⨯",palette:[]},g),i.get("colorPicker")||{}),{move:function(b){var O=Of(b);t.movedColor=O,h.backgroundColor=O,w(O,!1)},change:function(b){m=!0;var O=Of(b);h.backgroundColor=O,w(O),t.noneColor=!1},show:function(b){m=!1,t.movedColor="",y=c?i.getValue({noDefault:!0}):Of(b)},hide:function(){!m&&(y||c)&&(t.noneColor&&(y=""),h.backgroundColor=y,f.spectrum("set",y),w(y,!1))}})),n&&n.on&&this.listenTo(n,"component:selected",function(){t.movedColor&&w(t.movedColor),m=!0,t.movedColor="",f.spectrum("hide")}),this.colorEl=f}return this.colorEl},r.prototype.render=function(){return Yd.prototype.render.call(this),this.getColorEl(),this},r}(Yd);const ES=jD;var ND=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ID=function(o){ND(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.templateInput=function(){return""},r.prototype.getInputEl=function(){if(!this.input){var t=this.model,e=this.getModelValue(),n=new ES({model:t,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}),i=n.render();i.setValue(e,{fromTarget:1}),this.input=i.el}return this.input},r}(Pi);const RD=ID;var FD=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),PS=function(o){FD(r,o);function r(t){t===void 0&&(t={});var e=o.call(this,t)||this;return(0,D.bindAll)(e,"moveIncrement","upIncrement"),e.doc=document,e.listenTo(e.model,"change:unit",e.handleModelChange),e}return r.prototype.template=function(){var t=this.ppfx;return`
      <span class="`.concat(t,`input-holder"></span>
      <span class="`).concat(t,`field-units"></span>
      <div class="`).concat(t,`field-arrows" data-arrows>
        <div class="`).concat(t,`field-arrow-u" data-arrow-up></div>
        <div class="`).concat(t,`field-arrow-d" data-arrow-down></div>
      </div>
    `)},r.prototype.inputClass=function(){var t=this.ppfx;return this.opts.contClass||"".concat(t,"field ").concat(t,"field-integer")},r.prototype.setValue=function(t,e){var n=e||{},i=this.validateInputValue(t,{deepCheck:1}),s={value:i.value,unit:""};(i.unit||i.force)&&(s.unit=i.unit),this.model.set(s,n),n.silent&&this.handleModelChange()},r.prototype.handleChange=function(t){t.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},r.prototype.handleUnitChange=function(t){t.stopPropagation();var e=this.getUnitEl().value;this.model.set("unit",e),this.elementUpdated()},r.prototype.handleKeyDown=function(t){t.key==="ArrowUp"&&(t.preventDefault(),this.upArrowClick()),t.key==="ArrowDown"&&(t.preventDefault(),this.downArrowClick())},r.prototype.elementUpdated=function(){this.model.trigger("el:change")},r.prototype.handleModelChange=function(){var t=this.model;this.getInputEl().value=t.get("value");var e=this.getUnitEl();e&&(e.value=t.get("unit")||"")},r.prototype.getUnitEl=function(){if(!this.unitEl){var t=this.model,e=t.get("units")||[];if(e.length){var n=['<option value="" disabled hidden>-</option>'];e.forEach(function(s){var u=s==t.get("unit")?"selected":"";n.push("<option ".concat(u,">").concat(s,"</option>"))});var i=document.createElement("div");i.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(n.join(""),"</select>"),this.unitEl=i.firstChild}}return this.unitEl},r.prototype.upArrowClick=function(){var t=this.model,e=t.get("step"),n=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(n+e)),this.elementUpdated()},r.prototype.downArrowClick=function(){var t=this.model,e=t.get("step"),n=parseFloat(this.getInputEl().value);this.setValue(this.normalizeValue(n-e)),this.elementUpdated()},r.prototype.downIncrement=function(t){t.preventDefault(),this.moved=!1;var e=this.model.get("value")||0;e=this.normalizeValue(e),this.current={y:t.pageY,val:e},(0,Jt.on)(this.doc,"mousemove",this.moveIncrement),(0,Jt.on)(this.doc,"mouseup",this.upIncrement)},r.prototype.moveIncrement=function(t){this.moved=!0;var e=this.model,n=e.get("step"),i=this.current,s=this.normalizeValue(i.val+(i.y-t.pageY)*n),u=this.validateInputValue(s),c=u.value,f=u.unit;return this.prValue=c,e.set({value:c,unit:f},{avoidStore:1}),!1},r.prototype.upIncrement=function(){var t=this.model,e=t.get("step");if((0,Jt.AU)(this.doc,"mouseup",this.upIncrement),(0,Jt.AU)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var n=this.prValue-e;t.set("value",n,{avoidStore:1}).set("value",n+e),this.elementUpdated()}},r.prototype.normalizeValue=function(t,e){e===void 0&&(e=0);var n=this.model,i=n.get("step"),s=0;if(isNaN(t))return e;if(t=parseFloat(t),Math.floor(t)!==t){var u=i.toString().split(".")[1];s=u?u.length:0}return s?parseFloat(t.toFixed(s)):t},r.prototype.validateInputValue=function(t,e){e===void 0&&(e={});var n=0,i=e||{},s=this.model,u="",c=(0,D.isUndefined)(t)?u:t,f=e.units||s.get("units")||[],h=s.get("unit")||f.length&&f[0]||"",g=(0,D.isUndefined)(e.max)?s.get("max"):e.max,m=(0,D.isUndefined)(e.min)?s.get("min"):e.min,y=!!s.get("limitlessMax"),w=!!s.get("limitlessMin");if(i.deepCheck){var b=s.get("fixedValues")||[];if(c===""&&(h=""),c){var O=new RegExp("^"+b.join("|"),"g");if(b.length&&O.test(c))c=c.match(O)[0],h="",n=1;else{var S=c+"";c+="",c=parseFloat(c.replace(",",".")),c=isNaN(c)?u:c;var P=S.replace(c,"");(0,D.indexOf)(f,P)>=0&&(h=P)}}}return!y&&!(0,D.isUndefined)(g)&&g!==""&&(c=c>g?g:c),!w&&!(0,D.isUndefined)(m)&&m!==""&&(c=c<m?m:c),{force:n,value:c,unit:h}},r.prototype.render=function(){Yd.prototype.render.call(this),this.unitEl=null;var t=this.getUnitEl();return t&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(t),this},r}(Yd);const kS=PS;PS.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"};var VD=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),UD=function(o){VD(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.getValueForTarget=function(){var t=this.model,e=t.attributes,n=e.value,i=e.unit;return!(0,D.isUndefined)(n)&&n!==""?n+i:t.get("default")},r.prototype.getInputEl=function(){if(!this.input){var t=this,e=t.ppfx,n=t.model,i=this.getModelValue(),s=new kS({contClass:"".concat(e,"field-int"),type:"number",model:n,ppfx:e});s.render(),this.$input=s.inputEl,this.$unit=s.unitEl,n.set("value",i,{fromTarget:!0}),this.$input.val(i),this.input=s.el}return this.input},r}(Pi);const HD=UD;var BD=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),zD=function(o){BD(r,o);function r(t){t===void 0&&(t={});var e=o.call(this,t)||this;return e.listenTo(e.model,"change:options",e.rerender),e}return r.prototype.templateInput=function(){var t=this,e=t.ppfx,n=t.clsField;return'<div class="'.concat(n,`">
      <div data-input></div>
      <div class="`).concat(e,`sel-arrow">
        <div class="`).concat(e,`d-s-arrow"></div>
      </div>
    </div>`)},r.prototype.getInputEl=function(){if(!this.$input){var t=this,e=t.model,n=t.em,i=e.get("name"),s=e.get("options")||[],u=[],c="<select>";s.forEach(function(g){var m="",y,w,b;(0,D.isString)(g)?(y=g,w=g):(y=g.name||g.label||g.value,w="".concat((0,D.isUndefined)(g.value)?g.id:g.value).replace(/"/g,"&quot;"),b=g.style?g.style.replace(/"/g,"&quot;"):"",m+=b?' style="'.concat(b,'"'):"");var O=n.t("traitManager.traits.options.".concat(i,".").concat(w))||y;c+='<option value="'.concat(w,'"').concat(m,">").concat(O,"</option>"),u.push(w)}),c+="</select>",this.$input=(0,sr.default)(c);var f=e.getTargetValue(),h=u.indexOf(f)>=0?f:e.get("default");!(0,D.isUndefined)(h)&&this.$input.val(h)}return this.$input.get(0)},r}(Pi);const WD=zD;var KD=Ue(754),$D=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xw="data-categories",Sw="data-no-categories",AS=function(o){$D(r,o);function r(t,e){var n=o.call(this,t)||this;n.reuseView=!0,n.renderedCategories=new Map,n.itemsView=e;var i=t.config||{};n.config=i;var s=t.editor;n.em=s;var u=i.pStylePrefix||"";return n.ppfx=u,n.pfx=u+i.stylePrefix||"",n.className="".concat(n.pfx,"traits"),n.traitContClass="".concat(u,"traits-c"),n.classNoCat="".concat(u,"traits-empty-c"),n.catsClass="".concat(u,"trait-categories"),n.collection=new Sd([],{em:s}),n.listenTo(s,"component:toggled",n.updatedCollection),n.updatedCollection(),n}return r.prototype.updatedCollection=function(){var t=this,e=t.ppfx,n=t.em,i=n.getSelected();this.el.className="".concat(this.traitContClass,"s ").concat(e,"one-bg ").concat(e,"two-color"),this.collection=(i==null?void 0:i.traits)||new Sd([],{em:n}),this.render()},r.prototype.add=function(t,e){var n=this,i=n.config,s=n.renderedCategories,u=this.itemView,c=t.get(this.itemType);this.itemsView&&this.itemsView[c]&&(u=this.itemsView[c]);var f=new u({config:i,model:t,attributes:t.get("attributes")}),h=f.render().el,g=t.parent.initCategory(t);if(g){var m=g.getId(),y=this.getCategoriesEl(),w=s.get(m);!w&&y&&(w=new dS({model:g},i,"trait").render(),s.set(m,w),y.appendChild(w.el)),w==null||w.append(h);return}e?e.appendChild(h):this.append(h)},r.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector("[".concat(xw,"]"))),this.catsEl},r.prototype.getTraitsEl=function(){return this.traitsEl||(this.traitsEl=this.el.querySelector("[".concat(Sw,"]"))),this.traitsEl},r.prototype.append=function(t){var e=this.getTraitsEl();e==null||e.appendChild(t)},r.prototype.render=function(){var t=this,e=this,n=e.el,i=e.ppfx,s=e.catsClass,u=e.traitContClass,c=e.classNoCat,f=document.createDocumentFragment();delete this.catsEl,delete this.traitsEl,this.renderedCategories=new Map,n.innerHTML=`
      <div class="`.concat(s,'" ').concat(xw,`></div>
      <div class="`).concat(c," ").concat(u,'" ').concat(Sw,`></div>
    `),this.collection.forEach(function(g){return t.add(g,f)}),this.append(f);var h="".concat(u,"s ").concat(i,"one-bg ").concat(i,"two-color");return this.$el.addClass(h),this.rendered=!0,this},r}(KD.A);const Ow=AS;AS.prototype.itemView=Pi;var GD=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),YD=function(o,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,i;e<n;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return o.concat(i||Array.prototype.slice.call(r))},XD=function(o){GD(r,o);function r(t){var e=o.call(this,t,"TraitManager",SD)||this;e.TraitsView=Ow,e.events=Cd,e.state=new $t.Kx({traits:[]}),e.types={text:Pi,number:HD,select:WD,checkbox:AD,color:RD,button:ED};var n=e,i=n.state,s=n.config,u=n.events,c=s.pStylePrefix;c&&(s.stylePrefix="".concat(c).concat(s.stylePrefix)),(0,D.bindAll)(e,"__onSelect");var f=(0,D.debounce)(function(){return e.__upSel()},0),h=(0,D.debounce)(function(){return e.__onUp()},0);return i.listenTo(t,"component:toggled",f),i.listenTo(t,u.value,h),i.on("change:traits",e.__onSelect),e.debounced=[f,h],e}return r.prototype.select=function(t){var e=(t==null?void 0:t.getTraits())||[];this.state.set({component:t,traits:e}),this.__trgCustom()},r.prototype.getCategories=function(){var t,e=this.getComponent(),n=((t=e==null?void 0:e.traits.categories)===null||t===void 0?void 0:t.models)||[];return YD([],n,!0)},r.prototype.getTraits=function(){return this.getCurrent()},r.prototype.getTraitsByCategory=function(t){return Zx(t||this.getTraits())},r.prototype.getComponent=function(){return this.state.attributes.component},r.prototype.addType=function(t,e){var n=this.getType("text");this.types[t]=n.extend(e)},r.prototype.getType=function(t){return this.getTypes()[t]},r.prototype.getTypes=function(){return this.types},r.prototype.getTraitsViewer=function(){return this.view},r.prototype.getCurrent=function(){return this.state.get("traits")||[]},r.prototype.render=function(){var t=this.view,e=this.em;return t=new Ow({el:t==null?void 0:t.el,collection:[],editor:e,config:this.getConfig()},this.getTypes()),this.view=t,t.el},r.prototype.postRender=function(){this.__appendTo()},r.prototype.__onSelect=function(){var t=this,e=t.em,n=t.events,i=t.state,s=i.attributes,u=s.component,c=s.traits;e.trigger(n.select,{component:u,traits:c})},r.prototype.__trgCustom=function(t){t===void 0&&(t={});var e=this,n=e.em,i=e.events,s=e.__ctn;this.__ctn=s||t.container,n.trigger(i.custom,this.__customData())},r.prototype.__customData=function(){return{container:this.__ctn}},r.prototype.__upSel=function(){this.select(this.em.getSelected())},r.prototype.__onUp=function(){this.select(this.getComponent())},r}(qn);const qD=XD;var JD={stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,custom:!1,onInit:function(){},onRender:function(){},extend:{}};const ZD=JD;var QD=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),tj=function(o){QD(r,o);function r(t){t===void 0&&(t={});var e=o.call(this,t)||this;e.items=[],e.opt=t;var n=t.config||{};e.config=n,e.module=t.module,e.parentView=t.parentView;var i=n.stylePrefix||"",s=n.pStylePrefix||"",u=e.collection;e.listenTo(u,"add",e.addTo),e.listenTo(u,"reset resetNavigator",e.render),e.listenTo(u,"remove",e.removeChildren),e.className="".concat(i,"layers");var c=n.em;if(n.sortable&&!e.opt.sorter){var f=c.Utils;e.opt.sorter=new f.Sorter({container:n.sortContainer||e.el,containerSel:".".concat(e.className),itemSel:".".concat(i,"layer"),ignoreViewChildren:1,avoidSelectOnEnd:1,nested:1,ppfx:s,pfx:i,em:c})}return e.$el.data("collection",u),t.parent&&e.$el.data("model",t.parent),e}return r.prototype.removeChildren=function(t){var e=t.viewLayer;e&&(e.remove(),delete t.viewLayer)},r.prototype.addTo=function(t){this.addToCollection(t,null,this.collection.indexOf(t))},r.prototype.addToCollection=function(t,e,n){var i=this,s=i.parentView,u=i.opt,c=i.config,f=i.el,h=u.ItemView,g=u.opened,m=u.module,y=u.level,w=u.sorter,b=t.viewLayer||new h({ItemView:h,level:y,model:t,parentView:s,config:c,sorter:w,opened:g,module:m}),O=b.render().el;if(e)e.appendChild(O);else{var S=f,P=S.childNodes;if((0,D.isUndefined)(n))S.appendChild(O);else{var T=P.length==n;T&&n--,T||!P.length?S.appendChild(O):S.insertBefore(O,P[n])}}return this.items.push(b),O},r.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return $t.Ss.prototype.remove.apply(this,t),this.items.map(function(n){return n.remove()}),this},r.prototype.render=function(){var t=this,e=this,n=e.el,i=e.module,s=document.createDocumentFragment();return n.innerHTML="",this.collection.map(function(u){return i.__getLayerFromComponent(u)}).forEach(function(u){return t.addToCollection(u,s)}),n.appendChild(s),n.className=this.className,this},r}($t.Ss);const ej=tj;var av=Ue(570),rj={stylePrefix:"com-",defaults:{},strict:!0};const nj=rj;var oj=Ue(242),ij=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Xd=function(){return Xd=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Xd.apply(this,arguments)},Tw=function(o,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,i;e<n;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return o.concat(i||Array.prototype.slice.call(r))},Ew=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]],MS={preserveSelected:1},LS=function(o){return function(r){return o.trigger("".concat(Fm,":start"),r)}},DS=function(o){return function(r){return o.trigger(Fm,r)}},jS=function(o,r,t){return t===void 0&&(t={}),function(e,n,i){r.forEach(function(s){return s.set("status",s.get("selectable")?"selected":"")}),o.setSelected(r),r[0].emitUpdate(),o.trigger("".concat(Fm,":end"),i),setTimeout(function(){return o.runDefault(MS)}),(t.altMode||i.cancelled)&&o.set("_cmpDrag",1)}},aj=function(o){ij(r,o);function r(t){var e=o.call(this,t,"Commands",nj)||this;e.CommandAbstract=av.default,e.defaultCommands={},e.commands={},e.active={},e.events=oj.A;var n=e.config,i=n.pStylePrefix,s=e.defaultCommands;i&&(n.stylePrefix=i+n.stylePrefix),Object.keys(n.defaults).forEach(function(c){var f=n.defaults[c];f.id&&e.add(f.id,f)}),s["tlb-delete"]={run:function(c){return c.runCommand("core:component-delete")}},s["tlb-clone"]={run:function(c){c.runCommand("core:copy"),c.runCommand("core:paste",{action:"clone-component"})}},s["tlb-move"]={run:function(c,f,h){var g;h===void 0&&(h={});var m=c.getModel(),y=h.event,w=h.target,b=w?[w]:Tw([],c.getSelectedAll(),!0),O=b.map(function(H){var V,W;return((W=(V=H.delegate)===null||V===void 0?void 0:V.move)===null||W===void 0?void 0:W.call(V,H))||H}).filter(Boolean),S=O[O.length-1],P=(y==null?void 0:y.type)==="dragstart",T=["absolute","translate"];if(!(S!=null&&S.get("draggable")))return m.logWarning("The element is not draggable");var j=S.get("dmode")||m.get("dmode"),X=function(){return m.stopDefault(MS)},at=(0,D.includes)(T,j);O.forEach(function(H){return H.trigger("disable",{fromMove:!0})}),P?setTimeout(X,0):X();var ft=LS(m),Q=DS(m),K=jS(m,O,{altMode:at});if(at)c.runCommand("core:component-drag",{guidesInfo:1,mode:j,target:S,onStart:ft,onDrag:Q,onEnd:K,event:y});else{P&&y.dataTransfer.setDragImage((g=S.view)===null||g===void 0?void 0:g.el,0,0);var rt=c.Commands.get("move-comp");rt.onStart=ft,rt.onDrag=Q,rt.onEndMoveFromModel=K,rt.initSorterFromModels(O)}O.filter(function(H){return H.get("selectable")}).forEach(function(H){return H.set("status","freezed-selected")})}},s["core:undo"]=function(c){return c.UndoManager.undo()},s["core:redo"]=function(c){return c.UndoManager.redo()},Ew.forEach(function(c){var f=c[2],h=Ue(585)("./".concat(c[1])).default,g="core:".concat(c[0]);s[g]=h,f&&(s[f]=h,["run","stop"].forEach(function(m){t.on("".concat(m,":").concat(f),function(){for(var y=[],w=0;w<arguments.length;w++)y[w]=arguments[w];return t.trigger.apply(t,Tw(["".concat(m,":").concat(g)],y,!1))})}))}),n.model=t.Canvas;for(var u in s)e.add(u,s[u]);return e}return r.prototype.add=function(t,e){var n=(0,D.isFunction)(e)?{run:e}:e;return n.stop||(n.noStop=!0),delete n.initialize,n.id=t,this.commands[t]=av.default.extend(n),this},r.prototype.get=function(t){var e=this.commands[t];return(0,D.isFunction)(e)?(e=new e(this.config),this.commands[t]=e):e||this.em.logWarning("'".concat(t,"' command not found")),e},r.prototype.extend=function(t,e){e===void 0&&(e={});var n=this.get(t);if(n){var i=Xd(Xd({},n.constructor.prototype),e);this.add(t,i);var s=Ew.filter(function(u){return"core:".concat(u[0])===t&&u[2]})[0];s&&this.add(s[2],i)}return this},r.prototype.has=function(t){return!!this.commands[t]},r.prototype.getAll=function(){return this.commands},r.prototype.run=function(t,e){return e===void 0&&(e={}),this.runCommand(this.get(t),e)},r.prototype.stop=function(t,e){return e===void 0&&(e={}),this.stopCommand(this.get(t),e)},r.prototype.isActive=function(t){return this.getActive().hasOwnProperty(t)},r.prototype.getActive=function(){return this.active},r.prototype.runCommand=function(t,e){e===void 0&&(e={});var n;if(t&&t.run){var i=this,s=i.em,u=i.config,c=t.id,f=s.Editor;(!this.isActive(c)||e.force||!u.strict)&&(n=f&&t.callRun(f,e),c&&t.stop&&!t.noStop&&!e.abort&&(this.active[c]=n))}return n},r.prototype.stopCommand=function(t,e){e===void 0&&(e={});var n;if(t&&t.run){var i=this,s=i.em,u=i.config,c=t.id,f=s.Editor;(this.isActive(c)||e.force||!u.strict)&&(c&&delete this.active[c],n=t.callStop(f,e))}return n},r.prototype.create=function(t){t.stop||(t.noStop=!0);var e=av.default.extend(t);return new e(this.config)},r.prototype.__onRun=function(t,e){var n=this,i=n.em,s=n.events;i.on("".concat(s.runCommand).concat(t),e)},r.prototype.__onStop=function(t,e){var n=this,i=n.em,s=n.events;i.on("".concat(s.stopCommand).concat(t),e)},r.prototype.destroy=function(){this.defaultCommands={},this.commands={},this.active={}},r}(qn);const sj=aj;var lj=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Pw="contentEditable",Tf="data-toggle-move",uj=function(o){lj(r,o);function r(t){var e=o.call(this,t)||this;(0,D.bindAll)(e,"__render"),e.opt=t,e.module=t.module,e.config=t.config||{},e.sorter=t.sorter||"",e.parentView=t.parentView;var n=e,i=n.model,s=n.pfx,u=n.ppfx,c=i.get("type")||"default";return e.className="".concat(s,"layer ").concat(s,"layer__t-").concat(c," no-select ").concat(u,"two-color"),e.inputNameCls="".concat(u,"layer-name"),e.clsTitleC="".concat(s,"layer-title-c"),e.clsTitle="".concat(s,"layer-title"),e.clsCaret="".concat(s,"layer-caret"),e.clsCount="".concat(s,"layer-count"),e.clsMove="".concat(s,"layer-move"),e.clsChildren="".concat(s,"layer-children"),e.clsNoChild="".concat(s,"layer-no-chld"),e.clsEdit="".concat(e.inputNameCls,"--edit"),e.clsNoEdit="".concat(e.inputNameCls,"--no-edit"),e.initComponent(),e}return r.prototype.events=function(){var t;return t={},t["mousedown [".concat(Tf,"]")]="startSort",t["touchstart [".concat(Tf,"]")]="startSort",t["click [data-toggle-visible]"]="toggleVisibility",t["click [data-toggle-open]"]="toggleOpening",t["click [data-toggle-select]"]="handleSelect",t["mouseover [data-toggle-select]"]="handleHover",t["mouseout [data-toggle-select]"]="handleHoverOut",t["dblclick [data-name]"]="handleEdit",t["keydown [data-name]"]="handleEditKey",t["focusout [data-name]"]="handleEditEnd",t},r.prototype.template=function(t){var e=this,n=e.pfx,i=e.ppfx,s=e.config,u=e.clsNoEdit,c=e.module,f=e.opt,h=e.em,g=s.hidable,m=c.getComponents(t).length,y=m?"":this.clsNoChild,w="".concat(this.clsTitle," ").concat(y),b="".concat(this.clsTitleC),O="".concat(this.inputNameCls," ").concat(u," ").concat(i,"no-app"),S=f.level||0,P="".concat(S*10,"px"),T=t.getName(),j=t.getIcon(),X="".concat(n,"layer"),at=(h==null?void 0:h.getConfig()).icons,ft=at,Q=ft.move,K=ft.eye,rt=ft.eyeOff,H=ft.chevron;return`
      <div class="`.concat(n,"layer-item ").concat(i,`one-bg" data-toggle-select>
        <div class="`).concat(n,`layer-item-left">
          `).concat(g?'<i class="'.concat(n,`layer-vis" data-toggle-visible>
                <i class="`).concat(n,'layer-vis-on">').concat(K,`</i>
                <i class="`).concat(n,'layer-vis-off">').concat(rt,`</i>
              </i>`):"",`
          <div class="`).concat(b,`">
            <div class="`).concat(w,'" style="padding-left: ').concat(P,`">
              <div class="`).concat(n,'layer-title-inn" title="').concat(T,`">
                <i class="`).concat(this.clsCaret,'" data-toggle-open>').concat(H,`</i>
                  `).concat(j?'<span class="'.concat(X,'__icon">').concat(j,"</span>"):"",`
                <span class="`).concat(O,'" data-name>').concat(T,`</span>
              </div>
            </div>
          </div>
        </div>
        <div class="`).concat(n,`layer-item-right">
          <div class="`).concat(this.clsCount,'" data-count>').concat(m||"",`</div>
          <div class="`).concat(this.clsMove,'" ').concat(Tf,">").concat(Q||"",`</div>
        </div>
      </div>
      <div class="`).concat(this.clsChildren,`"></div>
    `)},Object.defineProperty(r.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),r.prototype.initComponent=function(){var t=this,e=this,n=e.model,i=e.config,s=i.onInit,u=n.components();this.listenTo(u,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["change:draggable",this.updateMove],["rerender:layer",this.render],["change:name change:custom-name",this.updateName]].forEach(function(c){return t.listenTo(n,c[0],c[1])}),this.$el.data("model",n),this.$el.data("collection",u),n.viewLayer=this,s.bind(this)({component:n,render:this.__render,listenTo:this.listenTo})},r.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},r.prototype.getVisibilityEl=function(){return this.getItemContainer().find("[data-toggle-visible]")},r.prototype.updateVisibility=function(){var t=this,e=t.pfx,n=t.model,i=t.module,s="".concat(e,"layer-hidden"),u=!i.isVisible(n),c=u?"addClass":"removeClass";this.$el[c](s),this.getVisibilityEl()[c]("".concat(e,"layer-off"))},r.prototype.updateMove=function(){var t=this,e=t.model,n=t.config,i=this.getItemContainer().find("[".concat(Tf,"]"))[0];if(i){var s=e.get("draggable")&&n.sortable;i.style.display=s?"":"none"}},r.prototype.toggleVisibility=function(t){t==null||t.stopImmediatePropagation();var e=this,n=e.module,i=e.model;n.setVisible(i,!n.isVisible(i))},r.prototype.handleEdit=function(t){t==null||t.stopPropagation();var e=this,n=e.em,i=e.$el,s=e.clsNoEdit,u=e.clsEdit,c=this.getInputName();c[Pw]="true",c.focus(),document.execCommand("selectAll",!1),n.setEditing(!0),i.find(".".concat(this.inputNameCls)).removeClass(s).addClass(u)},r.prototype.handleEditKey=function(t){t.stopPropagation(),((0,Jt.v$)(t)||(0,Jt.Ci)(t))&&this.handleEditEnd(t)},r.prototype.handleEditEnd=function(t){t==null||t.stopPropagation();var e=this,n=e.em,i=e.$el,s=e.clsNoEdit,u=e.clsEdit,c=e.model,f=this.getInputName(),h=f.textContent;f.scrollLeft=0,f[Pw]="false",c.setName(h),n.setEditing(!1),i.find(".".concat(this.inputNameCls)).addClass(s).removeClass(u),this.updateName()},r.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},r.prototype.updateOpening=function(){var t=this,e=t.$el,n=t.model,i=t.pfx,s="open",u="".concat(i,"layer-open"),c=this.getCaret();this.module.isOpen(n)?(e.addClass(s),c.addClass(u)):(e.removeClass(s),c.removeClass(u))},r.prototype.toggleOpening=function(t){var e=this,n=e.model,i=e.module;t==null||t.stopImmediatePropagation(),n.get("components").length&&i.setOpen(n,!i.isOpen(n))},r.prototype.handleSelect=function(t){t==null||t.stopPropagation();var e=this,n=e.module,i=e.model;n.setLayerData(i,{selected:!0},{event:t})},r.prototype.handleHover=function(t){t==null||t.stopPropagation();var e=this,n=e.module,i=e.model;n.setLayerData(i,{hovered:!0})},r.prototype.handleHoverOut=function(t){t==null||t.stopPropagation();var e=this,n=e.module,i=e.model;n.setLayerData(i,{hovered:!1})},r.prototype.startSort=function(t){var e,n,i;t.stopPropagation();var s=this,u=s.em,c=s.sorter,f=s.model;if(!(t.button&&t.button!==0)&&c){var h=((n=(e=f.delegate)===null||e===void 0?void 0:e.move)===null||n===void 0?void 0:n.call(e,f))||f;c.onStart=LS(u),c.onMoveClb=DS(u),c.onEndMove=jS(u,[h]);var g=((i=h.viewLayer)===null||i===void 0?void 0:i.el)||t.target;c.startSort(g)}},r.prototype.updateStatus=function(){Dr.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:!0}])},r.prototype.getItemContainer=function(){return this.$el.children("[data-toggle-select]")},r.prototype.checkChildren=function(){var t=this,e=t.model,n=t.clsNoChild,i=t.module,s=i.getComponents(e).length,u=this.getItemContainer(),c=u.find(".".concat(this.clsTitle)),f=u.find("[data-count]");c[s?"removeClass":"addClass"](n),f.html("".concat(s||"")),!s&&i.setOpen(e,!1)},r.prototype.getCaret=function(){return(!this.caret||!this.caret.length)&&(this.caret=this.getItemContainer().find(".".concat(this.clsCaret))),this.caret},r.prototype.setRoot=function(t){var e,n=(0,D.isString)(t)?(e=this.em.getWrapper())===null||e===void 0?void 0:e.find(t)[0]:t;n&&(this.stopListening(),this.model=n,this.initComponent(),this._rendered&&this.render())},r.prototype.updateLayerable=function(){var t=this.parentView,e=t||this;e.render()},r.prototype.__clearItems=function(){var t;(t=this.items)===null||t===void 0||t.remove()},r.prototype.remove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return $t.Ss.prototype.remove.apply(this,t),delete this.model.viewLayer,this.__clearItems(),this},r.prototype.render=function(){var t=this,e=t.model,n=t.config,i=t.pfx,s=t.ppfx,u=t.opt,c=t.sorter;this.__clearItems();var f=u.opened,h=u.module,g=u.ItemView,m=!h.__isLayerable(e),y=this.$el.empty(),w=u.level+1;delete this.inputName,this.items=new ej({ItemView:g,collection:e.get("components"),config:n,sorter:c,opened:f,parentView:this,parent:e,level:w,module:h});var b=this.items.render().$el;return!n.showWrapper&&w===1?y.append(b):(y.html(this.template(e)),y.find(".".concat(this.clsChildren)).append(b)),!h.isVisible(e)&&(this.className+=" ".concat(i,"hide")),m&&(this.className+=" ".concat(s,"hidden")),y.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.updateMove(),this.__render(),this._rendered=!0,this},r.prototype.__render=function(){var t=this,e=t.model,n=t.config,i=t.el,s=n.onRender,u={component:e,el:i};s.bind(this)(u),this.em.trigger("layer:render",u)},r}($t.Ss);const cj=uj;var fj=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ag=function(){return Ag=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Ag.apply(this,arguments)},NS="layer",Wm="".concat(NS,":"),IS="".concat(Wm,"root"),RS="".concat(Wm,"component"),dj="".concat(Wm,"custom"),pj={all:NS,root:IS,component:RS,custom:dj},sv={mediaText:""},hj=["open","status","locked","custom-name","components","classes"].map(function(o){return"".concat(dn.I.update,":").concat(o)}).join(" "),vj=function(o){return o===void 0&&(o={}),(o.display||"").trim().indexOf("none")===0},gj=function(o){fj(r,o);function r(t){var e=o.call(this,t,"LayerManager",ZD)||this;return e.events=pj,(0,D.bindAll)(e,"componentChanged","__onRootChange","__onComponent"),e.model=new wa.A(e,{opened:{}}),e.config.stylePrefix=e.config.pStylePrefix,e}return r.prototype.onLoad=function(){var t=this,e=this,n=e.em,i=e.config,s=e.model;s.listenTo(n,"component:selected",this.componentChanged),s.on("change:root",this.__onRootChange),s.listenTo(n,hj,this.__onComponent),this.componentChanged(),s.listenToOnce(n,"load",function(){t.setRoot(i.root),t.__appendTo()})},r.prototype.setRoot=function(t){var e=this.em.getWrapper(),n=(0,Mt.isComponent)(t)?t:e;t&&(0,D.isString)(t)&&(0,Mt.hasWin)()&&(n=e.find(t)[0]||e);var i=this.__getLayerFromComponent(n);return this.model.set("root",i),i},r.prototype.getRoot=function(){return this.model.get("root")},r.prototype.getComponents=function(t){var e=this;return t.components().map(function(n){return e.__getLayerFromComponent(n)}).filter(function(n){return e.__isLayerable(n)})},r.prototype.setOpen=function(t,e){t.set("open",e)},r.prototype.isOpen=function(t){return!!t.get("open")},r.prototype.setVisible=function(t,e){var n="__prev-display",i=t.getStyle(sv),s=i.display;if(e){var u=t.get(n);delete i.display,u&&(i.display=u,t.unset(n))}else s&&t.set(n,s),i.display="none";t.setStyle(i,sv),this.updateLayer(t),this.em.trigger("component:toggled")},r.prototype.isVisible=function(t){return!vj(t.getStyle(sv))},r.prototype.setLocked=function(t,e){t.set("locked",e)},r.prototype.isLocked=function(t){return!!t.get("locked")},r.prototype.setName=function(t,e){t.set("custom-name",e)},r.prototype.getName=function(t){return t.getName()},r.prototype.getLayerData=function(t){var e=t.get("status");return{name:t.getName(),open:this.isOpen(t),selected:e==="selected",hovered:e==="hovered",visible:this.isVisible(t),locked:this.isLocked(t),components:this.getComponents(t)}},r.prototype.setLayerData=function(t,e,n){var i;n===void 0&&(n={});var s=this,u=s.em,c=s.config,f=e.open,h=e.selected,g=e.hovered,m=e.visible,y=e.locked,w=e.name,b=Ag({fromLayers:!0},n);if((0,Mt.isDef)(f)&&this.setOpen(t,f),(0,Mt.isDef)(h))if(h){u.setSelected(t,b);var O=c.scrollCanvas;O&&((i=t.views)===null||i===void 0||i.forEach(function(S){return S.scrollIntoView(O)}))}else u.removeSelected(t,b);(0,Mt.isDef)(g)&&c.showHover&&(g?u.setHovered(t,b):u.setHovered(null,b)),(0,Mt.isDef)(m)&&m!==this.isVisible(t)&&this.setVisible(t,m),(0,Mt.isDef)(y)&&this.setLocked(t,y),(0,Mt.isDef)(w)&&this.setName(t,w)},r.prototype.componentChanged=function(t,e){var n;if(e===void 0&&(e={}),!e.fromLayers){var i=this,s=i.em,u=i.config,c=u.scrollLayers,f=this.model.get("opened"),h=s.getSelected(),g=h==null?void 0:h.parent();for(var m in f)f[m].set("open",!1),delete f[m];for(;g;)g.set("open",!0),f[g.cid]=g,g=g.parent();if(h&&c){var y=(n=h.viewLayer)===null||n===void 0?void 0:n.el;y==null||y.scrollIntoView(c)}}},r.prototype.getAll=function(){return this.view},r.prototype.render=function(){var t,e,n=this,i=n.config,s=n.model,u=cj.extend(i.extend);return this.view=new u({el:(t=this.view)===null||t===void 0?void 0:t.el,ItemView:u,level:0,config:i,opened:s.get("opened"),model:this.getRoot(),module:this}),(e=this.view)===null||e===void 0?void 0:e.render().el},r.prototype.destroy=function(){var t;(t=this.view)===null||t===void 0||t.remove()},r.prototype.__onRootChange=function(){var t,e=this.getRoot();(t=this.view)===null||t===void 0||t.setRoot(e),this.em.trigger(IS,e),this.__trgCustom()},r.prototype.__getLayerFromComponent=function(t){var e,n;return((n=(e=t.delegate)===null||e===void 0?void 0:e.layer)===null||n===void 0?void 0:n.call(e,t))||t},r.prototype.__onComponent=function(t){this.updateLayer(t)},r.prototype.__isLayerable=function(t){var e=t.tagName,n=this.config.hideTextnode,i=!n||!t.isInstanceOf("textnode")&&e!=="br";return i&&t.get("layerable")},r.prototype.__trgCustom=function(t){var e=this,n=e.__ctn,i=e.em,s=e.events;this.__ctn=n||(t==null?void 0:t.container),i.trigger(s.custom,{container:this.__ctn,root:this.getRoot()})},r.prototype.updateLayer=function(t,e){this.em.trigger(RS,t,e)},r}(qn);const mj=gj;var yj={assets:[],noAssets:"",stylePrefix:"am-",upload:"",uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,multiUploadSuffix:"[]",autoAdd:!0,customFetch:void 0,uploadFile:void 0,embedAsBase64:!0,handleAdd:void 0,beforeUpload:void 0,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:!0,dropzoneContent:""};const _j=yj;var wj=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),FS=function(o){wj(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.getDefaults=function(){return(0,D.result)(this.prototype,"defaults")},r.prototype.defaults=function(){return{type:"",src:""}},r.prototype.getType=function(){return this.get("type")},r.prototype.getSrc=function(){return this.get("src")},r.prototype.getFilename=function(){return this.get("src").split("/").pop().split("?").shift()},r.prototype.getExtension=function(){return this.getFilename().split(".").pop()},r}($t.Kx);const Mg=FS;FS.prototype.idAttribute="src";var Cj=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qd=function(){return qd=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},qd.apply(this,arguments)},bj=function(o){Cj(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return qd(qd({},Mg.getDefaults()),{type:"image",unitDim:"px",height:0,width:0})},r}(Mg);const xj=bj;var Sj=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Oj=function(o){Sj(r,o);function r(t){var e=o.call(this,t)||this;e.options=t,e.collection=t.collection;var n=t.config||{};e.config=n,e.pfx=n.stylePrefix||"",e.ppfx=n.pStylePrefix||"",e.em=n.em,e.className=e.pfx+"asset",e.listenTo(e.model,"destroy remove",e.remove),e.model.view=e;var i=e.init&&e.init.bind(e);return i&&i(t),e}return r.prototype.__getBhv=function(){var t=this.em,e=t==null?void 0:t.Assets;return(e==null?void 0:e.__getBehaviour())||{}},r.prototype.template=function(t,e){var n=this.pfx;return`
      <div class="`.concat(n,`preview-cont">
        `).concat(this.getPreview(),`
      </div>
      <div class="`).concat(n,`meta">
        `).concat(this.getInfo(),`
      </div>
      <div class="`).concat(n,`close" data-toggle="asset-remove">
        &Cross;
      </div>
    `)},r.prototype.updateTarget=function(t){t&&t.set&&(t.set("attributes",(0,D.clone)(t.get("attributes"))),t.set("src",this.model.get("src")))},r.prototype.getPreview=function(){return""},r.prototype.getInfo=function(){return""},r.prototype.render=function(){var t=this.el;return t.innerHTML=this.template(this,this.model),t.className=this.className,this},r}($t.Ss);const Tj=Oj;var Ej=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),kw=function(o,r){return Object.defineProperty?Object.defineProperty(o,"raw",{value:r}):o.raw=r,o},VS=function(o){Ej(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.getPreview=function(){var t=this,e=t.pfx,n=t.ppfx,i=t.model,s=i.get("src");return Wn(Aw||(Aw=kw([`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `],[`
      <div class="`,`preview" style="background-image: url('`,`');"></div>
      <div class="`,"preview-bg ",`checker-bg"></div>
    `])),e,s,e,n)},r.prototype.getInfo=function(){var t=this,e=t.pfx,n=t.model,i=n.get("name"),s=n.get("width"),u=n.get("height"),c=n.get("unitDim"),f=s&&u?"".concat(s,"x").concat(u).concat(c):"";return i=i||n.getFilename(),Wn(Mw||(Mw=kw([`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `],[`
      <div class="`,'name">',`</div>
      <div class="`,'dimensions">',`</div>
    `])),e,i,e,f)},r.prototype.init=function(t){var e=this.pfx;this.className+=" ".concat(e,"asset-image")},r.prototype.onClick=function(){var t=this,e=t.model,n=t.pfx,i=this.__getBhv().select,s=this.config.onClick,u=this.collection;u.trigger("deselectAll"),this.$el.addClass(n+"highlight"),(0,D.isFunction)(i)?i(e,!1):(0,D.isFunction)(s)?s(e):this.updateTarget(u.target)},r.prototype.onDblClick=function(){var t=this,e=t.em,n=t.model,i=this.__getBhv().select,s=this.config.onDblClick,u=this.collection,c=u.target,f=u.onSelect;(0,D.isFunction)(i)?i(n,!0):(0,D.isFunction)(s)?s(n):(this.updateTarget(c),e==null||e.Modal.close()),(0,D.isFunction)(f)&&f(n)},r.prototype.onRemove=function(t){t.stopImmediatePropagation(),this.model.collection.remove(this.model)},r}(Tj);const Pj=VS;VS.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var Aw,Mw,Jd=function(){return Jd=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Jd.apply(this,arguments)},kj={types:[],initialize:function(o,r){var t=this;r===void 0&&(r={});var e=r.em;this.em=e,this.opts=r,this.model=function(i,s){i===void 0&&(i={}),s===void 0&&(s={});var u,c,f;if(i&&i.type){var h=t.getBaseType();f=t.getType(i.type),u=f?f.model:h.model,c=f?f.view:h.view}else{var g=t.recognizeType(i);f=g.type,u=f.model,c=f.view,i=g.attributes}var m=new u(i,Jd(Jd({},s),{em:e}));return m.typeView=c,t.model.prototype=u.prototype,m};var n=this.init&&this.init.bind(this);n&&n()},recognizeType:function(o){for(var r=this.getTypes(),t=0;t<r.length;t++){var e=r[t],n=e.isType(o);if(n=typeof n=="boolean"&&n?{type:e.id}:n,n)return{type:e,attributes:n}}return{type:this.getBaseType(),attributes:o}},getBaseType:function(){var o=this.getTypes();return o[o.length-1]},getTypes:function(){return this.types},getType:function(o){for(var r=this.getTypes(),t=0;t<r.length;t++){var e=r[t];if(e.id===o)return e}},addType:function(o,r){var t=this.getType(o),e=this.getBaseType(),n=t?t.model:e.model,i=t?t.view:e.view,s=r.model,u=r.view,c=r.isType;s=s instanceof $t.Kx||(0,D.isFunction)(s)?s:n.extend(s||{}),u=u instanceof $t.Ss||(0,D.isFunction)(u)?u:i.extend(u||{}),this.extendViewApi&&!r.model&&!r.view&&(u=u.extend(r)),t?(t.model=s,t.view=u,t.isType=c||t.isType):(r.id=o,r.model=s,r.view=u,r.isType=c||function(f){if(f&&f.type==o)return!0},this.getTypes().unshift(r))}};const US=kj;var Aj=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Mj=$t.pM.extend(US),HS=function(o){Aj(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r}(Mj);const lv=HS;HS.prototype.types=[{id:"image",model:xj,view:Pj,isType:function(o){return typeof o=="string"?{type:"image",src:o}:o}}];var Lg;(function(o){o.add="asset:add",o.remove="asset:remove",o.removeBefore="asset:remove:before",o.update="asset:update",o.open="asset:open",o.close="asset:close",o.uploadStart="asset:upload:start",o.uploadEnd="asset:upload:end",o.uploadError="asset:upload:error",o.uploadResponse="asset:upload:response",o.custom="asset:custom",o.all="asset"})(Lg||(Lg={}));const Lw=Lg;var Lj=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),BS=function(o){Lj(r,o);function r(t){t===void 0&&(t={});var e=o.call(this,t)||this;e.options=t,e.config=t.config,e.pfx=e.config.stylePrefix||"",e.ppfx=e.config.pStylePrefix||"",e.em=e.config.em;var n=e.collection;return e.listenTo(n,"reset",e.renderAssets),e.listenTo(n,"add",e.addToAsset),e.listenTo(n,"remove",e.removedAsset),e.listenTo(n,"deselectAll",e.deselectAll),e}return r.prototype.template=function(t){var e=t.pfx,n=t.ppfx,i=t.em,s="";return this.config.showUrlInput&&(s=`
          <form class="`.concat(e,`add-asset">
            <div class="`).concat(n,"field ").concat(e,`add-field">
              <input placeholder="`).concat(i==null?void 0:i.t("assetManager.inputPlh"),`"/>
            </div>
            <button class="`).concat(n,'btn-prim">').concat(i==null?void 0:i.t("assetManager.addButton"),`</button>
            <div style="clear:both"></div>
          </form>
      `)),`
    <div class="`.concat(e,`assets-cont">
      <div class="`).concat(e,`assets-header">
        `).concat(s,`
      </div>
      <div class="`).concat(e,`assets" data-el="assets"></div>
      <div style="clear:both"></div>
    </div>
    `)},r.prototype.handleSubmit=function(t){t.preventDefault();var e=this.getAddInput(),n=e&&e.value.trim(),i=this.config.handleAdd;if(n){e.value="";var s=this.getAssetsEl();s&&(s.scrollTop=0),i?i.bind(this)(n):this.options.globalCollection.add(n,{at:0})}},r.prototype.getAssetsEl=function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},r.prototype.getAddInput=function(){return(!this.inputUrl||!this.inputUrl.value)&&(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},r.prototype.removedAsset=function(t){this.collection.length||this.toggleNoAssets()},r.prototype.addToAsset=function(t){this.collection.length==1&&this.toggleNoAssets(!0),this.addAsset(t)},r.prototype.addAsset=function(t,e){e===void 0&&(e=null);var n=e,i=this.collection,s=this.config,u=new t.typeView({model:t,collection:i,config:s}).render().el;if(n)n.appendChild(u);else{var c=this.getAssetsEl();c&&c.insertBefore(u,c.firstChild)}return u},r.prototype.toggleNoAssets=function(t){t===void 0&&(t=!1);var e=this.$el.find(".".concat(this.pfx,"assets"));if(t)e.empty();else{var n=this.config.noAssets;n&&e.append(n)}},r.prototype.deselectAll=function(){var t=this.pfx;this.$el.find(".".concat(t,"highlight")).removeClass("".concat(t,"highlight"))},r.prototype.renderAssets=function(){var t=this,e=document.createDocumentFragment(),n=this.$el.find(".".concat(this.pfx,"assets"));n.empty(),this.toggleNoAssets(!!this.collection.length),this.collection.each(function(i){return t.addAsset(i,e)}),n.append(e)},r.prototype.render=function(){var t=this.options.fu.render().el;return this.$el.empty(),this.$el.append(t).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this},r}($t.Ss);const Dj=BS;BS.prototype.events={submit:"handleSubmit"};var jj=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Nj=function(o,r){return Object.defineProperty?Object.defineProperty(o,"raw",{value:r}):o.raw=r,o},Ij=function(o){jj(r,o);function r(t){t===void 0&&(t={});var e=o.call(this,t)||this;e.options=t;var n=t.config||{};e.module=t.module,e.config=n,e.em=e.config.em,e.pfx=n.stylePrefix||"",e.ppfx=n.pStylePrefix||"",e.target=e.options.globalCollection||{},e.uploadId=e.pfx+"uploadFile",e.disabled=n.disableUpload!==void 0?n.disableUpload:!n.upload&&!n.embedAsBase64,e.multiUpload=n.multiUpload!==void 0?n.multiUpload:!0;var i=n.uploadFile;return i?e.uploadFile=i.bind(e):!n.upload&&n.embedAsBase64&&(e.uploadFile=r.embedAsBase64),e.delegateEvents(),e}return r.prototype.template=function(t){var e=t.pfx,n=t.title,i=t.uploadId,s=t.disabled,u=t.multiUpload;return Wn(Dw||(Dw=Nj([`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `],[`
      <form>
        <div id="`,'title">',`</div>
        <input
          data-input
          type="file"
          id="`,`"
          name="file"
          accept="*/*"
          `,`
          `,`
        />
        <div style="clear:both;"></div>
      </form>
    `])),e,n,i,s?"disabled":"",u?"multiple":"")},r.prototype.events=function(){return{"change [data-input]":"uploadFile"}},r.prototype.onUploadStart=function(){var t=this.module;t==null||t.__propEv(t.events.uploadStart)},r.prototype.onUploadEnd=function(t){var e=this,n=e.$el,i=e.module;i==null||i.__propEv(i.events.uploadEnd,t);var s=n.find("input");s&&s.val("")},r.prototype.onUploadError=function(t){var e=this.module;console.error(t),this.onUploadEnd(t),e==null||e.__propEv(e.events.uploadError,t)},r.prototype.onUploadResponse=function(t,e){var n=this,i=n.module,s=n.config,u=n.target,c;try{c=typeof t=="string"?JSON.parse(t):t}catch{c=t}i==null||i.__propEv(i.events.uploadResponse,c),s.autoAdd&&u&&u.add(c.data,{at:0}),this.onUploadEnd(t),e==null||e(c)},r.prototype.uploadFile=function(t,e){var n=this,i=t.dataTransfer?t.dataTransfer.files:t.target.files,s=this.config,u=s.beforeUpload,c=u&&u(i);if(c!==!1){var f=new FormData,h=s.params,g=s.customFetch,m=s.fetchOptions;for(var y in h)f.append(y,h[y]);if(this.multiUpload)for(var w=0;w<i.length;w++)f.append("".concat(s.uploadName).concat(s.multiUploadSuffix),i[w]);else i.length&&f.append(s.uploadName,i[0]);var b=s.upload,O=s.headers,S="X-Requested-With";if(typeof O[S]>"u"&&(O[S]="XMLHttpRequest"),b){this.onUploadStart();var P={method:"post",credentials:s.credentials||"include",headers:O,body:f},T=(m==null?void 0:m(P))||P,j=g?g(b,T):xS(b,T).then(function(X){return(X.status/200|0)==1?X.text():X.text().then(function(at){return Promise.reject(at)})});return j.then(function(X){return n.onUploadResponse(X,e)}).catch(function(X){return n.onUploadError(X)})}}},r.prototype.initDrop=function(){var t=this;if(!this.uploadForm){this.uploadForm=this.$el.find("form").get(0);var e=this.uploadForm;"draggable"in e&&(this.uploadForm.ondragover=function(){return e.className=t.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return e.className="",!1},this.uploadForm.ondrop=function(n){e.className="",n.preventDefault(),t.uploadFile(n)})}},r.prototype.initDropzone=function(t){var e=this,n=0,i=this.config,s=t.model,u=t.el,c=s.Editor,f=s.Canvas.getBody(),h=this.ppfx,g="".concat(h,"dropzone-active"),m="".concat(h,"dropzone"),y=function(){u.className=u.className.replace(g,"").trim(),n=0},w=function(){return n||(u.className+=" ".concat(g),n=1),!1},b=function(){return y(),!1},O=function(S){if(y(),S.preventDefault(),S.stopPropagation(),e.uploadFile(S),i.openAssetsOnDrop&&c){var P=c.getSelected();c.runCommand("open-assets",{target:P,onSelect:function(){c.Modal.close(),c.AssetManager.setTarget(null)}})}return!1};t.$el.append('<div class="'.concat(m,'">').concat(i.dropzoneContent,"</div>")),y(),"draggable"in u&&[u,f].forEach(function(S){S.ondragover=w,S.ondragleave=b,S.ondrop=O})},r.prototype.render=function(){var t=this,e=t.$el,n=t.pfx,i=t.em;return e.html(this.template({title:i&&i.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:n})),this.initDrop(),e.attr("class",n+"file-uploader"),this},r.embedAsBase64=function(t,e){var n=this,i=t.dataTransfer?t.dataTransfer.files:t.target.files,s={data:[]};if(!FileReader){this.onUploadError(new Error("Unsupported platform, FileReader is not defined"));return}for(var u=[],c=/^(.+)\/(.+)$/,f=function(y){var w=new Promise(function(b,O){var S=new FileReader;S.addEventListener("load",function(P){var T,j=y.name,X=c.exec(y.type);if(X?T=X[1]:T=y.type,T==="image"){var at={src:S.result,name:j,type:T,height:0,width:0},ft=new Image;ft.addEventListener("error",function(Q){O(Q)}),ft.addEventListener("load",function(){at.height=ft.height,at.width=ft.width,b(at)}),ft.src=at.src}else b(T?{src:S.result,name:j,type:T}:S.result)}),S.addEventListener("error",function(P){O(P)}),S.addEventListener("abort",function(P){O("Aborted")}),S.readAsDataURL(y)});u.push(w)},h=0,g=i;h<g.length;h++){var m=g[h];f(m)}return Promise.all(u).then(function(y){s.data=y,n.onUploadResponse(s,e)},function(y){n.onUploadError(y)})},r}($t.Ss);const Rj=Ij;var Dw,Fj=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qs=function(){return Qs=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Qs.apply(this,arguments)},jw=function(o,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,i;e<n;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return o.concat(i||Array.prototype.slice.call(r))},pu="open-assets",Vj=function(o){Fj(r,o);function r(t){var e=o.call(this,t,"AssetManager",new lv([],t),Lw,_j)||this;e.storageKey="assets",e.Asset=Mg,e.Assets=lv,e.events=Lw;var n=e,i=n.all,s=n.config;e.assetsVis=new lv([]);var u=s.pStylePrefix;return u&&(s.stylePrefix="".concat(u).concat(s.stylePrefix)),i.on("add",function(c){return e.getAllVisible().add(c)}),i.on("remove",function(c){return e.getAllVisible().remove(c)}),e.__onAllEvent=(0,D.debounce)(function(){return e.__trgCustom()},0),e}return r.prototype.open=function(t){t===void 0&&(t={});var e=this.em.Commands;e.run(pu,Qs({types:["image"],select:function(){}},t))},r.prototype.close=function(){var t=this.em.Commands;t.stop(pu)},r.prototype.isOpen=function(){var t=this.em.Commands;return!!(t!=null&&t.isActive(pu))},r.prototype.add=function(t,e){return e===void 0&&(e={}),typeof e.at>"u"&&(e.at=0),this.all.add(t,e)},r.prototype.get=function(t){return this.all.where({src:t})[0]||null},r.prototype.getAll=function(){return this.all},r.prototype.getAllVisible=function(){return this.assetsVis},r.prototype.remove=function(t,e){return this.__remove(t,e)},r.prototype.store=function(){return this.getProjectData()},r.prototype.load=function(t){return this.loadProjectData(t)},r.prototype.getContainer=function(){var t,e=this.__getBehaviour();return e.container||((t=this.am)===null||t===void 0?void 0:t.el)},r.prototype.getAssetsEl=function(){var t;return(t=this.am)===null||t===void 0?void 0:t.el.querySelector("[data-el=assets]")},r.prototype.render=function(t){if(!this.getConfig().custom){var e=t||this.getAll().models;if(!this.am){var n=this.__viewParams();n.fu=this.FileUploader(),this.am=new Dj(Qs({},n)),this.am.render()}return this.assetsVis.reset(e),this.getContainer()}},r.prototype.__viewParams=function(){return{collection:this.assetsVis,globalCollection:this.all,config:this.config,module:this,fu:void 0}},r.prototype.addType=function(t,e){this.getAll().addType(t,e)},r.prototype.getType=function(t){return this.getAll().getType(t)},r.prototype.getTypes=function(){return this.getAll().getTypes()},r.prototype.AssetsView=function(){return this.am},r.prototype.FileUploader=function(){return this.fu||(this.fu=new Rj(this.__viewParams())),this.fu},r.prototype.onLoad=function(){var t=this;this.getAll().reset(this.config.assets);var e=this,n=e.em,i=e.events;n.Commands.__onRun(pu,function(){return t.__propEv(i.open)}),n.Commands.__onStop(pu,function(){return t.__propEv(i.close)})},r.prototype.postRender=function(t){var e;this.config.dropzone&&((e=this.fu)===null||e===void 0||e.initDropzone(t))},r.prototype.setTarget=function(t){this.assetsVis.target=t},r.prototype.onSelect=function(t){this.assetsVis.onSelect=t},r.prototype.onClick=function(t){this.config.onClick=t},r.prototype.onDblClick=function(t){this.config.onDblClick=t},r.prototype.__propEv=function(t){for(var e,n,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];(e=this.em).trigger.apply(e,jw([t],i,!1)),(n=this.getAll()).trigger.apply(n,jw([t],i,!1))},r.prototype.__trgCustom=function(){var t=this.__getBehaviour(),e=this.getConfig().custom;!t.container&&!e.open||this.em.trigger(this.events.custom,this.__customData())},r.prototype.__customData=function(){var t=this,e=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:e.types||[],container:e.container,close:function(){return t.close()},remove:function(n,i){return t.remove(n,i)},select:function(n,i){var s=t.add(n);(0,D.isFunction)(e.select)&&e.select(s,i)},options:e.options||{}}},r.prototype.__behaviour=function(t){return t===void 0&&(t={}),this._bhv=Qs(Qs({},this._bhv||{}),t)},r.prototype.__getBehaviour=function(t){return this._bhv||{}},r.prototype.destroy=function(){var t,e;this.all.stopListening(),this.all.reset(),this.assetsVis.stopListening(),this.assetsVis.reset(),(t=this.fu)===null||t===void 0||t.remove(),(e=this.am)===null||e===void 0||e.remove(),this._bhv={}},r}(Sa);const Uj=Vj;var Hj=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Bj=function(o){Hj(r,o);function r(t,e){e===void 0&&(e={});var n=o.call(this,t,e)||this,i=e.em,s={};n.em=i,t.frames||(s.component=t.component,s.styles=t.styles,["component","styles"].map(function(f){return n.unset(f)}));var u=t.frames||[s],c=new Ux(i.Canvas,u);return c.page=n,n.set("frames",c),!n.getId()&&n.set("id",i==null?void 0:i.Pages._createId()),i==null||i.UndoManager.add(c),n}return r.prototype.defaults=function(){return{name:"",frames:[],_undo:!0}},r.prototype.onRemove=function(){this.getFrames().reset()},r.prototype.getFrames=function(){return this.get("frames")},r.prototype.getId=function(){return this.id},r.prototype.getName=function(){return this.get("name")},r.prototype.setName=function(t){return this.set({name:t})},r.prototype.getAllFrames=function(){return this.getFrames().models||[]},r.prototype.getMainFrame=function(){return this.getFrames().at(0)},r.prototype.getMainComponent=function(){var t=this.getMainFrame();return t==null?void 0:t.getComponent()},r.prototype.toJSON=function(t){t===void 0&&(t={});var e=$t.Kx.prototype.toJSON.call(this,t),n=(0,D.result)(this,"defaults");return(0,D.forEach)(e,function(i,s){s.indexOf("_")===0&&delete e[s]}),(0,D.forEach)(n,function(i,s){e[s]===i&&delete e[s]}),e},r}($t.Kx);const Dg=Bj;var zj=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Zd=function(){return Zd=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Zd.apply(this,arguments)},Wj=function(o){zj(r,o);function r(t,e){var n=o.call(this,t)||this;return n.on("reset",n.onReset),n.on("remove",n.onRemove),n.model=function(i,s){return s===void 0&&(s={}),new Dg(i,Zd(Zd({},s),{em:e}))},n}return r.prototype.onReset=function(t,e){var n=this,i;(i=e==null?void 0:e.previousModels)===null||i===void 0||i.map(function(s){return n.onRemove(s)})},r.prototype.onRemove=function(t){t==null||t.onRemove()},r}($t.pM);const Kj=Wj;var $j=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Gj=function(o,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,i;e<n;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return o.concat(i||Array.prototype.slice.call(r))},Nw="change:selected",Iw="main",Yj=function(o){$j(r,o);function r(t){var e=o.call(this,t,"PageManager",new Kj([],t),yg)||this;e.events=yg,e.storageKey="pages",(0,D.bindAll)(e,"_onPageChange");var n=new wa.A({_undo:!0});return e.model=n,e.pages.on("reset",function(i){return i.at(0)&&e.select(i.at(0))}),e.pages.on("all",e.__onChange,e),n.on(Nw,e._onPageChange),e}return Object.defineProperty(r.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),r.prototype.getAll=function(){return Gj([],this.all.models,!0)},r.prototype.__onChange=function(t,e,n,i){var s=this,u=s.em,c=s.events,f=i||n;u.trigger(c.all,{event:t,page:e,options:f})},r.prototype.onLoad=function(){var t,e=this,n=e.pages,i=e.config,s=e.em,u={silent:!0},c=((t=i.pages)===null||t===void 0?void 0:t.map(function(h){return new Dg(h,{em:s,config:i})}))||[];n.add(c,u);var f=n.length?this._initPage():this.add({type:Iw},u);f&&this.select(f,u)},r.prototype._onPageChange=function(t,e,n){var i=this,s=i.em,u=i.events,c=s.Layers,f=e.getMainComponent();c&&f&&c.setRoot(f),s.trigger(u.select,e,t.previous("selected")),this.__onChange(Nw,e,n)},r.prototype.postLoad=function(){var t=this,e=t.em,n=t.model,i=t.pages,s=e.UndoManager;s.add(n),s.add(i),i.on("add remove reset change",function(u,c,f){return e.changesUp(f||c)})},r.prototype.add=function(t,e){var n=this;e===void 0&&(e={});var i=this,s=i.em,u=i.events;t.id=t.id||this._createId();var c=function(){var f=n.pages.add(new Dg(t,{em:n.em,config:n.config}),e);return e.select&&n.select(f),f};return!e.silent&&s.trigger(u.addBefore,t,c,e),e.abort?void 0:c()},r.prototype.remove=function(t,e){var n=this;e===void 0&&(e={});var i=this,s=i.em,u=i.events,c=(0,D.isString)(t)?this.get(t):t,f=function(){return c&&n.pages.remove(c,e),c};return!e.silent&&s.trigger(u.removeBefore,c,f,e),!e.abort&&f()},r.prototype.get=function(t){return this.pages.filter(function(e){return e.get(e.idAttribute)===t})[0]},r.prototype.getMain=function(){var t=this.pages;return t.filter(function(e){return e.get("type")===Iw})[0]||t.at(0)},r.prototype.getAllWrappers=function(){var t=this.getAll();return(0,D.unique)((0,D.flatten)(t.map(function(e){return e.getAllFrames().map(function(n){return n.getComponent()})})))},r.prototype.select=function(t,e){e===void 0&&(e={});var n=this,i=n.em,s=n.model,u=n.events,c=(0,D.isString)(t)?this.get(t):t;return c&&(i.trigger(u.selectBefore,c,e),s.set("selected",c,e)),this},r.prototype.getSelected=function(){return this.model.get("selected")},r.prototype.destroy=function(){var t=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(e){return t[e]=0})},r.prototype.store=function(){return this.getProjectData()},r.prototype.load=function(t){var e=this.loadProjectData(t,{all:this.pages,reset:!0});return this.pages.forEach(function(n){return n.getFrames().initRefs()}),e},r.prototype._initPage=function(){return this.get(this.config.selected)||this.getMain()},r.prototype._createId=function(){var t=this.getAll(),e=t.length+16,n=this.getAllMap(),i;do i=(0,Mt.createId)(e);while(n[i]);return i},r}(Sa);const Xj=Yj;var uv={placeholder:"eg. Text here"};const qj={assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",categories:{},traits:{labels:{},attributes:{id:uv,alt:uv,title:uv,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}};var Jj={locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:qj},messagesAdd:void 0};const Zj=Jj;var jg;(function(o){o.add="i18n:add",o.update="i18n:update",o.locale="i18n:locale"})(jg||(jg={}));const Qj=jg;var tN=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),eN=function(o){tN(r,o);function r(t){var e=o.call(this,t,"I18n",Zj)||this;e.events=Qj;var n=e.config.messagesAdd;return n&&e.addMessages(n),e.config.detectLocale&&(e.config.locale=e._localLang()),e}return r.prototype.setLocale=function(t){var e=this,n=e.em,i=e.config,s=e.events;return n.trigger(s.locale,{value:t,valuePrev:i.locale}),i.locale=t,this},r.prototype.getLocale=function(){return this.config.locale},r.prototype.getMessages=function(t,e){e===void 0&&(e={});var n=this.config.messages;return t&&!n[t]&&this._debug("'".concat(t,"' i18n lang not found"),e),t?n[t]:n},r.prototype.setMessages=function(t){var e=this,n=e.em,i=e.config,s=e.events;return i.messages=t,n.trigger(s.update,t),this},r.prototype.addMessages=function(t){var e=this,n=e.em,i=e.events,s=e.config,u=s.messages;return n.trigger(i.add,t),this.setMessages((0,Mt.deepMerge)(u,t)),this},r.prototype.t=function(t,e){e===void 0&&(e={});var n=this.config,i=e.params||{},s=e.l||this.getLocale(),u=e.lFlb||n.localeFallback,c=this._getMsg(t,s,e);return c||(c=this._getMsg(t,u,e)),!c&&this._debug("'".concat(t,"' i18n key not found in '").concat(s,"' lang"),e),c=c&&(0,D.isString)(c)?this._addParams(c,i):c,c},r.prototype._localLang=function(){var t=(0,Mt.hasWin)()&&window.navigator||{},e=t.language||t.userLanguage;return e?e.split("-")[0]:"en"},r.prototype._addParams=function(t,e){var n=new RegExp("{([\\w\\d-]*)}","g");return t.replace(n,function(i,s){return e[s]||""}).trim()},r.prototype._getMsg=function(t,e,n){n===void 0&&(n={});var i=this.getMessages(e,n);if(i){var s=i[t];return!s&&t.indexOf(".")>0&&(s=t.split(".").reduce(function(u,c){if(!(0,D.isUndefined)(u))return u[c]},i)),s}},r.prototype._debug=function(t,e){e===void 0&&(e={});var n=this,i=n.em,s=n.config;(e.debug||s.debug)&&i&&i.logWarning(t)},r.prototype.destroy=function(){},r}(qn);const rN=eN;var nN=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qo=function(){return Qo=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Qo.apply(this,arguments)},oN=function(){},iN=To.F.Target,Rw={id:"sorter-target",type:iN},aN=function(o){nN(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.initialize=function(t){t===void 0&&(t={}),this.opt=t||{},(0,D.bindAll)(this,"startSort","onMove","endMove","rollback","updateOffset","moveDragHelper");var e=t||{};this.elT=0,this.elL=0,this.borderOffset=e.borderOffset||10;var n=e.container;this.el=typeof n=="string"?document.querySelector(n):n,this.$el=(0,sr.default)(this.el),this.containerSel=e.containerSel||"div",this.itemSel=e.itemSel||"div",this.draggable=e.draggable||!0,this.nested=!!e.nested,this.pfx=e.pfx||"",this.ppfx=e.ppfx||"",this.freezeClass=e.freezeClass||this.pfx+"freezed",this.onStart=e.onStart||oN,this.onEndMove=e.onEndMove,this.customTarget=e.customTarget,this.onEnd=e.onEnd,this.direction=e.direction||"v",this.onMoveClb=e.onMove,this.relative=e.relative||!1,this.ignoreViewChildren=!!e.ignoreViewChildren,this.plh=e.placer,this.wmargin=e.wmargin||0,this.offTop=e.offsetTop||0,this.offLeft=e.offsetLeft||0,this.document=e.document||document,this.em=e.em,this.canvasRelative=!!e.canvasRelative,this.selectOnEnd=!e.avoidSelectOnEnd,this.scale=e.scale;var i=this.em;i!=null&&i.on&&(i.on(i.Canvas.events.refresh,this.updateOffset),this.updateOffset())},r.prototype.getScale=function(){return(0,D.result)(this,"scale")||1},r.prototype.getContainerEl=function(t){if(t&&(this.el=t),!this.el){var e=this.opt.container;this.el=typeof e=="string"?document.querySelector(e):e,this.$el=(0,sr.default)(this.el)}return this.el},r.prototype.getDocuments=function(t){var e=this.em,n=t?t.ownerDocument:e==null?void 0:e.Canvas.getBody().ownerDocument,i=[document];return n&&i.push(n),i},r.prototype.updateOffset=function(){var t,e=((t=this.em)===null||t===void 0?void 0:t.get("canvasOffset"))||{};this.offTop=e.top,this.offLeft=e.left},r.prototype.setDropContent=function(t){delete this.dropModel,this.dropContent=t},r.prototype.updateTextViewCursorPosition=function(t){var e=this.em;if(e){var n=e.Canvas,i=n.getDocument(),s=null;if(i.caretRangeFromPoint){var u=(0,Jt.G2)(t);s=i.caretRangeFromPoint(u.clientX,u.clientY)}else t.rangeParent&&(s=i.createRange(),s.setStart(t.rangeParent,t.rangeOffset));var c=n.getWindow().getSelection();n.getFrameEl().focus(),c==null||c.removeAllRanges(),s&&(c==null||c.addRange(s)),this.setContentEditable(this.activeTextModel,!0)}},r.prototype.setContentEditable=function(t,e){if(t){var n=t.getEl();n.contentEditable!=e&&(n.contentEditable=e)}},r.prototype.toggleSortCursor=function(t){var e=this.em,n=e==null?void 0:e.Canvas;n&&(t?n.startAutoscroll():n.stopAutoscroll())},r.prototype.setDragHelper=function(t,e){for(var n=e||"",i=t.cloneNode(!0),s=t.getBoundingClientRect(),u=getComputedStyle(t),c="",f=0;f<u.length;f++){var h=u[f];c+="".concat(h,":").concat(u.getPropertyValue(h),";")}if(document.body.appendChild(i),i.className+=" ".concat(this.pfx,"bdrag"),i.setAttribute("style",c),this.dragHelper=i,i.style.width="".concat(s.width,"px"),i.style.height="".concat(s.height,"px"),n&&this.moveDragHelper(n),this.em){var g=(0,sr.default)(this.em.Canvas.getBody().ownerDocument);g.off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)}(0,sr.default)(document).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)},r.prototype.moveDragHelper=function(t){var e=t.target.ownerDocument;if(!(!this.dragHelper||!e)){var n=t.pageY,i=t.pageX,s=0,u=0,c=e.defaultView||e.parentWindow,f=c.frameElement,h=this.dragHelper.style;if(f){var g=f.getBoundingClientRect();s=g.top+document.documentElement.scrollTop,u=g.left+document.documentElement.scrollLeft,n=t.clientY,i=t.clientX}h.top=n+s+"px",h.left=i+u+"px"}},r.prototype.matches=function(t,e){return Mt.matches.call(t,e)},r.prototype.closest=function(t,e){if(t)for(var n=t.parentNode;n&&n.nodeType===1;){if(this.matches(n,e))return n;n=n.parentNode}},r.prototype.offset=function(t){var e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}},r.prototype.createPlaceholder=function(){var t=this.pfx,e=document.createElement("div"),n=document.createElement("div");return e.className=t+"placeholder",e.style.display="none",e.style.pointerEvents="none",n.className=t+"placeholder-int",e.appendChild(n),e},r.prototype.startSort=function(t,e){var n,i;e===void 0&&(e={});var s=this,u=s.em,c=s.itemSel,f=s.containerSel,h=s.plh,g=this.getContainerEl(e.container),m=this.getDocuments(t),y;delete this.dropModel,delete this.target,delete this.prevTarget,this.moved=!1,t&&!this.matches(t,"".concat(c,", ").concat(f))&&(t=this.closest(t,c)),this.sourceEl=t,h||(this.plh=this.createPlaceholder(),g.appendChild(this.plh)),t&&(y=this.getSourceModel(t),y!=null&&y.set&&y.set("status","freezed"),this.srcModel=y),(0,Jt.on)(g,"mousemove dragover",this.onMove),(0,Jt.on)(m,"mouseup dragend touchend",this.endMove),(0,Jt.on)(m,"keydown",this.rollback),this.onStart({sorter:this,target:y,parent:y&&((n=y.parent)===null||n===void 0?void 0:n.call(y)),index:y&&((i=y.index)===null||i===void 0?void 0:i.call(y))}),u==null||u.clearSelection(),this.toggleSortCursor(!0),u==null||u.trigger("sorter:drag:start",t,y)},r.prototype.getTargetModel=function(t){var e=t||this.target;return(0,sr.default)(e).data("model")},r.prototype.getSourceModel=function(t,e){var n=this,i=e===void 0?{}:e,s=i.target,u=i.avoidChildren,c=u===void 0?1:u,f=this,h=f.em,g=f.sourceEl,m=t||g,y=this,w=y.dropModel,b=y.dropContent,O=function(j){return j&&s&&j.opt&&j.opt.avoidChildren&&n.isTextableActive(j,s)};if(b&&h){if(O(w)&&(w=void 0),!w){var S=h.Components.getComponents(),P={avoidChildren:c,avoidStore:1,avoidUpdateStyle:1},T=S.add(b,Qo(Qo({},P),{temporary:!0}));if(w=S.remove(T,P),w=w instanceof Array?w[0]:w,this.dropModel=w,O(w))return this.getSourceModel(m,{target:s,avoidChildren:0})}return w}return m&&(0,sr.default)(m).data("model")},r.prototype.selectTargetModel=function(t,e){if(!(t instanceof $t.pM)&&!(e&&e===t)){var n=this.targetModel;if(n&&n!==this.srcModel&&n.set("status",""),t!=null&&t.set){var i=this.em.Canvas,s=To.F.Select,u=To.F.Hover,c=To.F.Spacing;[s,u,c].forEach(function(f){return i.removeSpots({type:f})}),i.addSpot(Qo(Qo({},Rw),{component:t})),t.set("status","selected-parent"),this.targetModel=t}}},r.prototype.onMove=function(t){var e=t,n=this,i=n.em,s=n.onMoveClb,u=n.plh,c=n.customTarget;this.moved=!0;var f=u.style.display;(!f||f==="none")&&(u.style.display="block");var h=this.offset(this.el);this.elT=this.wmargin?Math.abs(h.top):h.top,this.elL=this.wmargin?Math.abs(h.left):h.left;var g=t.pageY-this.elT+this.el.scrollTop,m=t.pageX-this.elL+this.el.scrollLeft;if(this.canvasRelative&&i){var y=i.Canvas.getMouseRelativeCanvas(t,{noScroll:1});m=y.x,g=y.y}this.rX=m,this.rY=g,this.eventMove=t;var w=this.getSourceModel(),b=c?c({sorter:this,event:t}):t.target,O=this.dimsFromTarget(b,m,g),S=this.target,P=S&&this.getTargetModel(S);if(this.selectTargetModel(P,w),P||(u.style.display="none"),!!S){this.lastDims=O;var T=this.findPosition(O,m,g);this.isTextableActive(w,P)?(this.activeTextModel=P,u.style.display="none",this.lastPos=T,this.updateTextViewCursorPosition(e)):(this.disableTextable(),delete this.activeTextModel,(!this.lastPos||this.lastPos.index!=T.index||this.lastPos.method!=T.method)&&(this.movePlaceholder(this.plh,O,T,this.prevTargetDim),this.$plh||(this.$plh=(0,sr.default)(this.plh)),this.canvasRelative||(this.offTop&&this.$plh.css("top","+="+this.offTop+"px"),this.offLeft&&this.$plh.css("left","+="+this.offLeft+"px")),this.lastPos=T)),(0,D.isFunction)(s)&&s({event:t,target:w,parent:P,index:T.index+(T.method=="after"?1:0)}),i&&i.trigger("sorter:drag",{target:S,targetModel:P,sourceModel:w,dims:O,pos:T,x:m,y:g})}},r.prototype.isTextableActive=function(t,e){var n;return((n=t==null?void 0:t.get)===null||n===void 0?void 0:n.call(t,"textable"))&&(e==null?void 0:e.isInstanceOf("text"))},r.prototype.disableTextable=function(){var t=this.activeTextModel;t==null||t.getView().disableEditing(),this.setContentEditable(t,!1)},r.prototype.isInFlow=function(t,e){if(!t)return!1;e=e||document.body;var n=t;return n.offsetHeight,!!this.styleInFlow(n,e)},r.prototype.styleInFlow=function(t,e){if(!(0,Jt.ir)(t)){var n=t.style||{},i=(0,sr.default)(t),s=e&&(0,sr.default)(e);if(!(n.overflow&&n.overflow!=="visible")){var u=i.css("float");if(!(u&&u!=="none")&&!(s&&s.css("display")=="flex"&&s.css("flex-direction")!=="column")){switch(n.position){case"static":case"relative":case"":break;default:return}switch(t.tagName){case"TR":case"TBODY":case"THEAD":case"TFOOT":return!0}switch(i.css("display")){case"block":case"list-item":case"table":case"flex":case"grid":return!0}}}}},r.prototype.validTarget=function(t,e){var n,i,s=this.lastPos,u=this.getTargetModel(t),c=this.getSourceModel(e,{target:u});e=(n=c==null?void 0:c.view)===null||n===void 0?void 0:n.el,t=(i=u==null?void 0:u.view)===null||i===void 0?void 0:i.el;var f={valid:!0,src:e,srcModel:c,trg:t,trgModel:u,draggable:!1,droppable:!1,dragInfo:"",dropInfo:""};if(!e||!t)return f.valid=!1,f;var h=s?s.method==="after"?s.indexEl+1:s.indexEl:u.components().length,g=c.get("draggable");if((0,D.isFunction)(g)){var m=g(c,u,h);f.dragInfo=m,f.draggable=m,g=m}else g=g instanceof Array?g.join(", "):g,f.dragInfo=g,g=(0,D.isString)(g)?this.matches(t,g):g,f.draggable=g;var y=u.get("droppable");if((0,D.isFunction)(y)){var m=y(c,u,h);f.droppable=m,f.dropInfo=m,y=m}else y=y instanceof $t.pM?1:y,y=y instanceof Array?y.join(", "):y,f.dropInfo=y,y=(0,D.isString)(y)?this.matches(e,y):y,y=g&&this.isTextableActive(c,u)?1:y,f.droppable=y;return(!y||!g)&&(f.valid=!1),f},r.prototype.dimsFromTarget=function(t,e,n){e===void 0&&(e=0),n===void 0&&(n=0);var i=this.em,s=[];if(!t||(this.matches(t,"".concat(this.itemSel,", ").concat(this.containerSel))||(t=this.closest(t,this.itemSel)),this.draggable instanceof Array&&(t=this.closest(t,this.draggable.join(","))),!t))return s;if(this.prevTarget&&this.prevTarget!=t&&delete this.prevTarget,!this.prevTarget){this.targetP=this.closest(t,this.containerSel);var u=this.validTarget(t);if(i&&i.trigger("sorter:drag:validation",u),!u.valid&&this.targetP)return this.dimsFromTarget(this.targetP,e,n);this.prevTarget=t,this.prevTargetDim=this.getDim(t),this.cacheDimsP=this.getChildrenDim(this.targetP),this.cacheDims=this.getChildrenDim(t)}if(this.prevTarget==t&&(s=this.cacheDims),this.target=this.prevTarget,this.nearBorders(this.prevTargetDim,e,n)||!this.nested&&!this.cacheDims.length){var c=this.targetP;c&&this.validTarget(c).valid&&(s=this.cacheDimsP,this.target=c)}return delete this.lastPos,s},r.prototype.getTargetFromEl=function(t){var e=t,n,i=this.targetPrev,s=this.em,u=this.containerSel,c=this.itemSel;if(this.matches(e,"".concat(c,", ").concat(u))||(e=this.closest(e,c)),this.draggable instanceof Array&&(e=this.closest(e,this.draggable.join(","))),i&&i!=e&&delete this.targetPrev,!this.targetPrev){n=this.closest(e,u);var f=this.validTarget(e);if(s&&s.trigger("sorter:drag:validation",f),!f.valid&&n)return this.getTargetFromEl(n);this.targetPrev=e}return this.nearElBorders(e)&&(n=this.closest(e,u),n&&this.validTarget(n).valid&&(e=n)),e},r.prototype.nearElBorders=function(t){var e=10,n=t.getBoundingClientRect(),i=t.ownerDocument.body,s=this.getCurrentPos(),u=s.x,c=s.y,f=n.top+i.scrollTop,h=n.left+i.scrollLeft,g=n.width,m=n.height;if(c<f+e||c>f+m-e||u<h+e||u>h+g-e)return 1},r.prototype.getCurrentPos=function(){var t=this.eventMove,e=(t==null?void 0:t.pageX)||0,n=(t==null?void 0:t.pageY)||0;return{x:e,y:n}},r.prototype.getDim=function(t){var e=this,n=e.em,i=e.canvasRelative,s=n==null?void 0:n.Canvas,u=s?s.getElementOffsets(t):{},c,f,h,g;if(i&&n){var m=s.getElementPos(t,{noScroll:1});c=m.top,f=m.left,h=m.height,g=m.width}else{var y=this.offset(t);c=this.relative?t.offsetTop:y.top-(this.wmargin?-1:1)*this.elT,f=this.relative?t.offsetLeft:y.left-(this.wmargin?-1:1)*this.elL,h=t.offsetHeight,g=t.offsetWidth}return{top:c,left:f,height:h,width:g,offsets:u}},r.prototype.getChildrenDim=function(t){var e=this,n=[];if(!t)return n;var i=this.getTargetModel(t);if(i&&i.view&&!this.ignoreViewChildren){var s=i.getCurrentView?i.getCurrentView():i.view;t=s.getChildrenContainer()}return(0,D.each)(t.children,function(u,c){var f=u,h=(0,Mt.getModel)(f,sr.default),g=h&&h.index?h.index():c;if(!(!(0,Jt.ir)(f)&&!e.matches(f,e.itemSel))){var m=e.getDim(f),y=e.direction,w;y=="v"?w=!0:y=="h"?w=!1:w=e.isInFlow(f,t),m.dir=w,m.el=f,m.indexEl=g,n.push(m)}}),n},r.prototype.nearBorders=function(t,e,n){var i=!1,s=this.borderOffset,u=e||0,c=n||0,f=t.top,h=t.left,g=t.height,m=t.width;return(f+s>c||c>f+g-s||h+s>u||u>h+m-s)&&(i=!0),i},r.prototype.findPosition=function(t,e,n){for(var i={index:0,indexEl:0,method:"before"},s=0,u=0,c=0,f=0,h=0,g=0,m=0,y,w=0,b=t.length;w<b;w++){y=t[w];var O=y.top,S=y.left,P=y.height,T=y.width;if(c=S+T,m=O+P,h=S+T/2,g=O+P/2,!(u&&S>u||f&&g>=f||s&&c<s))if(i.index=w,i.indexEl=y.indexEl,!y.dir)n<m&&(f=m),e<h?(u=h,i.method="before"):(s=h,i.method="after");else if(n<g){i.method="before";break}else i.method="after"}return i},r.prototype.movePlaceholder=function(t,e,n,i){var s=0,u=0,c=0,f="",h="",g="px",m=5,y=n.method,w=e[n.index];if(t.classList.remove("vertical"),t.classList.add("horizontal"),w){var b=w.top,O=w.left,S=w.height,P=w.width;w.dir?(f=P+g,h="auto",u=y=="before"?b-s:b+S-s,c=O):(f="auto",h=S-s*2+g,u=b+s,c=y=="before"?O-s:O+P-s,t.classList.remove("horizontal"),t.classList.add("vertical"))}else{if(!this.nested){t.style.display="none";return}if(i){var T=i.offsets||{},j=T.paddingTop||m,X=T.paddingLeft||m,at=T.borderTopWidth||0,ft=T.borderLeftWidth||0,Q=T.borderRightWidth||0,K=ft+Q;u=i.top+j+at,c=i.left+X+ft,f=parseInt("".concat(i.width))-X*2-K+g,h="auto"}}t.style.top=u+g,t.style.left=c+g,f&&(t.style.width=f),h&&(t.style.height=h)},r.prototype.parents=function(t){return t?[t].concat(this.parents(t.parent())):[]},r.prototype.sort=function(t,e){var n=t.parents.filter(function(c){return e.parents.includes(c)}),i=n[0];if(!i)return e.model.index()-t.model.index();var s=t.parents[t.parents.indexOf(i)-1],u=e.parents[e.parents.indexOf(i)-1];return u.index()-s.index()},r.prototype.endMove=function(){var t=this,e,n=this.sourceEl,i=[],s=this.getDocuments(),u=this.getContainerEl(),c=this.onEndMove,f=this.onEnd,h=this,g=h.target,m=h.lastPos,y;if((0,Jt.AU)(u,"mousemove dragover",this.onMove),(0,Jt.AU)(s,"mouseup dragend touchend",this.endMove),(0,Jt.AU)(s,"keydown",this.rollback),this.plh.style.display="none",n&&(y=this.getSourceModel()),this.moved&&g){var w=this.toMove,b=(0,D.isArray)(w)?w:w?[w]:[n],O=0;b.length===1?i.push(this.move(g,b[0],m)):b.map(function(T){return{model:T,parents:t.parents(T)}}).sort(this.sort).forEach(function(T){var j=T.model,X=j.index(),at=j.parent().getEl();i.push(t.move(g,j,Qo(Qo({},m),{indexEl:m.indexEl-O,index:m.index-O}))),at===g&&X<=m.index&&O++})}this.plh&&(this.plh.style.display="none");var S=this.dragHelper;if(S&&(S.parentNode.removeChild(S),delete this.dragHelper),this.disableTextable(),this.selectTargetModel(),this.toggleSortCursor(),(e=this.em)===null||e===void 0||e.Canvas.removeSpots(Rw),delete this.toMove,delete this.eventMove,delete this.dropModel,(0,D.isFunction)(c)){var P={target:y,parent:y&&y.parent(),index:y&&y.index()};i.length?i.forEach(function(T){return c(T,t,P)}):c(null,this,Qo(Qo({},P),{cancelled:1}))}(0,D.isFunction)(f)&&f({sorter:this})},r.prototype.move=function(t,e,n){var i=this,s=i.em,u=i.dropContent,c=(0,Mt.getElement)(e),f=[],h=n.method==="after"?n.indexEl+1:n.indexEl,g=this.validTarget(t,c),m=(0,sr.default)(t).data("collection"),y=g.trgModel,w=g.srcModel,b=g.draggable,O=y instanceof $t.pM?1:g.droppable,S,P;if(m&&O&&b){var T={at:h,action:"move-component"},j=this.isTextableActive(w,y);if(u)S=(0,D.isFunction)(u)?u():u,T.avoidUpdateStyle=!0,T.action="add-component";else{var X=w.collection.indexOf(w),at=m===w.collection,ft=X===h||X===h-1,Q=!at||!ft||j;Q&&(S=w.collection.remove(w,{temporary:!0}),at&&h>X&&(T.at=h-1))}S&&(j?(delete T.at,P=y.getView().insertComponent(S,T)):P=m.add(S,T)),delete this.dropContent,delete this.prevTarget}else if(s){var K=g.dropInfo||(y==null?void 0:y.get("droppable")),rt=g.dragInfo||(w==null?void 0:w.get("draggable"));!m&&f.push("Target collection not found"),!O&&K&&f.push("Target is not droppable, accepts [".concat(K,"]")),!b&&rt&&f.push("Component not draggable, acceptable by [".concat(rt,"]")),s.logWarning("Invalid target position",{errors:f,model:w,context:"sorter",target:y})}return s==null||s.trigger("sorter:drag:end",{targetCollection:m,modelToDrop:S,warns:f,validResult:g,dst:t,srcEl:c}),P},r.prototype.rollback=function(t){(0,Jt.AU)(this.getDocuments(),"keydown",this.rollback);var e=t.which||t.keyCode;e==27&&(this.moved=!1,this.endMove())},r}($t.Ss);const sN=aN;var Wa=function(){return Wa=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Wa.apply(this,arguments)},lN=function(o,r){r===void 0&&(r={});var t=r.prefix||"",e=document.createElement("i");return e.className=t+"resizer-h "+t+"resizer-h-"+o,e.setAttribute("data-"+t+"handler",o),e},uN=function(o,r){var t=r||window,e=o.getBoundingClientRect();return{left:e.left+t.pageXOffset,top:e.top+t.pageYOffset,width:e.width,height:e.height}},cN=function(){function o(r){r===void 0&&(r={}),this.defOpts={ratioDefault:!1,onUpdateContainer:function(){},step:1,minDim:10,maxDim:1/0,unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:!0,silentFrames:!1,avoidContainerUpdate:!1,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:!0,tc:!0,tr:!0,cl:!0,cr:!0,bl:!0,bc:!0,br:!0},this.opts=Wa({},this.defOpts),this.setOptions(r),(0,D.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop")}return o.prototype.getConfig=function(){return this.opts},o.prototype.setOptions=function(r,t){r===void 0&&(r={}),this.opts=Wa(Wa({},t?this.defOpts:this.opts),r),this.setup()},o.prototype.setup=function(){var r=this.opts,t=r.prefix||"",e=r.appendTo||document.body,n=this.container;for(n||(n=document.createElement("div"),n.className="".concat(t,"resizer-c"),e.appendChild(n),this.container=n);n.firstChild;)n.removeChild(n.firstChild);var i={};["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(c){return i[c]=r[c]?lN(c,r):null});for(var s in i){var u=i[s];u&&n.appendChild(u)}this.handlers=i,this.mousePosFetcher=r.mousePosFetcher,this.updateTarget=r.updateTarget,this.posFetcher=r.posFetcher,this.onStart=r.onStart,this.onMove=r.onMove,this.onEnd=r.onEnd,this.onUpdateContainer=r.onUpdateContainer},o.prototype.toggleFrames=function(r){if(this.opts.silentFrames){var t=document.querySelectorAll("iframe");(0,D.each)(t,function(e){return e.style.pointerEvents=r?"none":""})}},o.prototype.isHandler=function(r){var t=this.handlers;for(var e in t)if(t[e]===r)return!0;return!1},o.prototype.getFocusedEl=function(){return this.el},o.prototype.getParentEl=function(){var r;return(r=this.el)===null||r===void 0?void 0:r.parentElement},o.prototype.getDocumentEl=function(){return[this.el.ownerDocument,document]},o.prototype.getElementPos=function(r,t){t===void 0&&(t={});var e=this.posFetcher;return e?e(r,t):uN(r)},o.prototype.focus=function(r){r&&r===this.el||(this.el=r,this.updateContainer({forceShow:!0}),(0,Jt.on)(this.getDocumentEl(),"pointerdown",this.handleMouseDown))},o.prototype.blur=function(){this.container.style.display="none",this.el&&((0,Jt.AU)(this.getDocumentEl(),"pointerdown",this.handleMouseDown),delete this.el)},o.prototype.start=function(r){var t=r;if(t.button===0){t.preventDefault(),t.stopPropagation();var e=this.el,n=this.getParentEl(),i=this,s=this.opts||{},u=this.mousePosFetcher,c="data-"+s.prefix+"handler",f=this.getElementPos(e,{avoidFrameZoom:!0,avoidFrameOffset:!0}),h=this.getElementPos(n),g=t.target;this.handlerAttr=g.getAttribute(c),this.clickedHandler=g,this.startDim={t:f.top,l:f.left,w:f.width,h:f.height},this.rectDim={t:f.top,l:f.left,w:f.width,h:f.height},this.startPos=u?u(t):{x:t.clientX,y:t.clientY},this.parentDim={t:h.top,l:h.left,w:h.width,h:h.height};var m=this.getDocumentEl();this.docs=m,(0,Jt.on)(m,"pointermove",this.move),(0,Jt.on)(m,"keydown",this.handleKeyDown),(0,Jt.on)(m,"pointerup",this.stop),(0,D.isFunction)(this.onStart)&&this.onStart(t,{docs:m,config:s,el:e,resizer:i}),this.toggleFrames(!0),this.move(t)}},o.prototype.move=function(r){var t=r,e=this.onMove,n=this.mousePosFetcher,i=n?n(t):{x:t.clientX,y:t.clientY};this.currentPos=i,this.delta={x:i.x-this.startPos.x,y:i.y-this.startPos.y},this.keys={shift:t.shiftKey,ctrl:t.ctrlKey,alt:t.altKey},this.rectDim=this.calc(this),this.updateRect(!1),e&&e(t)},o.prototype.stop=function(r){var t=this.el,e=this.opts,n=this.docs||this.getDocumentEl();(0,Jt.AU)(n,"pointermove",this.move),(0,Jt.AU)(n,"keydown",this.handleKeyDown),(0,Jt.AU)(n,"pointerup",this.stop),this.updateRect(!0),this.toggleFrames(),(0,D.isFunction)(this.onEnd)&&this.onEnd(r,{docs:n,config:e,el:t,resizer:this}),delete this.docs},o.prototype.updateRect=function(r){var t=this.el,e=this,n=this.opts,i=this.rectDim,s=this.updateTarget,u=this.getSelectedHandler(),c=n.unitHeight,f=n.unitWidth,h=n.keyWidth,g=n.keyHeight;if((0,D.isFunction)(s))s(t,i,{store:r,selectedHandler:u,resizer:e,config:n});else{var m=t.style;m[h]=i.w+f,m[g]=i.h+c}this.updateContainer()},o.prototype.updateContainer=function(r){var t;r===void 0&&(r={});var e=this,n=e.opts,i=e.container,s=e.el,u=i.style;!n.avoidContainerUpdate&&s&&r.forceShow&&(u.display="block"),(t=this.onUpdateContainer)===null||t===void 0||t.call(this,{el:i,resizer:this,opts:Wa(Wa({},n),r)})},o.prototype.getSelectedHandler=function(){var r=this.handlers;if(this.selectedHandler){for(var t in r)if(r[t]===this.selectedHandler)return t}},o.prototype.handleKeyDown=function(r){r.keyCode===27&&(this.rectDim=this.startDim,this.stop(r))},o.prototype.handleMouseDown=function(r){var t=r.target;this.isHandler(t)?(this.selectedHandler=t,this.start(r)):t!==this.el&&(delete this.selectedHandler,this.blur())},o.prototype.calc=function(r){var t,e=this.opts||{},n=e.step,i=this.startDim,s=e.minDim,u=e.maxDim,c=r.delta.x,f=r.delta.y,h=this.parentDim.w,g=this.parentDim.h,m=this.opts.unitWidth,y=this.opts.unitHeight,w=m==="%"?i.w/100*h:i.w,b=y==="%"?i.h/100*g:i.h,O={t:i.t,l:i.l,w,h:b};if(r){var S=r.handlerAttr;~S.indexOf("r")&&(t=m==="%"?(0,Mt.normalizeFloat)((w+c*n)/h*100,.01):(0,Mt.normalizeFloat)(w+c*n,n),t=Math.max(s,t),u&&(t=Math.min(u,t)),O.w=t),~S.indexOf("b")&&(t=y==="%"?(0,Mt.normalizeFloat)((b+f*n)/g*100,.01):(0,Mt.normalizeFloat)(b+f*n,n),t=Math.max(s,t),u&&(t=Math.min(u,t)),O.h=t),~S.indexOf("l")&&(t=m==="%"?(0,Mt.normalizeFloat)((w-c*n)/h*100,.01):(0,Mt.normalizeFloat)(w-c*n,n),t=Math.max(s,t),u&&(t=Math.min(u,t)),O.w=t),~S.indexOf("t")&&(t=y==="%"?(0,Mt.normalizeFloat)((b-f*n)/g*100,.01):(0,Mt.normalizeFloat)(b-f*n,n),t=Math.max(s,t),u&&(t=Math.min(u,t)),O.h=t);var P=e.ratioDefault?!r.keys.shift:r.keys.shift;if(S.indexOf("c")<0&&P){var T=i.w/i.h;O.w/O.h>T?O.h=Math.round(O.w/T):O.w=Math.round(O.h*T)}~S.indexOf("l")&&(O.l+=i.w-O.w),~S.indexOf("t")&&(O.t+=i.h-O.h);for(var j in O){var X=j;O[X]=parseInt("".concat(O[X]),10)}return O}},o}();const fN=cN;var dN=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ng=function(){return Ng=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Ng.apply(this,arguments)},pN=function(o){dN(r,o);function r(t){var e=o.call(this,t,"Utils")||this;return e.Sorter=sN,e.Resizer=fN,e.Dragger=eS.A,e.helpers=Ng({},Mt),e}return r.prototype.destroy=function(){},r}(qn);const hN=pN;var Kn,fo={},Tn={16:!1,18:!1,17:!1,91:!1},zS="all",as={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},WS={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},Km=function(o){return WS[o]||o.toUpperCase().charCodeAt(0)},Cl=[];for(Kn=1;Kn<20;Kn++)WS["f"+Kn]=111+Kn;function Hu(o,r){for(var t=o.length;t--;)if(o[t]===r)return t;return-1}function vN(o,r){if(o.length!=r.length)return!1;for(var t=0;t<o.length;t++)if(o[t]!==r[t])return!1;return!0}var gN={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function mN(o){for(Kn in Tn)Tn[Kn]=o[gN[Kn]]}function yN(o){var r,t,e,n,i,s;if(r=o.keyCode,Hu(Cl,r)==-1&&Cl.push(r),(r==93||r==224)&&(r=91),r in Tn){Tn[r]=!0;for(e in as)as[e]==r&&(kn[e]=!0);return}if(mN(o),!!kn.filter.call(this,o)&&r in fo){for(s=$m(),n=0;n<fo[r].length;n++)if(t=fo[r][n],t.scope==s||t.scope=="all"){i=t.mods.length>0;for(e in Tn)(!Tn[e]&&Hu(t.mods,+e)>-1||Tn[e]&&Hu(t.mods,+e)==-1)&&(i=!1);(t.mods.length==0&&!Tn[16]&&!Tn[18]&&!Tn[17]&&!Tn[91]||i)&&t.method(o,t)===!1&&(o.preventDefault?o.preventDefault():o.returnValue=!1,o.stopPropagation&&o.stopPropagation(),o.cancelBubble&&(o.cancelBubble=!0))}}}function _N(o){var r=o.keyCode,t,e=Hu(Cl,r);if(e>=0&&Cl.splice(e,1),(r==93||r==224)&&(r=91),r in Tn){Tn[r]=!1;for(t in as)as[t]==r&&(kn[t]=!1)}}function wN(){for(Kn in Tn)Tn[Kn]=!1;for(Kn in as)kn[Kn]=!1}function kn(o,r,t){var e,n;e=KS(o),t===void 0&&(t=r,r="all");for(var i=0;i<e.length;i++)n=[],o=e[i].split("+"),o.length>1&&(n=$S(o),o=[o[o.length-1]]),o=o[0],o=Km(o),o in fo||(fo[o]=[]),fo[o].push({shortcut:e[i],scope:r,method:t,key:e[i],mods:n})}function CN(o,r){var t,e,n=[],i,s,u;for(t=KS(o),s=0;s<t.length;s++){if(e=t[s].split("+"),e.length>1&&(n=$S(e)),o=e[e.length-1],o=Km(o),r===void 0&&(r=$m()),!fo[o])return;for(i=0;i<fo[o].length;i++)u=fo[o][i],u.scope===r&&vN(u.mods,n)&&(fo[o][i]={})}}function bN(o){return typeof o=="string"&&(o=Km(o)),Hu(Cl,o)!=-1}function xN(){return Cl.slice(0)}function SN(o){var r=(o.target||o.srcElement).tagName;return!(r=="INPUT"||r=="SELECT"||r=="TEXTAREA")}for(Kn in as)kn[Kn]=!1;function ON(o){zS=o||"all"}function $m(){return zS||"all"}function TN(o){var r,t,e;for(r in fo)for(t=fo[r],e=0;e<t.length;)t[e].scope===o?t.splice(e,1):e++}function KS(o){var r;return o=o.replace(/\s/g,""),r=o.split(","),r[r.length-1]==""&&(r[r.length-2]+=","),r}function $S(o){for(var r=o.slice(0,o.length-1),t=0;t<r.length;t++)r[t]=as[r[t]];return r}function cv(o,r,t){o.addEventListener?o.addEventListener(r,t,!1):o.attachEvent&&o.attachEvent("on"+r,function(){t(window.event)})}kn.setScope=ON;kn.getScope=$m;kn.deleteScope=TN;kn.filter=SN;kn.isPressed=bN;kn.getPressedKeyCodes=xN;kn.unbind=CN;kn.handlers=fo;kn.init=function(o){cv(o.document,"keydown",function(r){yN(r)}),cv(o.document,"keyup",_N),cv(o,"focus",wN)};const wu=kn;var EN={defaults:{"core:undo":{keys:"⌘+z, ctrl+z",handler:"core:undo",opts:{prevent:!0}},"core:redo":{keys:"⌘+shift+z, ctrl+shift+z",handler:"core:redo",opts:{prevent:!0}},"core:copy":{keys:"⌘+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"⌘+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:!0}}}};const PN=EN;var kN=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Fw=function(o,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,i;e<n;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return o.concat(i||Array.prototype.slice.call(r))};(0,Mt.hasWin)()&&wu.init(window);var AN=function(o){kN(r,o);function r(t){var e=o.call(this,t,"Keymaps",PN)||this;return e.keymaster=wu,e.keymaps={},e}return r.prototype.onLoad=function(){var t=this.config.defaults;for(var e in t){var n=t[e];this.add(e,n.keys,n.handler,n.opts||{})}},r.prototype.add=function(t,e,n,i){i===void 0&&(i={});var s=this.em,u=s.Commands,c=s.getEditor(),f=s.Canvas,h={id:t,keys:e,handler:n},g=this.keymaps[t];return g&&this.remove(t),this.keymaps[t]=h,wu(e,function(m,y){var w={event:m,h:y},b=(0,D.isString)(n)?u.get(n):n,O=!s.isEditing()&&!c.Canvas.isInputFocused();if(O||i.force){i.prevent&&f.getCanvasView().preventDefault(m),(0,D.isFunction)(b)?b(c,0,w):u.runCommand(b,w);var S=[t,y.shortcut,m];s.trigger.apply(s,Fw(["keymap:emit"],S,!1)),s.trigger.apply(s,Fw(["keymap:emit:".concat(t)],S,!1))}},void 0),s.trigger("keymap:add",h),h},r.prototype.get=function(t){return this.keymaps[t]},r.prototype.getAll=function(){return this.keymaps},r.prototype.remove=function(t){var e=this.em,n=this.get(t);if(n)return delete this.keymaps[t],n.keys.split(", ").forEach(function(i){wu.unbind(i.trim())}),e==null||e.trigger("keymap:remove",n),n},r.prototype.removeAll=function(){var t=this;return Object.keys(this.keymaps).forEach(function(e){return t.remove(e)}),wu.handlers={},this},r.prototype.destroy=function(){this.removeAll(),this.keymaps={}},r}(qn);const MN=AN;var LN={stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}};const DN=LN;var jN=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),NN=function(o){jN(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return{title:"",content:"",attributes:{},open:!1}},r.prototype.open=function(){this.set("open",!0)},r.prototype.close=function(){this.set("open",!1)},r}(wa.A);const IN=NN;var RN=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Qd=function(){return Qd=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Qd.apply(this,arguments)},FN=function(o){RN(r,o);function r(t){var e=o.call(this,t)||this,n=e.model;return e.listenTo(n,"change:open",e.updateOpen),e.listenTo(n,"change:title",e.updateTitle),e.listenTo(n,"change:content",e.updateContent),e}return r.prototype.template=function(t){var e=t.pfx,n=t.ppfx,i=t.content,s=t.title;return'<div class="'.concat(e,"dialog ").concat(n,"one-bg ").concat(n,`two-color">
      <div class="`).concat(e,`header">
        <div class="`).concat(e,'title">').concat(s,`</div>
        <div class="`).concat(e,`btn-close" data-close-modal>&Cross;</div>
      </div>
      <div class="`).concat(e,`content">
        <div id="`).concat(e,'c">').concat(i,`</div>
        <div style="clear:both"></div>
      </div>
    </div>
    <div class="`).concat(e,'collector" style="display: none"></div>')},r.prototype.events=function(){return{click:"onClick","click [data-close-modal]":"hide"}},r.prototype.onClick=function(t){var e=this.config.backdrop;e&&t.target===this.el&&this.hide()},r.prototype.getCollector=function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},r.prototype.getContent=function(){var t=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(t,"content #").concat(t,"c"))),this.$content},r.prototype.getTitle=function(t){return t===void 0&&(t={}),this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),t.$?this.$title:this.$title.get(0)},r.prototype.updateContent=function(){var t=this.getContent(),e=t.children(),n=this.getCollector(),i=this.model.get("content");e.length&&n.append(e),t.empty().append(i)},r.prototype.updateTitle=function(){var t=this.getTitle({$:!0});t&&t.empty().append(this.model.get("title"))},r.prototype.updateOpen=function(){this.el.style.display=this.model.get("open")?"":"none"},r.prototype.hide=function(){this.model.close()},r.prototype.show=function(){this.model.open()},r.prototype.updateAttr=function(t){var e=this,n=e.pfx,i=e.$el,s=e.el,u=[].slice.call(s.attributes).map(function(c){return c.name});i.removeAttr(u.join(" ")),i.attr(Qd(Qd({},t||{}),{class:"".concat(n,"container ").concat(t&&t.class||"").trim()}))},r.prototype.render=function(){var t=this.$el,e=this.model.toJSON();return e.pfx=this.pfx,e.ppfx=this.ppfx,t.html(this.template(e)),this.updateAttr(),this.updateOpen(),this},r}(Ao);const VN=FN;var UN=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),HN=function(o){UN(r,o);function r(t){var e=o.call(this,t,"Modal",DN)||this;return e.model=new IN(e),e.model.on("change:open",function(n,i){t.trigger("modal:".concat(i?"open":"close"))}),e.model.on("change",(0,D.debounce)(function(){var n=e._evData(),i=e.config.custom;(0,D.isFunction)(i)&&i(n),t.trigger("modal",n)},0)),e}return r.prototype._evData=function(){var t=this,e=this.getTitle(),n=this.getContent(),i=this.model.attributes,s=i.open,u=i.attributes;return{open:s,attributes:u,title:(0,D.isString)(e)?(0,Jt.GZ)(e):e,content:(0,D.isString)(n)?(0,Jt.GZ)(n):n.get?n.get(0):n,close:function(){t.close()}}},r.prototype.postRender=function(t){var e=t.model.config.el||t.el,n=this.render();n&&(e==null||e.appendChild(n))},r.prototype.open=function(t){t===void 0&&(t={});var e=t.attributes||{};return t.title&&this.setTitle(t.title),t.content&&this.setContent(t.content),this.model.set("attributes",e),this.model.open(),this.modal&&this.modal.updateAttr(e),this},r.prototype.close=function(){return this.model.close(),this},r.prototype.onceClose=function(t){return this.em.once("modal:close",t),this},r.prototype.onceOpen=function(t){return this.em.once("modal:open",t),this},r.prototype.isOpen=function(){return!!this.model.get("open")},r.prototype.setTitle=function(t){return this.model.set("title",t),this},r.prototype.getTitle=function(){return this.model.get("title")},r.prototype.setContent=function(t){return this.model.set("content"," "),this.model.set("content",t),this},r.prototype.getContent=function(){return this.model.get("content")},r.prototype.getContentEl=function(){var t;return(t=this.modal)===null||t===void 0?void 0:t.getContent().get(0)},r.prototype.getModel=function(){return this.model},r.prototype.render=function(){var t;if(!this.config.custom){var e=VN.extend(this.config.extend),n=this.modal&&this.modal.el;return this.modal=new e({el:n,model:this.model,config:this.config}),(t=this.modal)===null||t===void 0?void 0:t.render().el}},r.prototype.destroy=function(){var t;(t=this.modal)===null||t===void 0||t.remove()},r}(qn);const BN=HN;var Vw="sw-visibility",Uw="export-template",Hw="open-sm",Bw="open-tm",zw="open-layers",Ww="open-blocks",fv="fullscreen",dv="preview",zN={stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:Vw,className:"fa fa-square-o",command:"core:component-outline",context:Vw,attributes:{title:"View components"}},{id:dv,className:"fa fa-eye",command:dv,context:dv,attributes:{title:"Preview"}},{id:fv,className:"fa fa-arrows-alt",command:fv,context:fv,attributes:{title:"Fullscreen"}},{id:Uw,className:"fa fa-code",command:Uw,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:Hw,className:"fa fa-paint-brush",command:Hw,active:!0,togglable:!1,attributes:{title:"Open Style Manager"}},{id:Bw,className:"fa fa-cog",command:Bw,togglable:!1,attributes:{title:"Settings"}},{id:zw,className:"fa fa-bars",command:zw,togglable:!1,attributes:{title:"Open Layer Manager"}},{id:Ww,className:"fa fa-th-large",command:Ww,togglable:!1,attributes:{title:"Open Blocks"}}]}]};const pv=zN;var WN=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),KN=function(o){WN(r,o);function r(t,e){var n=o.call(this,t,e)||this;return n.get("buttons").length&&n.set("buttons",new XS(n.module,n.get("buttons"))),n}return r.prototype.defaults=function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}},Object.defineProperty(r.prototype,"className",{get:function(){return this.get("className")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"command",{get:function(){return this.get("command")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"active",{get:function(){return this.get("active")},set:function(t){this.set("active",t)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"togglable",{get:function(){return this.get("togglable")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"runDefaultCommand",{get:function(){return this.get("runDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"stopDefaultCommand",{get:function(){return this.get("stopDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"disable",{get:function(){return this.get("disable")},enumerable:!1,configurable:!0}),r}(wa.A);const GS=KN;var $N=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),YS=function(o){$N(r,o);function r(t,e){return o.call(this,t,e,GS)||this}return r.prototype.deactivateAllExceptOne=function(t,e){this.forEach(function(n,i){n!==t&&(n.set("active",!1),e&&n.get("buttons").length&&n.get("buttons").deactivateAllExceptOne(t,e))})},r.prototype.deactivateAll=function(t,e){var n=t||"";this.forEach(function(i){i.get("context")==n&&i!==e&&i.set("active",!1,{fromCollection:!0})})},r.prototype.disableAllButtons=function(t){var e=t||"";this.forEach(function(n,i){n.get("context")==e&&n.set("disable",!0)})},r.prototype.disableAllButtonsExceptOne=function(t,e){this.forEach(function(n,i){n!==t&&(n.set("disable",!0),e&&n.get("buttons").length&&n.get("buttons").disableAllButtonsExceptOne(t,e))})},r}(jp);const XS=YS;YS.prototype.model=GS;var GN=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),YN=function(o){GN(r,o);function r(t,e){var n=o.call(this,t,e)||this,i=n.get("buttons")||[];return n.buttons=new XS(t,i),n}return r.prototype.defaults=function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}},Object.defineProperty(r.prototype,"buttons",{get:function(){return this.get("buttons")},set:function(t){this.set("buttons",t)},enumerable:!1,configurable:!0}),r}(wa.A);const qS=YN;var XN=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),JS=function(o){XN(r,o);function r(t,e){return o.call(this,t,e,qS)||this}return r}(jp);const qN=JS;JS.prototype.model=qS;var JN=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),tl=function(){return tl=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},tl.apply(this,arguments)},ZN=function(o){JN(r,o);function r(t){var e=o.call(this,t)||this,n=e,i=n.model,s=n.em,u=n.pfx,c=n.ppfx,f=i.className,h=i.attributes,g=h.command,m=h.listen;if(e.id=u+i.get("id"),e.activeCls="".concat(u,"active ").concat(c,"four-color"),e.disableCls="".concat(c,"disabled"),e.btnsVisCls="".concat(u,"visible"),e.className=u+"btn"+(f?" "+f:""),e.listenTo(i,"change",e.render),e.listenTo(i,"change:active updateActive",e.updateActive),e.listenTo(i,"checkActive",e.checkActive),e.listenTo(i,"change:bntsVis",e.updateBtnsVis),e.listenTo(i,"change:attributes",e.updateAttributes),e.listenTo(i,"change:className",e.updateClassName),e.listenTo(i,"change:disable",e.updateDisable),s&&(0,D.isString)(g)&&m){var y={fromListen:!0};e.listenTo(s,"run:".concat(g),function(){return i.set("active",!0,y)}),e.listenTo(s,"stop:".concat(g),function(){return i.set("active",!1,y)})}return s&&s.get&&(e.commands=s.get("Commands")),e}return r.prototype.tagName=function(){return this.model.get("tagName")},r.prototype.events=function(){return{click:"clicked"}},r.prototype.updateClassName=function(){var t=this,e=t.model,n=t.pfx,i=e.className,s=e.get("attributes").class,u="".concat(s||""," ").concat(n,"btn ").concat(i||"");this.$el.attr("class",u.trim())},r.prototype.updateAttributes=function(){var t=this,e=t.em,n=t.model,i=t.$el,s=n.get("attributes")||{},u=e&&e.t&&e.t("panels.buttons.titles.".concat(n.id));i.attr(s),u&&i.attr({title:u}),this.updateClassName()},r.prototype.updateBtnsVis=function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},r.prototype.updateActive=function(t,e,n){var i;n===void 0&&(n={});var s=this,u=s.model,c=s.commands,f=s.$el,h=s.activeCls,g=n.fromCollection,m=n.fromListen,y=u.get("context"),w=u.get("options"),b=u.command,O={};b&&(c&&(0,D.isString)(b)?O=c.get(b)||{}:(0,D.isFunction)(b)?O=c.create({run:b}):b!==null&&(0,D.isObject)(b)&&(O=c.create(b)),u.active?(!g&&((i=u.collection)===null||i===void 0||i.deactivateAll(y,u)),u.set("active",!0,{silent:!0}).trigger("checkActive"),!m&&c.runCommand(O,tl(tl({},w),{sender:u})),O.noStop&&u.set("active",!1)):(f.removeClass(h),!m&&c.stopCommand(O,tl(tl({},w),{sender:u,force:1}))))},r.prototype.updateDisable=function(){var t=this,e=t.disableCls,n=t.model,i=n.disable;this.$el[i?"addClass":"removeClass"](e)},r.prototype.checkActive=function(){var t=this,e=t.model,n=t.$el,i=t.activeCls;e.active?n.addClass(i):n.removeClass(i)},r.prototype.clicked=function(){var t=this.model;t.get("bntsVis")||t.disable||!t.command||this.toggleActive()},r.prototype.toggleActive=function(){var t=this,e=t.model,n=t.em,i=e.active,s=e.togglable;i&&!s||(e.active=!i,i?e.runDefaultCommand&&n.runDefault():e.stopDefaultCommand&&n.stopDefault())},r.prototype.render=function(){var t=this.model,e=t.get("label"),n=this.$el;return!t.get("el")&&n.empty(),this.updateAttributes(),e&&n.append(e),this.checkActive(),this.updateDisable(),this},r}(Ao);const QN=ZN;var tI=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),eI=function(o){tI(r,o);function r(t){var e=o.call(this,{collection:t})||this;return e.listenTo(e.collection,"add",e.addTo),e.listenTo(e.collection,"reset remove",e.render),e.className=e.pfx+"buttons",e}return r.prototype.addTo=function(t){this.addToCollection(t)},r.prototype.addToCollection=function(t,e){var n=e||null,i=t.get("el"),s=new QN({el:i,model:t}),u=s.render().el;return n?n.appendChild(u):this.$el.append(u),u},r.prototype.render=function(){var t=this,e=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(n){return t.addToCollection(n,e)}),this.$el.append(e),this.$el.attr("class",(0,D.result)(this,"className")),this},r}(Ao);const rI=eI;var nI=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ig=function(){return Ig=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Ig.apply(this,arguments)},oI=function(o){nI(r,o);function r(t){var e=o.call(this,{model:t,el:t.get("el")})||this;return e.className=e.pfx+"panel",e.id=e.pfx+t.get("id"),e.listenTo(t,"change:appendContent",e.appendContent),e.listenTo(t,"change:content",e.updateContent),e.listenTo(t,"change:visible",e.toggleVisible),t.view=e,e}return r.prototype.appendContent=function(){this.$el.append(this.model.get("appendContent"))},r.prototype.updateContent=function(){this.$el.html(this.model.get("content"))},r.prototype.toggleVisible=function(){if(!this.model.get("visible")){this.$el.addClass("".concat(this.ppfx,"hidden"));return}this.$el.removeClass("".concat(this.ppfx,"hidden"))},r.prototype.attributes=function(){return this.model.get("attributes")},r.prototype.initResize=function(){var t=this.em,e=t==null?void 0:t.Editor,n=this.model.get("resizable");if(e&&n){var i=n===!0?[!0,!0,!0,!0]:n,s=i.length,u=void 0,c=void 0,f=void 0,h=!1;if(s==2){var g=i;u=g[0],f=g[0],c=g[1],h=g[1]}else if(s==4){var g=i;u=g[0],c=g[1],f=g[2],h=g[3]}var m=new e.Utils.Resizer(Ig({tc:u,cr:c,bc:f,cl:h,tl:!1,tr:!1,bl:!1,br:!1,appendTo:this.el,silentFrames:!0,avoidContainerUpdate:!0,prefix:e.getConfig().stylePrefix,onEnd:function(){t.Canvas.refresh({all:!0})},posFetcher:function(y,w){var b=w.target,O=y.style,S=m.getConfig(),P=S.keyWidth,T=S.keyHeight,j=y.getBoundingClientRect(),X=b=="container",at=O[P],ft=O[T],Q=at&&!X?parseFloat(at):j.width,K=ft&&!X?parseFloat(ft):j.height;return{left:0,top:0,width:Q,height:K}}},n&&typeof n!="boolean"?n:{}));m.blur=function(){},m.focus(this.el)}},r.prototype.render=function(){var t=this.model.buttons,e=this.$el,n=this.ppfx,i="".concat(this.className," ").concat(this.id," ").concat(n,"one-bg ").concat(n,"two-color");if(e.addClass(i),this.toggleVisible(),t.length){var s=new rI(t);e.append(s.render().el)}return e.append(this.model.get("content")),this},r}(Ao);const iI=oI;var aI=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sI=function(o){aI(r,o);function r(t){var e=o.call(this,{collection:t})||this;return e.listenTo(t,"add",e.addTo),e.listenTo(t,"reset",e.render),e.listenTo(t,"remove",e.onRemove),e.className=e.pfx+"panels",e}return r.prototype.onRemove=function(t){var e=t.view;e&&e.remove()},r.prototype.addTo=function(t){this.addToCollection(t)},r.prototype.addToCollection=function(t,e){var n=e||null,i=t.get("el"),s=new iI(t),u=s.render().el,c=t.get("appendTo");if(!i)if(c){var f=document.querySelector(c);f==null||f.appendChild(u)}else n?n.appendChild(u):this.$el.append(u);return s.initResize(),u},r.prototype.render=function(){var t=this,e=this.$el,n=document.createDocumentFragment();return e.empty(),this.collection.each(function(i){return t.addToCollection(i,n)}),e.append(n),e.attr("class",this.className),this},r}(Ao);const lI=sI;var uI=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cI=function(o){uI(r,o);function r(t){var e=o.call(this,t,"Panels",pv)||this;e.panels=new qN(e,e.config.defaults);for(var n in pv)n in e.config||(e.config[n]=pv[n]);return e}return r.prototype.getPanels=function(){return this.panels},r.prototype.getPanelsEl=function(){var t;return(t=this.PanelsViewObj)===null||t===void 0?void 0:t.el},r.prototype.addPanel=function(t){return this.panels.add(t)},r.prototype.removePanel=function(t){return this.panels.remove(t)},r.prototype.getPanel=function(t){var e=this.panels.where({id:t});return e.length?e[0]:null},r.prototype.addButton=function(t,e){var n=this.getPanel(t);return n?n.buttons.add(e):null},r.prototype.removeButton=function(t,e){var n=this.getPanel(t);return n&&n.buttons.remove(e)},r.prototype.getButton=function(t,e){var n=this.getPanel(t);if(n){var i=n.buttons.where({id:e});return i.length?i[0]:null}return null},r.prototype.render=function(){var t;return(t=this.PanelsViewObj)===null||t===void 0||t.remove(),this.PanelsViewObj=new lI(this.panels),this.PanelsViewObj.render().el},r.prototype.active=function(){this.getPanels().each(function(t){t.buttons.each(function(e){e.get("active")&&e.trigger("updateActive")})})},r.prototype.disableButtons=function(){this.getPanels().each(function(t){t.buttons.each(function(e){e.get("disable")&&e.trigger("change:disable")})})},r.prototype.destroy=function(){this.panels.reset(),this.panels.stopListening(),this.PanelsViewObj&&this.PanelsViewObj.remove()},r}(qn);const fI=cI;var dI={stylePrefix:"cm-",optsCodeViewer:{}};const pI=dI;var hI=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),vI=function(o,r){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&r.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(o);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(o,e[n])&&(t[e[n]]=o[e[n]]);return t},gI=function(o){hI(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.build=function(t,e){e===void 0&&(e={});var n=e.em,i=vI(e,["em"]),s=i;if(e.cleanId&&n){var u=n.Css.getAll(),c=u.toJSON().map(function(f){var h=f.selectors,g=h&&h.length===1&&h.models[0];return g&&g.isId()&&g.get("name")}).filter(Boolean);s.attributes||(s.attributes=function(f,h){var g=h.id;return g&&g[0]==="i"&&!f.get("script")&&!f.get("attributes").id&&c.indexOf(g)<0&&delete h.id,h})}return t.toHTML(s)},r}($t.Kx);const mI=gI;var yI=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_I=function(o){yI(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.build=function(t){var e=this,n=t.toJSON();return this.beforeEach(n),(0,D.each)(n,function(i,s){var u=n[s];if(u instanceof $t.Kx)n[s]=e.build(u);else if(u instanceof $t.pM){var c=u;n[s]=[],c.length&&c.forEach(function(f,h){n[s][h]=e.build(f)})}}),n},r.prototype.beforeEach=function(t){delete t.status},r}($t.Kx);const wI=_I;var CI=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}();function bI(o){var r,t=((r=o.toString().match(/\{([\s\S]*)\}/m))===null||r===void 0?void 0:r[1])||"";return t.replace(/^\s*\/\/.*$/gm,"").trim().length===0}var xI=function(o){CI(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.mapModel=function(t){var e,n=this,i="",s=t.get("script-export")||t.get("script"),u=t.get("type"),c=t.get("components"),f=t.getId();if(s){var h=t.get("attributes");h=(0,D.extend)({},h,{id:f}),t.set("attributes",h,{silent:!0});var g=t.getScriptString(s),m=t.get("script-props");if(t.get("scriptUpdated")&&!m)this.mapJs[u+"-"+f]={ids:[f],code:g};else{var y=void 0,w=this.mapJs[u];if(m&&(y=t.__getScriptProps()),w)w.ids.push(f),y&&(w.props[f]=y);else{var b={ids:[f],code:g};y&&(b.props=(e={},e[f]=y,e)),this.mapJs[u]=b}}}return c.forEach(function(O){i+=n.mapModel(O)}),i},r.prototype.build=function(t){this.mapJs={},this.mapModel(t);var e="";for(var n in this.mapJs){var i=this.mapJs[n];if(i.code)if(i.props){if(bI(i.code))continue;e+=`
          var props = `.concat(JSON.stringify(i.props),`;
          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');
          var els = document.querySelectorAll(ids);
          for (var i = 0, len = els.length; i < len; i++) {
            var el = els[i];
            (`).concat(i.code,`.bind(el))(props[el.id]);
          }`)}else{var s="#"+i.ids.join(", #");e+=`
          var items = document.querySelectorAll('`.concat(s,`');
          for (var i = 0, len = items.length; i < len; i++) {
            (function(){
`).concat(i.code,`
}.bind(items[i]))();
          }`)}}return e},r}($t.Kx);const SI=xI;var OI=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Rg=function(){return Rg=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Rg.apply(this,arguments)},Bu;(0,Mt.hasWin)()&&(Bu=Ue(237),Ue(520),Ue(656),Ue(862));var ZS=function(o){OI(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0,autoFormat:!0}},r.prototype.init=function(t){return(0,D.bindAll)(this,"onChange"),this.editor=Bu.fromTextArea(t,Rg({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=t,this.editor.on("change",this.onChange),this},r.prototype.onChange=function(){this.trigger("update",this)},r.prototype.getEditor=function(){return this.editor},r.prototype.getElement=function(){return this.element},r.prototype.setElement=function(t){return this.element=t,this},r.prototype.refresh=function(){return this.getEditor().refresh(),this},r.prototype.focus=function(){return this.getEditor().focus(),this},r.prototype.getContent=function(){var t=this.getEditor();return t&&t.getValue()},r.prototype.setContent=function(t,e){var n=this;e===void 0&&(e={});var i=this.editor;if(i){i.setValue(t);var s=this.get("autoFormat"),u=i.autoFormatRange&&(s===!0||Array.isArray(s)&&s.includes(this.get("codeName")));u&&(Bu.commands.selectAll(i),i.autoFormatRange(i.getCursor(!0),i.getCursor(!1)),Bu.commands.goDocStart(i)),!e.noRefresh&&setTimeout(function(){return n.refresh()})}},r}($t.Kx);const TI=ZS;ZS.prototype.CodeMirror=Bu;var EI=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),PI=function(o,r){return Object.defineProperty?Object.defineProperty(o,"raw",{value:r}):o.raw=r,o},kI=function(o){EI(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.template=function(t){var e=t.pfx,n=t.codeName,i=t.label;return Wn(Kw||(Kw=PI([`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `],[`
      <div class="`,'editor" id="',"",`">
        <div id="`,'title">',`</div>
        <div id="`,`code"></div>
      </div>
    `])),e,e,n,e,i,e)},r.prototype.initialize=function(t){this.config=t.config||{},this.pfx=this.config.stylePrefix},r.prototype.render=function(){var t,e,n=this,i=n.model,s=n.pfx,u=n.$el,c=i.toJSON(),f=i.get("input")||((e=(t=i).getElement)===null||e===void 0?void 0:e.call(t));return c.pfx=s,u.html(this.template(c)),u.attr("class","".concat(s,"editor-c")),u.find("#".concat(s,"code")).append(f),this},r}($t.Ss);const AI=kI;var Kw,MI=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),tp=function(){return tp=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},tp.apply(this,arguments)},LI="CodeMirror",DI=function(o){MI(r,o);function r(t){var e=o.call(this,t,"CodeManager",pI)||this;e.EditorView=AI;var n=e.config,i=n.pStylePrefix;return i&&(n.stylePrefix=i+n.stylePrefix),e.generators={},e.viewers={},e.defGenerators={html:new mI,css:new s2,json:new wI,js:new SI},e.defViewers={CodeMirror:new TI},e.loadDefaultGenerators().loadDefaultViewers(),e}return r.prototype.addGenerator=function(t,e){return this.generators[t]=e,this},r.prototype.getGenerator=function(t){return this.generators[t]},r.prototype.getGenerators=function(){return this.generators},r.prototype.addViewer=function(t,e){return this.viewers[t]=e,this},r.prototype.getViewer=function(t){return this.viewers[t]},r.prototype.getViewers=function(){return this.viewers},r.prototype.createViewer=function(t){t===void 0&&(t={});var e=(0,D.isUndefined)(t.type)?LI:t.type,n=this.getViewer(e)&&this.getViewer(e).clone(),i=document.createElement("div"),s=document.createElement("textarea");return i.appendChild(s),n.set(tp(tp({},this.config.optsCodeViewer),t)),n.init(s),n.setElement(i),n},r.prototype.updateViewer=function(t,e){t.setContent(e)},r.prototype.getCode=function(t,e,n){n===void 0&&(n={}),n.em=this.em;var i=this.getGenerator(e);return i?i.build(t,n):""},r.prototype.loadDefaultGenerators=function(){for(var t in this.defGenerators)this.addGenerator(t,this.defGenerators[t]);return this},r.prototype.loadDefaultViewers=function(){for(var t in this.defViewers)this.addViewer(t,this.defViewers[t]);return this},r.prototype.destroy=function(){},r}(qn);const jI=DI;var NI=Ue(982),II=Ue.n(NI),RI={maximumStackLength:500,trackSelection:!0};const FI=RI;var VI=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),mi=function(){return mi=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},mi.apply(this,arguments)},UI=function(o,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,i;e<n;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return o.concat(i||Array.prototype.slice.call(r))},Ef=function(o){return o.avoidStore||o.noUndo},$w=function(o){return Object.keys(o.changedAttributes())},HI=function(o){VI(r,o);function r(t){var e=o.call(this,t,"UndoManager",FI)||this;e.config._disable&&(e.config.maximumStackLength=0);var n=!0;return e.um=new(II())(mi({track:!0,register:[]},e.config)),e.um.changeUndoType("change",{condition:function(i){var s=i.get("_undo");if(s){var u=i.get("_undoexc");if((0,D.isArray)(u)&&$w(i).some(function(c){return u.indexOf(c)>=0}))return!1;if((0,D.isBoolean)(s)||(0,D.isArray)(s)&&$w(i).some(function(c){return s.indexOf(c)>=0}))return!0}return!1},on:function(i,s,u){var c=this;!this.beforeCache&&(this.beforeCache=i.previousAttributes());var f=u||s||{};if(f.noUndo&&setTimeout(function(){c.beforeCache=null}),!Ef(f)){var h=i.toJSON({fromUndo:n}),g={object:i,before:this.beforeCache,after:h};return this.beforeCache=null,(0,D.isEmpty)(h)?void 0:g}}}),e.um.changeUndoType("add",{on:function(i,s,u){if(u===void 0&&(u={}),!(Ef(u)||!e.isRegistered(s)))return{object:s,before:void 0,after:i,options:mi(mi({},u),{fromUndo:n})}}}),e.um.changeUndoType("remove",{on:function(i,s,u){if(u===void 0&&(u={}),!(Ef(u)||!e.isRegistered(s)))return{object:s,before:i,after:void 0,options:mi(mi({},u),{fromUndo:n})}}}),e.um.changeUndoType("reset",{undo:function(i,s){i.reset(s,{fromUndo:n})},redo:function(i,s,u){i.reset(u,{fromUndo:n})},on:function(i,s){if(s===void 0&&(s={}),!(Ef(s)||!e.isRegistered(i)))return{object:i,before:s.previousModels,after:UI([],i.models,!0),options:mi(mi({},s),{fromUndo:n})}}}),e.um.on("undo redo",function(){t.getSelectedAll().map(function(i){return i.trigger("rerender:layer")})}),["undo","redo"].forEach(function(i){return e.um.on(i,function(){return t.trigger(i)})}),e}return r.prototype.postLoad=function(){var t=this,e=t.config,n=t.em;e.trackSelection&&n&&this.add(n.get("selected"))},r.prototype.add=function(t){return this.um.register(t),this},r.prototype.remove=function(t){return this.um.unregister(t),this},r.prototype.removeAll=function(){return this.um.unregisterAll(),this},r.prototype.start=function(){return this.um.startTracking(),this},r.prototype.stop=function(){return this.um.stopTracking(),this},r.prototype.undo=function(t){t===void 0&&(t=!0);var e=this,n=e.em,i=e.um;return!n.isEditing()&&i.undo(t),this},r.prototype.undoAll=function(){return this.um.undoAll(),this},r.prototype.redo=function(t){t===void 0&&(t=!0);var e=this,n=e.em,i=e.um;return!n.isEditing()&&i.redo(t),this},r.prototype.redoAll=function(){return this.um.redoAll(),this},r.prototype.hasUndo=function(){return!!this.um.isAvailable("undo")},r.prototype.hasRedo=function(){return!!this.um.isAvailable("redo")},r.prototype.isRegistered=function(t){return!!this.getInstance().objectRegistry.isRegistered(t)},r.prototype.getStack=function(){return this.um.stack},r.prototype.getStackGroup=function(){var t=[],e=[];return this.getStack().forEach(function(n){var i=n.get("magicFusionIndex");e.indexOf(i)<0&&(e.push(i),t.push(n))}),t},r.prototype.skip=function(t){var e=!!this.um.isTracking();e&&this.stop(),t(),e&&this.start()},r.prototype.getGroupedStack=function(){var t={},e=this.getStack(),n=function(i,s){var u=i.attributes,c=u.type,f=u.after,h=u.before,g=u.object,m=u.options,y=m===void 0?{}:m;return{index:s,type:c,after:f,before:h,object:g,options:y}};return e.forEach(function(i,s){var u=i.get("magicFusionIndex"),c=n(i,s);t[u]?t[u].push(c):t[u]=[c]}),Object.keys(t).map(function(i){var s=t[i];return{index:s[s.length-1].index,actions:s,labels:(0,D.unique)(s.reduce(function(u,c){var f,h=(f=c.options)===null||f===void 0?void 0:f.action;return h&&u.push(h),u},[]))}})},r.prototype.goToGroup=function(t){var e=this;if(t){var n=this.getPointer(),i=t.index-n;(0,D.times)(Math.abs(i),function(){e[i<0?"undo":"redo"](!1)})}},r.prototype.getPointer=function(){return this.getStack().pointer},r.prototype.clear=function(){return this.um.clear(),this},r.prototype.getInstance=function(){return this.um},r.prototype.destroy=function(){this.clear().removeAll()},r}(qn);const BI=HI;var zI={stylePrefix:"rte-",adjustToolbar:!0,actions:["bold","italic","underline","strikethrough","link","wrap"],custom:!1};const WI=zI;var el=function(){return el=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},el.apply(this,arguments)},ep;(function(o){o[o.ACTIVE=1]="ACTIVE",o[o.INACTIVE=0]="INACTIVE",o[o.DISABLED=-1]="DISABLED"})(ep||(ep={}));var hv="_rte",qa={ACTIVE:1,INACTIVE:0,DISABLED:-1},Pf=function(o,r){r===void 0&&(r="A");var t=o.selection()||{},e=t.anchorNode,n=t.focusNode,i=e==null?void 0:e.parentNode,s=n==null?void 0:n.parentNode;return(i==null?void 0:i.nodeName)==r||(s==null?void 0:s.nodeName)==r},rp="data-selectme",hu={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(o){return o.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(o){return o.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(o){return o.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(o){return o.exec("strikeThrough")}},link:{icon:`<svg viewBox="0 0 24 24">
          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />
        </svg>`,name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(o){return o&&o.selection()&&Pf(o)?qa.ACTIVE:qa.INACTIVE},result:function(o){Pf(o)?o.exec("unlink"):o.insertHTML('<a href="" '.concat(rp,">").concat(o.selection(),"</a>"),{select:!0})}},wrap:{name:"wrap",icon:`<svg viewBox="0 0 24 24">
            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />
        </svg>`,attributes:{title:"Wrap for style"},state:function(o){return o!=null&&o.selection()&&Pf(o,"SPAN")?qa.DISABLED:qa.INACTIVE},result:function(o){!Pf(o,"SPAN")&&o.insertHTML("<span ".concat(rp,">").concat(o.selection(),"</span>"),{select:!0})}}},KI=function(){function o(r,t,e){e===void 0&&(e={});var n=this;if(this.em=r,this.settings=e,t[hv])return t[hv];t[hv]=this,this.setEl(t),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var i=(e.actions||[]).map(function(h){var g=h;return(0,D.isString)(h)?g=el({},hu[h]):hu[h.name]&&(g=el(el({},hu[h.name]),h)),g}),s=i.length?i:Object.keys(hu).map(function(h){return hu[h]});e.classes=el({actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"},e.classes);var u=e.classes,c=e.actionbar;if(this.actionbar=c,this.classes=u,this.actions=s,!c){if(!this.isCustom(e.module)){var f=e.actionbarContainer;c=document.createElement("div"),c.className=u.actionbar,f==null||f.appendChild(c),this.actionbar=c}s.forEach(function(h){return n.addAction(h)})}return e.styleWithCSS&&this.exec("styleWithCSS"),this}return o.prototype.isCustom=function(r){var t=r||this.em.RichTextEditor;return!!(t!=null&&t.config.custom||t!=null&&t.customRte)},o.prototype.destroy=function(){},o.prototype.setEl=function(r){this.el=r,this.doc=r.ownerDocument},o.prototype.updateActiveActions=function(){var r=this,t=this.getActions();t.forEach(function(e){var n=e.update,i=e.btn,s=r.classes,u=s.active,c=s.inactive,f=s.disabled,h=e.state,g=e.name,m=r.doc,y=ep.INACTIVE;if(i&&(i.className=i.className.replace(u,"").trim(),i.className=i.className.replace(c,"").trim(),i.className=i.className.replace(f,"").trim()),h){var w=h(r,m);if(y=w,i)switch(w){case qa.ACTIVE:i.className+=" ".concat(u);break;case qa.INACTIVE:i.className+=" ".concat(c);break;case qa.DISABLED:i.className+=" ".concat(f);break}}else m.queryCommandSupported(g)&&m.queryCommandState(g)&&(i&&(i.className+=" ".concat(u)),y=ep.ACTIVE);e.currentState=y,n==null||n(r,e)}),t.length&&this.em.RichTextEditor.__dbdTrgCustom()},o.prototype.enable=function(r){return this.enabled?this:this.__toggleEffects(!0,r)},o.prototype.disable=function(){return this.__toggleEffects(!1)},o.prototype.__toggleEffects=function(r,t){r===void 0&&(r=!1),t===void 0&&(t={});var e=r?Jt.on:Jt.AU,n=this,i=n.el,s=n.doc,u=this.actionbarEl();if(u&&(u.style.display=r?"":"none"),i.contentEditable="".concat(!!r),e(i,"mouseup keyup",this.updateActiveActions),e(s,"keydown",this.__onKeydown),e(s,"paste",this.__onPaste),this.enabled=r,r){var c=t.event;if(this.syncActions(),this.updateActiveActions(),c){var f=null;if(s.caretRangeFromPoint){var h=(0,Jt.G2)(c);f=s.caretRangeFromPoint(h.clientX,h.clientY)}else c.rangeParent&&(f=s.createRange(),f.setStart(c.rangeParent,c.rangeOffset));var g=s.getSelection();g==null||g.removeAllRanges(),f&&(g==null||g.addRange(f))}i.focus()}return this},o.prototype.__onKeydown=function(r){var t=this.em,e=t.RichTextEditor.getConfig().onKeydown;if(e)return e({ev:r,rte:this,editor:t.getEditor()});var n=this.doc,i=["insertOrderedList","insertUnorderedList"];r.key==="Enter"&&!i.some(function(s){return n.queryCommandState(s)})&&(n.execCommand("insertLineBreak"),r.preventDefault())},o.prototype.__onPaste=function(r){var t=this.em,e=t.RichTextEditor.getConfig().onPaste;if(e)return e({ev:r,rte:this,editor:t.getEditor()});var n=r.clipboardData,i=n.getData("text"),s=n.getData("text/html");if(i&&!s){r.preventDefault();var u=i.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,u)}},o.prototype.syncActions=function(){var r=this;this.getActions().forEach(function(t){if(r.actionbar&&(!t.state||t.state&&t.state(r,r.doc)>=0)){var e=t.event||"click",n=t.btn;n&&(n["on".concat(e)]=function(){t.result(r,t),r.updateActiveActions()})}})},o.prototype.addAction=function(r,t){t===void 0&&(t={});var e=t.sync,n=this.actionbarEl();if(n){var i=r.icon,s=r.attributes,u=s===void 0?{}:s,c=document.createElement("span");c.className=this.classes.button,r.btn=c;for(var f in u)c.setAttribute(f,u[f]);typeof i=="string"?c.innerHTML=i:c.appendChild(i),n.appendChild(c)}e&&(this.actions.push(r),this.syncActions())},o.prototype.getActions=function(){return this.actions},o.prototype.selection=function(){return this.doc.getSelection()},o.prototype.exec=function(r,t){this.doc.execCommand(r,!1,t)},o.prototype.actionbarEl=function(){return this.actionbar},o.prototype.insertHTML=function(r,t){var e=t===void 0?{}:t,n=e.select,i=this,s=i.em,u=i.doc,c=i.el,f=u.getSelection();if(f&&f.rangeCount){var h=(0,Mt.getComponentModel)(c)||s.getSelected(),g=u.createElement("div"),m=f.getRangeAt(0);m.deleteContents(),(0,D.isString)(r)?g.innerHTML=r:r&&g.appendChild(r),Array.prototype.slice.call(g.childNodes).forEach(function(y){m.insertNode(y)}),f.removeAllRanges(),f.addRange(m),c.focus(),n&&h&&(h.once("rte:disable",function(){var y=h.find("[".concat(rp,"]"))[0];y&&(s.setSelected(y),y.removeAttributes(rp))}),h.trigger("disable"))}},o}();const $I=KI;var GI=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Gw=function(o,r,t,e){function n(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function u(h){try{f(e.next(h))}catch(g){s(g)}}function c(h){try{f(e.throw(h))}catch(g){s(g)}}function f(h){h.done?i(h.value):n(h.value).then(u,c)}f((e=e.apply(o,r||[])).next())})},Yw=function(o,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,n,i,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(f){return function(h){return c([f,h])}}function c(f){if(e)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(e=1,n&&(i=f[0]&2?n.return:f[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,f[1])).done)return i;switch(n=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,n=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=r.call(o,t)}catch(h){f=[6,h],n=0}finally{e=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},YI=function(o,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,i;e<n;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return o.concat(i||Array.prototype.slice.call(r))},vv="".concat(Bf.refresh," frame:scroll ").concat(dn.I.update),XI="rte:enable",qI="rte:disable",JI="rte:custom",ZI={enable:XI,disable:qI,custom:JI},QI=function(o){GI(r,o);function r(t){var e=o.call(this,t,"RichTextEditor",WI)||this;e.events=ZI;var n=e.config,i=n.pStylePrefix;i&&(n.stylePrefix=i+n.stylePrefix),e.pfx=n.stylePrefix,e.actions=n.actions||[];var s=new $t.Kx;return e.model=s,s.on("change:currentView",e.__trgCustom,e),e.__dbdTrgCustom=(0,D.debounce)(function(){return e.__trgCustom()},0),e}return r.prototype.onLoad=function(){if((0,Mt.hasWin)()){var t=this.config,e=t.pStylePrefix,n=t.custom,i=(0,Jt.a_)("div",{class:(0,Jt.cx)("".concat(e,"rte-toolbar"),!n&&"".concat(e,"one-bg ").concat(e,"rte-toolbar-ui"))});this.toolbar=i,this.initRte((0,Jt.a_)("div")),(0,Jt.on)(i,"mousedown",function(s){return s.stopPropagation()})}},r.prototype.__trgCustom=function(){var t=this,e=t.model,n=t.em,i=t.events;n.trigger(i.custom,{enabled:!!e.get("currentView"),container:this.getToolbarEl(),actions:this.getAll()})},r.prototype.destroy=function(){var t,e,n;(t=this.globalRte)===null||t===void 0||t.destroy(),(n=(e=this.customRte)===null||e===void 0?void 0:e.destroy)===null||n===void 0||n.call(e),this.model.stopListening().clear({silent:!0}),this.__dbdTrgCustom.cancel(),(0,Jt.YZ)(this.toolbar)},r.prototype.postRender=function(t){var e=t.model.get("Canvas");this.toolbar.style.pointerEvents="all",this.hideToolbar(),e.getToolsEl().appendChild(this.toolbar)},r.prototype.initRte=function(t){var e=this.globalRte,n=this,i=n.em,s=n.pfx,u=n.actionbar,c=n.config,f=this.actions||YI([],c.actions,!0),h={actionbar:"".concat(s,"actionbar"),button:"".concat(s,"action"),active:"".concat(s,"active"),inactive:"".concat(s,"inactive"),disabled:"".concat(s,"disabled")};return e?(e.em=i,e.setEl(t)):(e=new $I(i,t,{classes:h,actions:f,actionbar:u,actionbarContainer:this.toolbar,module:this}),this.globalRte=e),e.actionbar&&(this.actionbar=e.actionbar),e.actions&&(this.actions=e.actions),e},r.prototype.add=function(t,e){var n;e===void 0&&(e={}),e.name=t,(n=this.globalRte)===null||n===void 0||n.addAction(e,{sync:!0})},r.prototype.get=function(t){var e,n;return(e=this.globalRte)===null||e===void 0||e.getActions().forEach(function(i){i.name==t&&(n=i)}),n},r.prototype.getAll=function(){var t;return((t=this.globalRte)===null||t===void 0?void 0:t.getActions())||[]},r.prototype.remove=function(t){var e,n=this.getAll(),i=this.get(t);if(i){var s=i.btn,u=n.indexOf(i);(e=s==null?void 0:s.parentNode)===null||e===void 0||e.removeChild(s),n.splice(u,1)}return i},r.prototype.run=function(t){var e=this.globalRte,n=(0,D.isString)(t)?this.get(t):t;e&&n&&(n.result(e,n),e.updateActiveActions())},r.prototype.getToolbarEl=function(){return this.toolbar},r.prototype.updatePosition=function(){var t=this,e=t.em,n=t.toolbar,i="px",s=e.Canvas,u=n.style,c=s.getTargetToElementFixed(this.lastEl,n,{event:"rteToolbarPosUpdate",left:0});["top","left","bottom","right"].forEach(function(f){var h=c[f];(0,Mt.isDef)(h)&&(u[f]=(0,D.isString)(h)?h:(h||0)+i)})},r.prototype.enable=function(t,e){return Gw(this,arguments,void 0,function(n,i,s){var u,c,f,h,g;return s===void 0&&(s={}),Yw(this,function(m){switch(m.label){case 0:return this.lastEl=n.el,u=this,c=u.customRte,f=u.em,h=n.getChildrenContainer(),this.toolbar.style.display="",[4,c?c.enable(h,i):this.initRte(h).enable(s)];case 1:return g=m.sent(),f&&(setTimeout(this.updatePosition.bind(this),0),f.off(vv,this.updatePosition,this),f.on(vv,this.updatePosition,this),f.trigger("rte:enable",n,g)),this.model.set({currentView:n}),[2,g]}})})},r.prototype.getContent=function(t,e){return Gw(this,void 0,void 0,function(){var n;return Yw(this,function(i){switch(i.label){case 0:return n=this.customRte,n&&e&&(0,D.isFunction)(n.getContent)?[4,n.getContent(t.el,e)]:[3,2];case 1:return[2,i.sent()];case 2:return[2,t.getChildrenContainer().innerHTML]}})})},r.prototype.hideToolbar=function(){var t=this.toolbar.style,e="-1000px";t.top=e,t.left=e,t.display="none"},r.prototype.disable=function(t,e,n){n===void 0&&(n={});var i=this.em,s=this.customRte,u=t.getChildrenContainer();s?s.disable(u,e):e&&e.disable(),this.hideToolbar(),i&&(i.off(vv,this.updatePosition,this),!n.fromMove&&i.trigger("rte:disable",t,e)),this.model.unset("currentView")},r}(qn);const tR=QI,eR={sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]};var rR=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Sn=function(){return Sn=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Sn.apply(this,arguments)},nR=function(o,r){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&r.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(o);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(o,e[n])&&(t[e[n]]=o[e[n]]);return t},Xw=function(o,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,i;e<n;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return o.concat(i||Array.prototype.slice.call(r))},Gm=function(o){rR(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.getDefaults=function(){return(0,D.result)(this.prototype,"defaults")},r.prototype.defaults=function(){return{name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:!1,important:!1,toRequire:!1,requires:void 0,requiresParent:null,parentTarget:null}},r.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),this.em=e.em;var n=this.getId()||"",i=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(i||n).replace(/ /g,"-"));var s=this.get("property");!this.get("id")&&this.set("id",s),!i&&this.set("name",(0,Mt.capitalize)(s).replace(/-/g," ")),this.on("change",this.__upTargets),r.callInit(this,t,e)},r.prototype.__getParentProp=function(){var t,e;return(e=(t=this.collection)===null||t===void 0?void 0:t.opts)===null||e===void 0?void 0:e.parentProp},r.prototype.__upTargets=function(t,e){var n,i=this;e===void 0&&(e={});var s=this.em,u=s.Styles,c=this.getName(),f=e.__clear,h=f?"":this.__getFullValue(e),g=this.__getParentProp(),m=this.changedAttributes(),y=(0,D.keys)(m).reduce(function(T,j){return T[j]=i.previous(j),T},{}),w=Xw(Xw([],(0,D.keys)(this.__getClearProps()),!0),["__p"],!1),b=(0,D.keys)(m),O=!e.__up&&!g&&(f||w.some(function(T){return b.indexOf(T)>=0})),S=this.get("onChange"),P={property:this,from:y,to:m,value:h,opts:e};u.__trgEv(u.events.propertyUpdate,P),S&&S(P),O&&this.__upTargetsStyle((n={},n[c]=h,n),e)},r.prototype.__upTargetsStyle=function(t,e){var n,i=(n=this.em)===null||n===void 0?void 0:n.get("StyleManager");i==null||i.addStyleTargets(Sn(Sn({},t),{__p:!!e.avoidStore}),e)},r.prototype._up=function(t,e){e===void 0&&(e={}),e.noTarget&&(e.__up=!0);var n=e.partial,i=nR(e,["partial"]);return t.__p=!!(i.avoidStore||n),this.set(t,Sn(Sn({},i),{avoidStore:t.__p}))},r.prototype.up=function(t,e){e===void 0&&(e={}),this.set(t,Sn(Sn({},e),{__up:!0}))},r.prototype.init=function(){},r.prototype.getId=function(){return this.get("id")},r.prototype.getType=function(){return this.get("type")},r.prototype.getName=function(){return this.get("property")},r.prototype.getLabel=function(t){var e;t===void 0&&(t={});var n=t.locale,i=n===void 0?!0:n,s=this.getId(),u=this.get("name")||this.get("label");return i&&((e=this.em)===null||e===void 0?void 0:e.t("styleManager.properties.".concat(s)))||u},r.prototype.getValue=function(t){t===void 0&&(t={});var e=t.noDefault,n=this.get("value");return!this.hasValue()&&!e?this.getDefaultValue():n},r.prototype.hasValue=function(t){t===void 0&&(t={});var e=t.noParent,n=e&&this.getParentTarget(),i=this.get("value");return!(0,D.isUndefined)(i)&&i!==""&&!n},r.prototype.hasValueParent=function(){return this.hasValue()&&!this.hasValue({noParent:!0})},r.prototype.getStyle=function(t){var e;t===void 0&&(t={});var n=this.getName(),i=t.camelCase?(0,Mt.camelCase)(n):n;return e={},e[i]=this.__getFullValue(t),e},r.prototype.getDefaultValue=function(){var t=this.get("default");return"".concat((0,D.isUndefined)(t)?this.get("defaults"):t)},r.prototype.upValue=function(t,e){e===void 0&&(e={});var n=t===null||t===""?this.__getClearProps():this.__parseValue(t,e);return this._up(n,e)},r.prototype.isVisible=function(){return!!this.get("visible")},r.prototype.clear=function(t){return t===void 0&&(t={}),this._up(this.__getClearProps(),Sn(Sn({},t),{__clear:!0})),this},r.prototype.canClear=function(){var t=this.getParent();return t?t.__canClearProp(this):this.hasValue({noParent:!0})},r.prototype.getParent=function(){return this.__getParentProp()},r.prototype.isFull=function(){return!!this.get("full")},r.prototype.__parseValue=function(t,e){return this.parseValue(t,e)},r.prototype.__getClearProps=function(){return{value:""}},r.prototype.setValue=function(t,e,n){e===void 0&&(e=!0),n===void 0&&(n={});var i=this.parseValue(t),s=!e;!s&&this.set({value:void 0},{avoidStore:s,silent:!0}),this.set(i,Sn({avoidStore:s},n))},r.prototype.setValueFromInput=function(t,e,n){n===void 0&&(n={}),this.setValue(t,e,Sn(Sn({},n),{fromInput:1}))},r.prototype.parseValue=function(t,e){e===void 0&&(e={});var n={value:t},i="!important",s=this.get("functionName")||"";if((0,D.isString)(t)&&t.indexOf(i)!==-1&&(n.value=t.replace(i,"").trim(),n.important=!0),!s&&!e.complete)return n;var u=[],c="".concat(n.value).trim(),f=c.indexOf("(")+1,h=s||c.substring(0,f-1);if(h&&(n.functionName=h),!s||c.indexOf("".concat(s,"("))===0){var g=c.lastIndexOf(")");u.push(f),g>=0&&u.push(g),n.value=String.prototype.substring.apply(c,u)}if(e.numeric){var m=parseFloat(n.value);n.unit=n.value.replace(m,""),n.value=m}return n},r.prototype.__getFullValue=function(t){var e=t===void 0?{}:t,n=e.withDefault;return!this.hasValue()&&n?this.getDefaultValue():this.getFullValue()},r.prototype.getFullValue=function(t,e){e===void 0&&(e={});var n=this.get("functionName"),i=this.getDefaultValue(),s=(0,D.isUndefined)(t)?this.get("value"):t,u=!(0,D.isUndefined)(s)&&s!=="";if(s&&i&&s===i)return i;if(n&&u){var c=n==="url"?"'".concat(s.replace(/'|"/g,""),"'"):s;s="".concat(n,"(").concat(c,")")}return u&&this.get("important")&&!e.skipImportant&&(s="".concat(s," !important")),s||""},r.prototype.__setParentTarget=function(t){this.up({parentTarget:t})},r.prototype.getParentTarget=function(){return this.get("parentTarget")||null},r.prototype.__parseFn=function(t){t===void 0&&(t="");var e=t.indexOf("(")+1,n=t.lastIndexOf(")");return{name:t.substring(0,e-1).trim(),value:String.prototype.substring.apply(t,[e,n>=0?n:void 0]).trim()}},r.prototype.__checkVisibility=function(t){var e=t.target,n=t.component,i=t.sectors,s=n||e;if(!s)return!1;var u=this.getId(),c=this.getName(),f=this.get("toRequire"),h=this.get("requires"),g=this.get("requiresParent"),m=s.get("unstylable"),y=s.get("stylable-require"),w=s.get("stylable");if((0,D.isArray)(w)&&(w=w.indexOf(c)>=0),(0,D.isArray)(m)&&(w=m.indexOf(c)<0),f&&(w=!e||y&&(y.indexOf(u)>=0||y.indexOf(c)>=0)),i&&h){var b=(0,D.keys)(h);i.forEach(function(T){T.getProperties().forEach(function(j){if((0,D.includes)(b,j.id)){var X=h[j.id];w=w&&(0,D.includes)(X,j.get("value"))}})})}if(g){var O=n&&n.parent(),S=O&&O.getEl();if(S){var P=(0,Mt.hasWin)()?window.getComputedStyle(S):{};(0,D.each)(g,function(T,j){w=w&&P[j]&&(0,D.includes)(T,P[j])})}else w=!1}return!!w},r}($t.Kx);const nr=Gm;Gm.callParentInit=function(o,r,t,e){e===void 0&&(e={}),o.prototype.initialize.apply(r,[t,Sn(Sn({},e),{skipInit:1})])};Gm.callInit=function(o,r,t){t===void 0&&(t={}),!t.skipInit&&o.init(r,t)};var oR=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),np=function(){return np=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},np.apply(this,arguments)},iR=function(o){oR(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return{values:{}}},r.prototype.initialize=function(){var t=this.collection;this.prop=t==null?void 0:t.prop},r.prototype.getId=function(){return this.cid},r.prototype.getIndex=function(){var t=this.collection;return t?t.indexOf(this):-1},r.prototype.getValues=function(t){t===void 0&&(t={});var e=this.get("values");return t.camelCase?Object.keys(e).reduce(function(n,i){return n[(0,Mt.camelCase)(i)]=e[i],n},{}):e},r.prototype.getLabel=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.getLayerLabel(this)},r.prototype.isSelected=function(){var t;return((t=this.prop)===null||t===void 0?void 0:t.getSelectedLayer())===this},r.prototype.select=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.selectLayer(this)},r.prototype.remove=function(){var t;return(t=this.prop)===null||t===void 0?void 0:t.removeLayer(this)},r.prototype.move=function(t){var e;return(e=this.prop)===null||e===void 0?void 0:e.moveLayer(this,t)},r.prototype.getStylePreview=function(t){var e;return t===void 0&&(t={}),(e=this.prop)===null||e===void 0?void 0:e.getStylePreview(this,t)},r.prototype.hasPreview=function(){var t;return!!(!((t=this.prop)===null||t===void 0)&&t.get("preview"))},r.prototype.upValues=function(t){return t===void 0&&(t={}),this.set("values",np(np({},this.getValues()),t))},r}($t.Kx);const aR=iR;var sR=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),QS=function(o){sR(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.initialize=function(t,e){e===void 0&&(e={}),this.prop=e.prop},r}($t.pM);const lR=QS;QS.prototype.model=aR;var uR=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),rl=function(){return rl=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},rl.apply(this,arguments)},qw=function(o,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,i;e<n;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return o.concat(i||Array.prototype.slice.call(r))},t1=function(o){return o==="integer"||o==="number"},cR=function(o){uR(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return rl(rl({},nr.getDefaults()),{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})},r.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),nr.callParentInit(nr,this,t,e);var n=this.em,i=new Xm(this.get("properties")||[],{em:n,parentProp:this});this.set("properties",i,{silent:!0}),this.listenTo(i,"change",this.__upProperties),nr.callInit(this,t,e)},Object.defineProperty(r.prototype,"properties",{get:function(){return this.get("properties")||[]},enumerable:!1,configurable:!0}),r.prototype.getProperties=function(){return qw([],this.get("properties").models,!0)},r.prototype.getProperty=function(t){return this.properties.filter(function(e){return e.getId()===t||e.getName()===t})[0]},r.prototype.getPropertyAt=function(t){return this.get("properties").at(t)},r.prototype.isDetached=function(){return!!this.get("detached")},r.prototype.getValues=function(t){var e=t===void 0?{}:t,n=e.byName;return this.getProperties().reduce(function(i,s){var u=n?s.getName():s.getId();return i[u]="".concat(s.__getFullValue()),i},{})},r.prototype.getSeparator=function(){return this.getSplitSeparator()},r.prototype.getJoin=function(){return this.__getJoin()},r.prototype.getStyleFromProps=function(t){var e;t===void 0&&(t={});var n=this.getName(),i=this.__getJoin(),s=this.get("toStyle"),u=this.getValues(),c={};if(s)c=s(u,{join:i,name:n,property:this});else if(u=this.getValues({byName:!0}),this.isDetached())c=u;else{var f=this.getProperties().map(function(h){return h.__getFullValue({withDefault:1})}).filter(Boolean).join(i);c=(e={},e[n]=f,e)}return this.isDetached()?c[n]="":(c[n]=c[n]||"",c=rl(rl({},c),this.getProperties().reduce(function(h,g){return h[g.getName()]="",h},{}))),t.camelCase?Object.keys(c).reduce(function(h,g){return h[(0,Mt.camelCase)(g)]=c[g],h},{}):c},r.prototype.getSplitSeparator=function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},r.prototype.__upProperties=function(t,e){if(e===void 0&&(e={}),!(e.__up||e.__clearIn)){var n=this.__getParentProp();if(n)return n.__upProperties(this,e);this.__upTargetsStyleProps(e,t)}},r.prototype.__upTargetsStyleProps=function(t,e){var n;t===void 0&&(t={});var i=this.getStyleFromProps();if(this.isDetached()&&e){var s=e.getName();i=(n={},n[s]=i[s],n)}this.__upTargetsStyle(i,t)},r.prototype._up=function(t,e){return e===void 0&&(e={}),this.__setProperties(this.__getSplitValue(t.value),e),nr.prototype._up.call(this,t,e),this},r.prototype.getStyle=function(t){return this.getStyleFromProps(t)},r.prototype.__getFullValue=function(t){if(t===void 0&&(t={}),this.isDetached()||t.__clear)return"";var e=this.getStyleFromProps()[this.getName()]||"";return wg(e)},r.prototype.__getJoin=function(){var t=this.get("join");return(0,D.isString)(t)?t:this.get("separator")},r.prototype.__styleHasProps=function(t){t===void 0&&(t={});var e=this.getName(),n=this.getProperties(),i=n.map(function(u){return u.getName()}),s=qw([e],i,!0);return s.some(function(u){return!(0,D.isUndefined)(t[u])&&t[u]!==""})},r.prototype.__splitValue=function(t,e){return wg(t).split(e).map(function(n){return n.trim()}).filter(Boolean)},r.prototype.__splitStyleName=function(t,e,n){return this.__splitValue(t[e]||"",n)},r.prototype.__getSplitValue=function(t,e){t===void 0&&(t="");var n=e===void 0?{}:e,i=n.byName,s=this.getProperties(),u=s.length===4&&s.every(function(h){return t1(h.getType())}),c=this.__splitValue(t,this.getSplitSeparator()),f={};return s.forEach(function(h,g){var m=c[g],y=(0,D.isUndefined)(m)?"":m;if(u){var w=c.length;y=c[g]||c[g%w+(w!=1&&w%2?1:0)]||y}var b=i?h.getName():h.getId();f[b]=y||""}),f},r.prototype.__getPropsFromStyle=function(t,e){if(t===void 0&&(t={}),e===void 0&&(e={}),!this.__styleHasProps(t))return null;var n=e.byName,i=this.getName(),s=this.getProperties(),u=this.getSplitSeparator(),c=this.get("fromStyle"),f=c?c(t,{property:this,name:i,separator:u}):{};return c||(f=this.__getSplitValue(t[i]||"",{byName:n}),s.forEach(function(h){var g=t[h.getName()],m=n?h.getName():h.getId();!(0,D.isUndefined)(g)&&g!==""&&(f[m]=g)})),f},r.prototype.__setProperties=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),this.getProperties().forEach(function(i){var s=t[i.getId()];i.__getFullValue()!==s&&i.upValue(s,e)});var n=(0,D.keys)(t).map(function(i){return t[i]}).join(" ");this.set("value",n,{silent:!0})},r.prototype.clear=function(){var t=this;return this.getProperties().map(function(e){return e.clear({__clearIn:!t.isDetached()})}),nr.prototype.clear.call(this),this},r.prototype.hasValue=function(t){return this.getProperties().some(function(e){return e.hasValue(t)})},r.prototype.getFullValue=function(){return this.__getFullValue()},r.prototype.__canClearProp=function(t){return this.isDetached()&&t.hasValue({noParent:!0})},r}(nr);const Rs=cR;var fR=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Un=function(){return Un=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Un.apply(this,arguments)},dR=function(o,r){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&r.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(o);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(o,e[n])&&(t[e[n]]=o[e[n]]);return t},pR=/,(?![^\(]*\))/,hR=/\s(?![^(]*\))/,vR=function(o){fR(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return Un(Un({},Rs.getDefaults()),{layers:[],emptyValue:"unset",layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})},r.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Rs.callParentInit(Rs,this,t,e);var n=this.get("layers"),i=new lR(n,{prop:this});i.property=this,i.properties=this.get("properties"),this.set("layers",i,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(i,"add remove",this.__upLayers),Rs.callInit(this,t,e)},Object.defineProperty(r.prototype,"layers",{get:function(){return this.get("layers")},enumerable:!1,configurable:!0}),r.prototype.getLayers=function(){return this.layers.models},r.prototype.hasLayers=function(){return this.getLayers().length>0},r.prototype.getLayer=function(t){return t===void 0&&(t=0),this.layers.at(t)||void 0},r.prototype.getSelectedLayer=function(){var t=this.get("selectedLayer");return t&&t.getIndex()>=0?t:void 0},r.prototype.selectLayer=function(t){return this.set("selectedLayer",t,{__select:!0})},r.prototype.selectLayerAt=function(t){t===void 0&&(t=0);var e=this.getLayer(t);return e&&this.selectLayer(e)},r.prototype.moveLayer=function(t,e){e===void 0&&(e=0);var n=this.layers,i=t?t.getIndex():-1;i>=0&&(0,D.isNumber)(e)&&e>=0&&e<n.length&&i!==e&&(this.removeLayer(t),n.add(t,{at:e}))},r.prototype.addLayer=function(t,e){t===void 0&&(t={}),e===void 0&&(e={});var n={};this.getProperties().forEach(function(s){var u=s.getId(),c=t[u];n[u]=(0,D.isUndefined)(c)?s.getDefaultValue():c});var i=this.layers.push({values:n},e);return i},r.prototype.removeLayer=function(t){return this.layers.remove(t)},r.prototype.removeLayerAt=function(t){t===void 0&&(t=0);var e=this.getLayer(t);return e?this.removeLayer(e):null},r.prototype.getLayerLabel=function(t){var e="";if(t){var n=this.get("layerLabel"),i=t.getValues(),s=t.getIndex();if(n)e=n(t,{index:s,values:i,property:this});else{var u=[];this.getProperties().map(function(c){u.push(i[c.getId()])}),e=u.filter(Boolean).join(" ")}}return e},r.prototype.getStyleFromLayer=function(t,e){var n;e===void 0&&(e={});var i=this.__getJoin(),s=this.__getJoinLayers(),u=this.get("toStyle"),c=this.getName(),f=t.getValues(),h;if(u)h=u(f,{join:i,joinLayers:s,name:c,layer:t,property:this});else{var g=this.getProperties().map(function(m){var y=m.getName(),w=f[m.getId()],b=(0,D.isUndefined)(w)?m.getDefaultValue():w;if(e.number&&t1(m.getType())){var O=m.parseValue(w,e.number);b="".concat(O.value).concat(O.unit)}return{name:y,value:b}});h=this.isDetached()?g.reduce(function(m,y){return m[y.name]=y.value,m},{}):(n={},n[this.getName()]=g.map(function(m){return m.value}).join(i),n)}return e.camelCase?Object.keys(h).reduce(function(m,y){return m[(0,Mt.camelCase)(y)]=h[y],m},{}):h},r.prototype.getStylePreview=function(t,e){e===void 0&&(e={});var n={},i=this.get("preview");return i&&(n=this.getStyleFromLayer(t,e)),n},r.prototype.getLayerSeparator=function(){var t=this.get("layerSeparator");return(0,D.isString)(t)?new RegExp("".concat(t,"(?![^\\(]*\\))")):t},r.prototype.hasEmptyValue=function(){return!this.hasLayers()&&!!this.attributes.isEmptyValue},r.prototype.__upProperties=function(t,e){var n;e===void 0&&(e={});var i=this.getSelectedLayer();i&&(i.upValues((n={},n[t.getId()]=t.__getFullValue(),n)),!e.__up&&this.__upTargetsStyleProps(e))},r.prototype.__upLayers=function(t,e,n){this.__upTargetsStyleProps(n||e)},r.prototype.__upTargets=function(t,e){if(e===void 0&&(e={}),!e.__select)return nr.prototype.__upTargets.call(this,t,e)},r.prototype.__upTargetsStyleProps=function(t){t===void 0&&(t={}),this.__upTargetsStyle(this.getStyleFromLayers(t),t)},r.prototype.__upTargetsStyle=function(t,e){return nr.prototype.__upTargetsStyle.call(this,t,e)},r.prototype.__upSelected=function(t,e){var n=t===void 0?{}:t,i=n.noEvent;e===void 0&&(e={});var s=this.em.Styles,u=this.getSelectedLayer(),c=u==null?void 0:u.getValues();c&&this.getProperties().forEach(function(f){var h,g=(h=c[f.getId()])!==null&&h!==void 0?h:"";f.__getFullValue()!==g&&f.upValue(g,Un(Un({},e),{__up:!0}))}),!i&&s.__trgEv(s.events.layerSelect,{property:this})},r.prototype._up=function(t,e){e===void 0&&(e={});var n=t.__layers,i=n===void 0?[]:n,s=dR(t,["__layers"]);return!this.isDetached()&&this.__setLayers(i),this.__upSelected({noEvent:!0},e),nr.prototype._up.call(this,s,e),this},r.prototype.__setLayers=function(t,e){t===void 0&&(t=[]),e===void 0&&(e={});var n=this.layers,i=t.map(function(s){return{values:s}});n.length===i.length?i.map(function(s,u){var c;return(c=n.at(u))===null||c===void 0?void 0:c.upValues(s.values)}):n.reset(i),this.set({isEmptyValue:!!e.isEmptyValue}),this.__upSelected({noEvent:!0})},r.prototype.__parseValue=function(t){var e=this,n=this.parseValue(t);return n.__layers=t.split(pR).map(function(i){return i.trim()}).map(function(i){return e.__parseLayer(i)}).filter(Boolean),n},r.prototype.__parseLayer=function(t){var e=this.get("parseLayer"),n=t.split(hR),i=this.getProperties();return e?e({value:t,values:n}):i.reduce(function(s,u,c){var f=n[c];return s[u.getId()]=(0,D.isUndefined)(f)?u.getDefaultValue():f,s},{})},r.prototype.__getLayersFromStyle=function(t){var e=this;if(t===void 0&&(t={}),!this.__styleHasProps(t))return null;if(this.isEmptyValueStyle(t))return[];var n=this.getName(),i=this.getProperties(),s=this.getLayerSeparator(),u=this.attributes.fromStyle,c=u?u(t,{property:this,name:n,separatorLayers:s}):[];if(!u){var f=this.__splitStyleName(t,n,s).map(function(h){return h.split(e.getSplitSeparator())}).map(function(h){var g={};return i.forEach(function(m,y){var w=h[y];g[m.getId()]=(0,D.isUndefined)(w)?m.getDefaultValue():w}),g});i.forEach(function(h){var g=h.getId();e.__splitStyleName(t,h.getName(),s).map(function(m){var y;return y={},y[g]=m||h.getDefaultValue(),y}).forEach(function(m,y){f[y]=f[y]?Un(Un({},f[y]),m):m})}),c=f}return(0,D.isArray)(c)?c:[c]},r.prototype.getStyle=function(t){return t===void 0&&(t={}),this.getStyleFromLayers(t)},r.prototype.getStyleFromLayers=function(t){var e=this;t===void 0&&(t={});var n={},i=this.getName(),s=this.getLayers(),u=this.getProperties(),c=s.map(function(h){return e.getStyleFromLayer(h,t)});if(c.forEach(function(h){(0,D.keys)(h).map(function(g){n[g]||(n[g]=[]),n[g].push(h[g])})}),(0,D.keys)(n).map(function(h){n[h]=n[h].join(e.__getJoinLayers())}),this.isDetached())n[i]="",!s.length&&u.map(function(h){n[h.getName()]=""});else{var f=u.reduce(function(h,g){return h[g.getName()]="",h},{});n[i]=n[i]||"",n=Un(Un({},n),f)}return Un(Un({},n),t.__clear?{}:this.getEmptyValueStyle())},r.prototype.isEmptyValueStyle=function(t){t===void 0&&(t={});var e=this.getEmptyValueStyle({force:!0}),n=(0,D.keys)(e);return!!n.length&&n.every(function(i){return e[i]===t[i]})},r.prototype.getEmptyValueStyle=function(t){t===void 0&&(t={});var e=this.attributes.emptyValue;if(e&&(!this.hasLayers()||t.force)){var n=this.getName(),i=this.getProperties(),s=(0,D.isString)(e)?e:e({property:this});if((0,D.isString)(s)){var u={};return this.isDetached()?i.map(function(c){u[c.getName()]=s}):u[n]=s,u}else return s}else return{}},r.prototype.__getJoinLayers=function(){var t=this.get("layerJoin"),e=this.get("layerSeparator");return t||((0,D.isString)(e)?e:t)},r.prototype.__getFullValue=function(){if(this.get("detached"))return"";var t=this.getStyleFromLayers();return wg(t[this.getName()])},r.prototype.hasValue=function(t){t===void 0&&(t={});var e=t.noParent,n=e&&this.getParentTarget();return(this.hasLayers()||this.hasEmptyValue())&&!n},r.prototype.clear=function(t){return t===void 0&&(t={}),this.layers.reset(),this.__upTargetsStyleProps(Un(Un({},t),{__clear:!0})),nr.prototype.clear.call(this),this},r.prototype.__canClearProp=function(){return!1},r.prototype.__getLayers=function(){return this.layers},r}(Rs);const gR=vR;var mR=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),op=function(){return op=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},op.apply(this,arguments)},yR=function(o,r){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&r.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(o);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(o,e[n])&&(t[e[n]]=o[e[n]]);return t},_R=function(o,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,i;e<n;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return o.concat(i||Array.prototype.slice.call(r))},gv="data-clear-style",wR=function(o){mR(r,o);function r(t){t===void 0&&(t={});var e=o.call(this,t)||this;(0,D.bindAll)(e,"__change","__updateStyle");var n=t.config||{},i=n.em;e.config=n,e.em=i,e.pfx=n.stylePrefix||"",e.ppfx=n.pStylePrefix||"",e.__destroyFn=e.destroy?e.destroy.bind(e):function(){};var s=e.model;s.view=e,e.onValueChange=(0,D.debounce)(e.onValueChange.bind(e),10),e.updateStatus=(0,D.debounce)(e.updateStatus.bind(e),0),e.listenTo(s,"destroy remove",e.remove),e.listenTo(s,"change:visible",e.updateVisibility),e.listenTo(s,"change:name change:className change:full",e.render),e.listenTo(s,"change:value",e.onValueChange),e.listenTo(s,"change:parentTarget",e.updateStatus),e.listenTo(i,"change:device",e.onValueChange);var u=e.init&&e.init.bind(e);return u&&u(),e}return r.prototype.events=function(){var t;return t={change:"inputValueChanged"},t["click [".concat(gv,"]")]="clear",t},r.prototype.template=function(t){var e=this,n=e.pfx,i=e.ppfx;return`
      <div class="`.concat(n,`label" data-sm-label></div>
      <div class="`).concat(i,`fields" data-sm-fields></div>
    `)},r.prototype.templateLabel=function(t){var e=this,n=e.pfx,i=e.em,s=t.parent,u=t.attributes,c=u.icon,f=c===void 0?"":c,h=u.info,g=h===void 0?"":h,m=i==null?void 0:i.getConfig().icons,y=(m==null?void 0:m.close)||"";return`
      <span class="`.concat(n,"icon ").concat(f,'" title="').concat(g,`">
        `).concat(t.getLabel(),`
      </span>
      `).concat(s?"":'<div class="'.concat(n,'clear" style="display: none" ').concat(gv,">").concat(y,"</div>"),`
    `)},r.prototype.templateInput=function(t){return`
      <div class="`.concat(this.ppfx,`field">
        <input placeholder="`).concat(t.getDefaultValue(),`"/>
      </div>
    `)},r.prototype.remove=function(){var t=this;return $t.Ss.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(e){return t[e]=null}),this.__destroyFn(this._getClbOpts()),this},r.prototype.updateStatus=function(){var t,e=this,n=e.model,i=e.pfx,s=e.ppfx,u=e.config,c="".concat(s,"four-color"),f="".concat(s,"color-warn"),h=this.$el.children(".".concat(i,"label")),g=this.getClearEl(),m=g?g.style:{};h.removeClass("".concat(c," ").concat(f)),m.display="none",n.hasValue({noParent:!0})&&u.highlightChanged?(h.addClass(c),u.clearProperties&&(m.display="")):n.hasValue()&&u.highlightComputed&&h.addClass(f),(t=this.parent)===null||t===void 0||t.updateStatus()},r.prototype.clear=function(t){t&&t.stopPropagation(),this.model.clear()},r.prototype.getClearEl=function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(gv,"]"))),this.clearEl},r.prototype.inputValueChanged=function(t){t&&t.stopPropagation(),!this.emit&&this.model.upValue(t.target.value)},r.prototype.onValueChange=function(t,e,n){this.setValue(this.model.getFullValue(void 0,{skipImportant:!0})),this.updateStatus()},r.prototype.setValue=function(t){var e=this.model,n=(0,D.isUndefined)(t)||t===""?e.getDefaultValue():t;if(this.update)return this.__update(n);this.__setValueInput(n)},r.prototype.__setValueInput=function(t){var e=this.getInputEl();e&&(e.value=t)},r.prototype.getInputEl=function(){return this.input||(this.input=this.el.querySelector("input")),this.input},r.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},r.prototype.clearCached=function(){delete this.clearEl,delete this.input,delete this.$input},r.prototype.__unset=function(){var t=this.unset&&this.unset.bind(this);t&&t(this._getClbOpts())},r.prototype.__update=function(t){var e=this.update&&this.update.bind(this);e&&e(op(op({},this._getClbOpts()),{value:t}))},r.prototype.__change=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.emit&&this.emit.bind(this);n&&n.apply(void 0,_R([this._getClbOpts()],t,!1))},r.prototype.__updateStyle=function(t,e){e===void 0&&(e={});var n=e.complete,i=e.partial;yR(e,["complete","partial"]);var s=this.model,u=n!==!1&&i!==!0;(0,Mt.isObject)(t)?s.__upTargetsStyle(t,{avoidStore:!u}):s.upValue(t,{partial:!u})},r.prototype._getClbOpts=function(){var t=this,e=t.model,n=t.el,i=t.createdEl;return{el:n,createdEl:i,property:e,props:e.attributes,change:this.__change,updateStyle:this.__updateStyle}},r.prototype.render=function(){this.clearCached();var t=this,e=t.pfx,n=t.model,i=t.el,s=t.$el,u=n.getName(),c=n.getType(),f=n.get("className")||"",h="".concat(e,"property"),g=c==="number"?"".concat(e).concat(c," ").concat(e,"integer"):"".concat(e).concat(c);this.createdEl&&this.__destroyFn(this._getClbOpts()),s.empty().append(this.template(n)),s.find("[data-sm-label]").append(this.templateLabel(n));var m=this.create&&this.create.bind(this);this.createdEl=m&&m(this._getClbOpts()),s.find("[data-sm-fields]").append(this.createdEl||this.templateInput(n)),i.className="".concat(h," ").concat(g," ").concat(h,"__").concat(u," ").concat(f).trim(),i.className+=n.isFull()?" ".concat(h,"--full"):"";var y=this.onRender&&this.onRender.bind(this);return y&&y(),this.setValue(n.getValue()),this},r.prototype.onRender=function(){},r}($t.Ss);const xi=wR;var CR=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),bR=function(o){CR(r,o);function r(t){var e=o.call(this,t)||this;e.config=t.config||{},e.pfx=e.config.stylePrefix||"",e.properties=[],e.parent=t.parent;var n=e.collection;return e.listenTo(n,"add",e.addTo),e.listenTo(n,"reset",e.render),e}return r.prototype.addTo=function(t,e,n){this.add(t,null,n)},r.prototype.add=function(t,e,n){n===void 0&&(n={});var i=this,s=i.parent,u=i.config,c=e||this.el,f=new t.typeView({model:t,config:u});s&&(f.parent=s),f.render();var h=f.el;this.properties.push(f),(0,Jt.Sc)(c,h,n.at)},r.prototype.remove=function(){return $t.Ss.prototype.remove.apply(this,arguments),this.clearItems(),this},r.prototype.clearItems=function(){this.properties.forEach(function(t){return t.remove()}),this.properties=[]},r.prototype.render=function(){var t=this,e=this,n=e.$el,i=e.pfx;this.clearItems();var s=document.createDocumentFragment();return this.collection.forEach(function(u){return t.add(u,s)}),n.empty(),n.append(s),n.attr("class","".concat(i,"properties")),this},r}($t.Ss);const Ym=bR;var xR=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ip=function(){return ip=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},ip.apply(this,arguments)},SR=function(o){xR(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.templateInput=function(){var t=this.pfx;return`
      <div class="`.concat(t,"field ").concat(t,`composite">
        <span id="`).concat(t,`input-holder"></span>
      </div>
    `)},r.prototype.remove=function(){var t;return(t=this.props)===null||t===void 0||t.remove(),xi.prototype.remove.apply(this,arguments),this},r.prototype.onValueChange=function(){},r.prototype.onRender=function(){var t=this.pfx,e=this.model,n=e.get("properties");if(n.length&&!this.props){var i=e.isDetached(),s=new Ym({config:ip(ip({},this.config),{highlightComputed:i,highlightChanged:i}),collection:n,parent:this});s.render(),this.$el.find("#".concat(t,"input-holder")).append(s.el),this.props=s}},r.prototype.clearCached=function(){xi.prototype.clearCached.apply(this,arguments),delete this.props},r}(xi);const Cu=SR;var OR=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),TR=function(o){OR(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.events=function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}},r.prototype.template=function(){var t=this,e=t.pfx,n=t.ppfx,i=t.em,s=i==null?void 0:i.getConfig().icons,u=(s==null?void 0:s.close)||"",c=(s==null?void 0:s.move)||"";return`
      <div class="`.concat(e,`label-wrp">
        <div id="`).concat(e,'move" class="').concat(n,`no-touch-actions" data-move-layer>
          `).concat(c,`
        </div>
        <div id="`).concat(e,`label" data-label></div>
        <div id="`).concat(e,'preview-box" class="').concat(e,`layer-preview" style="display: none" data-preview-box>
          <div id="`).concat(e,'preview" class="').concat(e,`layer-preview-cnt" data-preview></div>
        </div>
        <div id="`).concat(e,'close-layer" class="').concat(e,`btn-close" data-close-layer>
          `).concat(u,`
        </div>
      </div>
      <div id="`).concat(e,`inputs" data-properties></div>
    `)},r.prototype.initialize=function(t){t===void 0&&(t={});var e=this.model,n=t.config||{};this.em=n.em,this.config=n,this.sorter=t.sorter,this.pfx=n.stylePrefix||"",this.ppfx=n.pStylePrefix||"",this.propertyView=t.propertyView;var i=this.propertyView.model;this.listenTo(e,"destroy remove",this.remove),this.listenTo(e,"change:values",this.updateLabel),this.listenTo(i,"change:selectedLayer",this.updateVisibility),e.view=this,e.set({droppable:0,draggable:1}),this.$el.data("model",e)},r.prototype.initSorter=function(){var t;(t=this.sorter)===null||t===void 0||t.startSort(this.el)},r.prototype.removeItem=function(t){t&&t.stopPropagation(),this.model.remove()},r.prototype.select=function(){this.model.select()},r.prototype.getPropertiesWrapper=function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},r.prototype.getPreviewEl=function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},r.prototype.getLabelEl=function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl},r.prototype.updateLabel=function(){var t=this.model,e=t.getLabel();if(this.getLabelEl().innerHTML=e,t.hasPreview()){var n=this.getPreviewEl(),i=t.getStylePreview({number:{min:-3,max:3}}),s=(0,D.keys)(i).map(function(u){return"".concat(u,":").concat(i[u])}).join(";");n.setAttribute("style",s)}},r.prototype.updateVisibility=function(){var t,e=this,n=e.pfx,i=e.model,s=e.propertyView,u=this.getPropertiesWrapper(),c=i.isSelected();u.style.display=c?"":"none",this.$el[c?"addClass":"removeClass"]("".concat(n,"active")),c&&u.appendChild((t=s.props)===null||t===void 0?void 0:t.el)},r.prototype.render=function(){var t=this,e=t.el,n=t.pfx,i=t.model;return e.innerHTML=this.template(),e.className="".concat(n,"layer"),i.hasPreview()&&(e.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this},r}($t.Ss);const ER=TR;var PR=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),kR=function(o){PR(r,o);function r(t){var e=o.call(this,t)||this,n=e.collection,i=t.config||{},s=i.em,u=i.stylePrefix||"",c=i.pStylePrefix||"";e.config=i,e.pfx=u,e.ppfx=c,e.propertyView=t.propertyView,e.className="".concat(u,"layers ").concat(c,"field"),e.listenTo(n,"add",e.addTo),e.listenTo(n,"reset",e.reset),e.items=[];var f=s==null?void 0:s.Utils;return e.sorter=f?new f.Sorter({container:e.el,ignoreViewChildren:1,containerSel:".".concat(u,"layers"),itemSel:".".concat(u,"layer"),pfx:i.pStylePrefix,em:s}):"",n.view=e,e.$el.data("model",n),e.$el.data("collection",n),e}return r.prototype.addTo=function(t){var e=this.collection.indexOf(t);this.addToCollection(t,null,e)},r.prototype.addToCollection=function(t,e,n){var i=e||null,s=this,u=s.propertyView,c=s.config,f=s.sorter,h=s.$el,g=new ER({model:t,config:c,sorter:f,propertyView:u}),m=g.render().el;if(this.items.push(g),i)i.appendChild(m);else if(typeof n<"u"){var y="before";h.children().length===n&&(n--,y="after"),n<0?h.append(m):h.children().eq(n)[y](m)}else h.append(m);return m},r.prototype.reset=function(t,e){this.clearItems(),this.render()},r.prototype.remove=function(){return this.clearItems(),$t.Ss.prototype.remove.apply(this,arguments),this},r.prototype.clearItems=function(){this.items.forEach(function(t){return t.remove()}),this.items=[]},r.prototype.render=function(){var t=this,e=this,n=e.$el,i=e.sorter,s=document.createDocumentFragment();return n.empty(),this.collection.forEach(function(u){return t.addToCollection(u,s)}),n.append(s),n.attr("class",this.className),i&&(i.plh=null),this},r}($t.Ss);const AR=kR;var MR=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),nl=function(){return nl=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},nl.apply(this,arguments)},LR=function(o){MR(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.events=function(){return nl(nl({},Cu.prototype.events()),{"click [data-add-layer]":"addLayer",change:""})},r.prototype.templateInput=function(){var t=this,e=t.pfx,n=t.em,i=n==null?void 0:n.getConfig().icons,s=(i==null?void 0:i.plus)||"+";return`
      <div class="`.concat(e,"field ").concat(e,`stack">
        <button type="button" id="`).concat(e,`add" data-add-layer>
          `).concat(s,`
        </button>
        <div data-layers-wrapper></div>
      </div>
    `)},r.prototype.init=function(){var t=this.model;this.listenTo(t.layers,"change reset",this.updateStatus),this.listenTo(t,"change:isEmptyValue",this.updateStatus)},r.prototype.addLayer=function(){this.model.addLayer({},{at:0})},r.prototype.setValue=function(){},r.prototype.remove=function(){var t;return(t=this.layersView)===null||t===void 0||t.remove(),Cu.prototype.remove.apply(this,arguments),this},r.prototype.clearCached=function(){Cu.prototype.clearCached.apply(this,arguments),delete this.layersView},r.prototype.onRender=function(){var t=this,e=t.model,n=t.el,i=t.config,s=e.get("properties");if(s.length&&!this.props){var u=new Ym({config:nl(nl({},i),{highlightComputed:!1,highlightChanged:!1}),collection:s,parent:this});u.render();var c=new AR({collection:e.layers,config:i,propertyView:this});c.render();var f=n.querySelector("[data-layers-wrapper]");f.appendChild(c.el),this.props=u,this.layersView=c}},r}(Cu);const DR=LR;var jR=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ap=function(){return ap=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},ap.apply(this,arguments)},NR=function(o){jR(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.events=function(){return ap(ap({},xi.prototype.events()),{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})},r.prototype.templateInput=function(){var t,e=this,n=e.pfx,i=e.em,s=(t=this.em)===null||t===void 0?void 0:t.getConfig().icons,u=s==null?void 0:s.close;return`
      <div class="`.concat(n,"field ").concat(n,`file">
        <div id='`).concat(n,`input-holder'>
          <div class="`).concat(n,`btn-c">
            <button class="`).concat(n,'btn" id="').concat(n,`images" type="button" data-open-assets>
              `).concat(i.t("styleManager.fileButton"),`
            </button>
          </div>
          <div style="clear:both;"></div>
        </div>
        <div id="`).concat(n,'preview-box" class="').concat(n,`preview-file" data-preview-box>
          <div id="`).concat(n,'preview-file" class="').concat(n,`preview-file-cnt" data-preview></div>
          <div id="`).concat(n,'close" class="').concat(n,'preview-file-close" data-clear-asset>').concat(u,`</div>
        </div>
      </div>
    `)},r.prototype.__setValueInput=function(t){var e=this,n=e.model,i=e.el,s=n.getDefaultValue(),u=i.querySelector("[data-preview-box]"),c=i.querySelector("[data-preview]");u.style.display=!t||t===s?"none":"",c.style.backgroundImage=t||n.getDefaultValue()},r.prototype.openAssetManager=function(){var t=this,e,n=(e=this.em)===null||e===void 0?void 0:e.Assets;n==null||n.open({select:function(i,s){var u=(0,D.isString)(i)?i:i.get("src");t.model.upValue(u,{partial:!s}),s&&n.close()},types:["image"],accept:"image/*"})},r}(xi);const IR=NR;var RR=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),FR=function(o){RR(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.templateInput=function(t){return""},r.prototype.init=function(){var t=this.model;this.listenTo(t,"change:unit",this.onValueChange),this.listenTo(t,"change:units",this.render)},r.prototype.setValue=function(t){},r.prototype.onRender=function(){var t=this,e=t.ppfx,n=t.model,i=t.el;if(!this.inputInst){var s=n.input;s.ppfx=e,s.render();var u=i.querySelector(".".concat(e,"fields"));u.appendChild(s.el),this.input=s.inputEl.get(0),this.inputInst=s}},r.prototype.clearCached=function(){xi.prototype.clearCached.apply(this,arguments),this.inputInst=null},r}(xi);const _i=FR;var VR=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),UR=function(o){VR(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.setValue=function(t){var e;(e=this.inputInst)===null||e===void 0||e.setValue(t,{fromTarget:1,def:this.model.getDefaultValue()})},r.prototype.remove=function(){var t=this;_i.prototype.remove.apply(this,arguments);var e=this.inputInst;return e&&e.remove&&e.remove(),["inputInst","$color"].forEach(function(n){return t[n]=null}),this},r.prototype.__handleChange=function(t,e){this.model.upValue(t,{partial:e})},r.prototype.onRender=function(){var t;if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var e=this,n=e.ppfx,i=e.model,s=e.em,u=e.el,c=new ES({target:s,model:i,ppfx:n,onChange:this.__handleChange}),f=c.render();u.querySelector(".".concat(n,"fields")).appendChild(f.el),this.input=(t=f.inputEl)===null||t===void 0?void 0:t.get(0),this.inputInst=f}},r}(_i);const HR=UR;var BR=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),sp=function(){return sp=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},sp.apply(this,arguments)},Jw=function(o,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,i;e<n;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return o.concat(i||Array.prototype.slice.call(r))},zR=function(o){BR(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return sp(sp({},nr.getDefaults()),{options:[],full:0})},r.prototype.getOptions=function(){var t=this.attributes,e=t.options,n=t.list;return(e&&e.length?e:n)||[]},r.prototype.getOption=function(t){var e=this,n=(0,Mt.isDef)(t)?t:this.getValue();return this.getOptions().filter(function(i){return e.getOptionId(i)===n})[0]||null},r.prototype.setOptions=function(t){return t===void 0&&(t=[]),this.set("options",t),this},r.prototype.addOption=function(t){if(t){var e=this.getOptions();this.setOptions(Jw(Jw([],e,!0),[t],!1))}return this},r.prototype.getOptionId=function(t){return(0,Mt.isDef)(t.id)?t.id:t.value},r.prototype.getOptionLabel=function(t,e){var n;e===void 0&&(e={});var i=e.locale,s=i===void 0?!0:i,u=((0,D.isString)(t)?this.getOption(t):t)||{},c=this.getOptionId(u),f=u.label||u.name||c,h=e.property||this.getId();return s&&((n=this.em)===null||n===void 0?void 0:n.t("styleManager.options.".concat(h,".").concat(c)))||f},r.prototype.initialize=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];nr.prototype.initialize.apply(this,t),this.listenTo(this,"change:options",this.__onOptionChange)},r.prototype.__onOptionChange=function(){this.set("list",this.get("options"))},r}(nr);const Fg=zR;var WR=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),KR=function(o){WR(r,o);function r(t){var e=o.call(this,t)||this;return e.listenTo(e.model,"change:options",e.updateOptions),e}return r.prototype.templateInput=function(){var t=this,e=t.pfx,n=t.ppfx;return`
      <div class="`.concat(n,"field ").concat(n,`select">
        <span id="`).concat(e,`input-holder"></span>
        <div class="`).concat(n,`sel-arrow">
          <div class="`).concat(n,`d-s-arrow"></div>
        </div>
      </div>
    `)},r.prototype.updateOptions=function(){delete this.input,this.onRender()},r.prototype.onRender=function(){var t=this.pfx,e=this.model,n=e.getOptions();if(!this.input){var i=[];n.forEach(function(u){var c=e.getOptionId(u),f=e.getOptionLabel(c),h=u.style?u.style.replace(/"/g,"&quot;"):"",g=h?'style="'.concat(h,'"'):"",m=c.replace(/"/g,"&quot;");i.push('<option value="'.concat(m,'" ').concat(g,">").concat(f,"</option>"))});var s=this.el.querySelector("#".concat(t,"input-holder"));s.innerHTML="<select>".concat(i.join(""),"</select>"),this.input=s.firstChild}},r.prototype.__setValueInput=function(t){var e=this.model,n=this.getInputEl(),i=e.getOptions()[0],s=i?e.getOptionId(i):"";n&&(n.value=t||s)},r}(xi);const e1=KR;var $R=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),lp=function(){return lp=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},lp.apply(this,arguments)},GR=function(o){$R(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return lp(lp({},Fg.getDefaults()),{full:1})},r}(Fg);const YR=GR;var XR=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),qR=function(o){XR(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.templateInput=function(){var t=this.ppfx;return'<div class="'.concat(t,"field ").concat(t,'field-radio"></div>')},r.prototype.onRender=function(){var t=this,e=t.pfx,n=t.ppfx,i=this.model,s="".concat(n,"radio-item-label"),u=i.getName(),c=i.getOptions(),f="".concat(e,"radio ").concat(e,"radio-").concat(u),h=i.cid;if(!this.input){var g=[];c.forEach(function(y){var w=y.className?"".concat(y.className," ").concat(e,"icon ").concat(s):"",b=i.getOptionId(y),O="".concat(u,"-").concat(b,"-").concat(h),S=w?"":i.getOptionLabel(b),P=y.title?'title="'.concat(y.title,'"'):"",T=i.getValue()===b?"checked":"";g.push(`
          <div class="`.concat(n,`radio-item">
            <input type="radio" class="`).concat(f,'" id="').concat(O,'" name="').concat(u,"-").concat(h,'" value="').concat(b,'" ').concat(T,`/>
            <label class="`).concat(w||s,'" ').concat(P,' for="').concat(O,'">').concat(S,`</label>
          </div>
        `))});var m=this.el.querySelector(".".concat(n,"field"));m.innerHTML='<div class="'.concat(n,'radio-items">').concat(g.join(""),"</div>"),this.input=m.firstChild}},r.prototype.__setValueInput=function(t){var e,n=this.model,i=t||n.getDefaultValue(),s=(e=this.getInputEl())===null||e===void 0?void 0:e.querySelector('[value="'.concat(i,'"]'));s&&(s.checked=!0)},r}(e1);const JR=qR;var ZR=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Ka=function(){return Ka=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},Ka.apply(this,arguments)},QR=function(o){ZR(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return Ka(Ka({},nr.getDefaults()),{units:[],unit:"",min:"",max:"",step:1})},r.prototype.getUnits=function(){return this.get("units")||[]},r.prototype.getUnit=function(){return this.get("unit")},r.prototype.getMin=function(){return this.get("min")},r.prototype.getMax=function(){return this.get("max")},r.prototype.getStep=function(){return this.get("step")},r.prototype.upUnit=function(t,e){return e===void 0&&(e={}),this._up({unit:t},e)},r.prototype.initialize=function(t,e){t===void 0&&(t={}),e===void 0&&(e={}),nr.callParentInit(nr,this,t,e);var n=this.get("unit"),i=this.getUnits();this.input=(0,Mt.hasWin)()?new kS({model:this}):void 0,i.length&&!n&&this.set("unit",i[0],{silent:!0}),nr.callInit(this,t,e)},r.prototype.__getClearProps=function(){return Ka(Ka({},nr.prototype.__getClearProps()),{unit:""})},r.prototype.parseValue=function(t,e){e===void 0&&(e={});var n=nr.prototype.parseValue.apply(this,arguments),i=this.input.validateInputValue(n.value,Ka({deepCheck:1},e)),s=i.value,u=i.unit;return n.value=s,n.unit=u,n},r.prototype.getFullValue=function(){var t=this.get("value"),e=this.get("unit"),n=(0,D.isUndefined)(t)?"":"".concat(t),i=!(0,D.isUndefined)(e)&&n?e:"",s="".concat(n).concat(i);return nr.prototype.getFullValue.apply(this,[s])},r}(nr);const up=QR;var tF=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cp=function(){return cp=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},cp.apply(this,arguments)},eF=function(o){tF(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.defaults=function(){return cp(cp({},up.getDefaults()),{showInput:1})},r}(up);const rF=eF;var nF=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),fp=function(){return fp=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},fp.apply(this,arguments)},oF=function(o){nF(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.events=function(){return fp(fp({},_i.prototype.events()),{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},r.prototype.templateInput=function(t){var e=this.ppfx;return`
      <div class="`.concat(e,"field ").concat(e,`field-range">
        <input type="range" min="`).concat(t.get("min"),'" max="').concat(t.get("max"),'" step="').concat(t.get("step"),`"/>
      </div>
    `)},r.prototype.getSliderEl=function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},r.prototype.inputValueChanged=function(t){t.stopPropagation(),this.model.upValue(this.getSliderEl().value)},r.prototype.inputValueChangedSoft=function(t){t.stopPropagation(),this.model.upValue(this.getSliderEl().value,{partial:!0})},r.prototype.setValue=function(t){var e=this.model,n=e.parseValue(t);this.getSliderEl().value=t===""?e.getDefaultValue():parseFloat(n.value),_i.prototype.setValue.apply(this,arguments)},r.prototype.onRender=function(){_i.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},r.prototype.clearCached=function(){_i.prototype.clearCached.apply(this,arguments),delete this.slider},r}(_i);const iF=oF;var aF=$t.pM.extend(US),sF=aF.extend({extendViewApi:1,init:function(){var o=this,r=o.opts,t=o.em,e=r.module||(t==null?void 0:t.get("StyleManager"));e&&(e.__listenAdd(this,e.events.propertyAdd),e.__listenRemove(this,e.events.propertyRemove))},types:[{id:"stack",model:gR,view:DR,isType:function(o){if(o&&o.type=="stack")return o}},{id:"composite",model:Rs,view:Cu,isType:function(o){if(o&&o.type=="composite")return o}},{id:"file",model:nr,view:IR,isType:function(o){if(o&&o.type=="file")return o}},{id:"color",model:nr,view:HR,isType:function(o){if(o&&o.type=="color")return o}},{id:"select",model:Fg,view:e1,isType:function(o){if(o&&o.type=="select")return o}},{id:"radio",model:YR,view:JR,isType:function(o){if(o&&o.type=="radio")return o}},{id:"slider",model:rF,view:iF,isType:function(o){if(o&&o.type=="slider")return o}},{id:"integer",model:up,view:_i,isType:function(o){if(o&&o.type=="integer")return o}},{id:"number",model:up,view:_i,isType:function(o){if(o&&o.type=="number")return o}},{id:"base",model:nr,view:xi,isType:function(o){return o.type="base",o}}]});const Xm=sF;var lF=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),dp=function(){return dp=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},dp.apply(this,arguments)},uF=function(o,r){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&r.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(o);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(o,e[n])&&(t[e[n]]=o[e[n]]);return t},cF=function(o,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,i;e<n;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return o.concat(i||Array.prototype.slice.call(r))},fF=function(o){lF(r,o);function r(t,e){e===void 0&&(e={});var n=o.call(this,t)||this,i=e.em;n.em=i;var s=t||{},u=n.buildProperties(s.buildProps),c=n.get("name")||"",f=[];!n.get("id")&&n.set("id",c.replace(/ /g,"_").toLowerCase()),u?f=n.extendProperties(u):f=n.get("properties").map(function(g){return(0,D.isString)(g)?n.buildProperties(g)[0]:g}).filter(Boolean),f=f.map(function(g){return n.checkExtend(g)});var h=new Xm(f,{em:i});return h.sector=n,n.set("properties",h),n}return r.prototype.defaults=function(){return{id:"",name:"",open:!0,visible:!0,extendBuilded:!0,properties:[]}},Object.defineProperty(r.prototype,"properties",{get:function(){return this.get("properties")},enumerable:!1,configurable:!0}),r.prototype.getId=function(){return this.get("id")},r.prototype.getName=function(){var t,e=this.getId();return((t=this.em)===null||t===void 0?void 0:t.t("styleManager.sectors.".concat(e)))||this.get("name")},r.prototype.setName=function(t){return this.set("name",t)},r.prototype.isOpen=function(){return!!this.get("open")},r.prototype.setOpen=function(t){return this.set("open",t)},r.prototype.isVisible=function(){return!!this.get("visible")},r.prototype.getProperties=function(t){t===void 0&&(t={});var e=this.properties,n=e.models?cF([],e.models,!0):e;return n.filter(function(i){var s=!0;if(t.withValue&&(s=i.hasValue({noParent:!0})),t.withParentValue){var u=i.hasValue({noParent:!0});s=!u&&i.hasValue()}return s})},r.prototype.getProperty=function(t){return this.getProperties().filter(function(e){return e.get("id")===t})[0]||void 0},r.prototype.addProperty=function(t,e){return this.properties.add(this.checkExtend(t),e)},r.prototype.extendProperties=function(t,e,n){n===void 0&&(n=!1);for(var i=t.length,s=e||this.get("properties"),u=this.get("extendBuilded"),c=[],f=0,h=s.length;f<h;f++){for(var g=s[f],m=0,y=0;y<i;y++){var w=t[y];if(g.property==w.property||g.id==w.property){var b=g.properties;b&&b.length&&(g.properties=this.extendProperties(w.properties||[],b,1)),t[y]=u?(0,D.extend)(w,g):g,c[y]=t[y],m=1;continue}}m||(t.push(g),c.push(g))}return n?c.filter(function(O){return O}):t},r.prototype.checkExtend=function(t){var e=((0,D.isString)(t)?{extend:t}:t)||{},n=e.extend,i=uF(e,["extend"]);return n?dp(dp({},this.buildProperties([n])[0]||{}),i):t},r.prototype.buildProperties=function(t){var e,n=t||[];if(!n.length)return[];var i=(e=this.em)===null||e===void 0?void 0:e.Styles.builtIn;return i==null?void 0:i.build(n)},r}($t.Kx);const r1=fF;var dF=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),pp=function(){return pp=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},pp.apply(this,arguments)},pF=function(o){dF(r,o);function r(){return o!==null&&o.apply(this,arguments)||this}return r.prototype.initialize=function(t,e){e===void 0&&(e={});var n=e.module,i=e.em;this.em=i,this.module=n,this.listenTo(this,"reset",this.onReset)},r.prototype.model=function(t,e){e===void 0&&(e={});var n=e.collection.em;return new r1(t,pp(pp({},e),{em:n}))},r.prototype.onReset=function(t,e){e===void 0&&(e={});var n=e.previousModels||[];n.forEach(function(i){return i.get("properties").reset()})},r}($t.pM);const hF=pF;var ea=function(){return ea=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},ea.apply(this,arguments)},vF=function(o,r){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&r.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(o);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(o,e[n])&&(t[e[n]]=o[e[n]]);return t},Fa=function(o,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,i;e<n;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return o.concat(i||Array.prototype.slice.call(r))},Hr=function(o){return o.map(function(r){return{id:r}})},gF=function(){function o(){this.props={},this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var r=", sans-serif",t=["flex-start","flex-end","center"],e=Fa(Fa([],t,!0),["baseline","stretch"],!1);this.optsBgSize=Hr(["auto","cover","contain"]),this.optsBgAttach=Hr(["scroll","fixed","local"]),this.optsBgRepeat=Hr(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=Hr(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=Hr(["visible","hidden","scroll","auto"]),this.optsDir=Hr(["row","row-reverse","column","column-reverse"]),this.opstDisplay=Hr(["block","inline","inline-block","flex","none"]),this.optsTransitFn=Hr(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=Hr(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=Hr(["none","left","right"]),this.optsPos=Hr(["static","relative","absolute","fixed"]),this.optsTextAlign=Hr(["left","center","right","justify"]),this.optsFlexAlign=Hr(e),this.optsJustCont=Hr(Fa(Fa([],t,!0),["space-between","space-around","space-evenly"],!1)),this.optsAlignCont=Hr(Fa(Fa([],t,!0),["space-between","space-around","stretch"],!1)),this.optsAlignSelf=Hr(Fa(["auto"],e,!0)),this.optsTransitProp=Hr(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=Hr(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=Hr(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+r,"Arial Black, Gadget"+r,"Brush Script MT"+r,"Comic Sans MS, cursive"+r,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+r,"Impact, Charcoal"+r,"Lucida Sans Unicode, Lucida Grande"+r,"Tahoma, Geneva"+r,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+r,"Verdana, Geneva"+r].map(function(n){return{id:n,label:n.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return o.prototype.__sub=function(r){var t=this;return function(){return r.map(function(e){if((0,D.isString)(e))return t.get(e);var n=e.extend,i=vF(e,["extend"]);return ea(ea({},t.get(n)),i)})}},o.prototype.init=function(){var r=this,t=this,e=t.fixedValues,n=t.requireFlex,i=t.typeNumber;this.props={};var s=[["text-shadow-h",{type:i,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:e},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:n},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:i,default:"0",requiresParent:n}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black",full:!0}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01,full:!0}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:n},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:n},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(u,c){var f=c.values,h=f["box-shadow-h"],g=f["box-shadow-v"],m=f["box-shadow-blur"],y=f["box-shadow-spread"];return"".concat(h," ").concat(g," ").concat(m," ").concat(y)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(u,c){var f=c.values,h=f["text-shadow-h"],g=f["text-shadow-v"],m=f["text-shadow-blur"];return"".concat(h," ").concat(g," ").concat(m)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(u,c){var f=c.values,h=f["background-repeat-sub"]||"",g=f["background-position-sub"]||"",m=f["background-attachment-sub"]||"",y=f["background-size-sub"]||"";return[h,g,m,y].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(u,c){var f=c.property,h=c.name,g=u[h]||"",m=f.getLayerSeparator();return g?g.split(m).map(function(y){var w=f.__parseFn(y),b=w.name,O=w.value;return{"transform-type":b,"transform-value":O}}):[]},toStyle:function(u,c){var f,h=c.name;return f={},f[h]="".concat(u["transform-type"],"(").concat(u["transform-value"],")"),f},properties:[{property:"transform-type",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(u){var c=u.property,f=u.to;if(f.value){var h=c.getOption(),g=ea({},h.propValue||{}),m=c.getParent().getProperty("transform-value"),y=m.getUnit();(!y||(g==null?void 0:g.units.indexOf(y))<0)&&(g.unit=(g==null?void 0:g.units[0])||""),m.up(g)}}},{property:"transform-value",type:this.typeNumber,default:"0",full:!0}]}]];return s.forEach(function(u){var c=u[0],f=u[1],h=u[2];r.add(c,f||{},{from:h})}),this},o.prototype.add=function(r,t,e){t===void 0&&(t={}),e===void 0&&(e={});var n=e.from||"",i=this.props[n||r]||{},s=ea(ea(ea({},i),{property:r}),t);return s.properties&&(0,D.isFunction)(s.properties)&&(s.properties=s.properties()),this.props[r]=s,s},o.prototype.get=function(r){return this.props[r]},o.prototype.build=function(r){var t=this,e=[],n=(0,D.isString)(r)?[r]:r;return n.forEach(function(i){e.push(t.get(i)||{property:i})}),e},o}();const mF=gF;var yF=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_F=function(o,r){return Object.defineProperty?Object.defineProperty(o,"raw",{value:r}):o.raw=r,o},wF=function(o){yF(r,o);function r(t){var e=o.call(this,t)||this,n=t.config||{},i=e.model,s=n.em;return e.config=n,e.em=s,e.pfx=n.stylePrefix||"",e.listenTo(i,"destroy remove",e.remove),e.listenTo(i,"change:open",e.updateOpen),e.listenTo(i,"change:visible",e.updateVisibility),e}return r.prototype.template=function(t){var e,n=t.pfx,i=t.label,s=(e=this.em)===null||e===void 0?void 0:e.getConfig().icons,u=(s==null?void 0:s.caret)||"",c="".concat(n,"sector-");return Wn(Zw||(Zw=_F([`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `],[`
      <div class="`,`title" data-sector-title>
        <div class="`,'caret">$',`</div>
        <div class="`,'label">',`</div>
      </div>
    `])),c,c,u,c,i)},r.prototype.events=function(){return{"click [data-sector-title]":"toggle"}},r.prototype.updateOpen=function(){var t=this,e=t.$el,n=t.model,i=t.pfx,s=n.isOpen();e[s?"addClass":"removeClass"]("".concat(i,"open")),this.getPropertiesEl().style.display=s?"":"none"},r.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},r.prototype.getPropertiesEl=function(){var t=this,e=t.$el,n=t.pfx;return e.find(".".concat(n,"properties")).get(0)},r.prototype.toggle=function(){var t=this.model;t.setOpen(!t.get("open"))},r.prototype.renderProperties=function(){var t=this,e=t.model,n=t.config,i=e.get("properties");if(i){var s=new Ym({collection:i,config:n});this.$el.append(s.render().el)}},r.prototype.render=function(){var t=this,e=t.pfx,n=t.model,i=t.$el,s=n.getId(),u=n.getName();return i.html(this.template({pfx:e,label:u})),this.renderProperties(),i.attr("class","".concat(e,"sector ").concat(e,"sector__").concat(s," no-select")),this.updateOpen(),this},r}($t.Ss);const CF=wF;var Zw,bF=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),xF=function(o){bF(r,o);function r(t){t===void 0&&(t={});var e=o.call(this,t)||this,n=t.module,i=t.config,s=e.collection;return e.pfx=(i==null?void 0:i.stylePrefix)||"",e.ppfx=(i==null?void 0:i.pStylePrefix)||"",e.config=i,e.module=n,e.listenTo(s,"add",e.addTo),e.listenTo(s,"reset",e.render),e}return r.prototype.remove=function(){var t=this;return $t.Ss.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(e){return t[e]={}}),this},r.prototype.addTo=function(t,e,n){n===void 0&&(n={}),this.addToCollection(t,null,n)},r.prototype.addToCollection=function(t,e,n){n===void 0&&(n={});var i=this,s=i.config,u=i.el,c=e||u,f=new CF({model:t,config:s}).render().el;return(0,Jt.Sc)(c,f,n.at),f},r.prototype.render=function(){var t=this,e=this,n=e.$el,i=e.pfx,s=e.ppfx;n.empty();var u=document.createDocumentFragment();return this.collection.each(function(c){return t.addToCollection(c,u)}),n.append(u),n.addClass("".concat(i,"sectors ").concat(s,"one-bg ").concat(s,"two-color")),this},r}($t.Ss);const SF=xF;var OF=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),ra=function(){return ra=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},ra.apply(this,arguments)},Qw=function(o,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,i;e<n;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return o.concat(i||Array.prototype.slice.call(r))},n1="style",wc="".concat(n1,":"),qm="".concat(wc,"sector"),TF="".concat(qm,":add"),EF="".concat(qm,":remove"),PF="".concat(qm,":update"),Jm="".concat(wc,"property"),kF="".concat(Jm,":add"),AF="".concat(Jm,":remove"),MF="".concat(Jm,":update"),o1="".concat(wc,"layer:select"),Vg="".concat(wc,"target"),LF="".concat(wc,"custom"),tC=function(o){return o||o===0},DF={all:n1,sectorAdd:TF,sectorRemove:EF,sectorUpdate:PF,propertyAdd:kF,propertyRemove:AF,propertyUpdate:MF,layerSelect:o1,target:Vg,custom:LF},jF=function(o){OF(r,o);function r(t){var e=o.call(this,t,"StyleManager",new hF([],{em:t}),DF,eR)||this;e.Sector=r1,e.storageKey="",(0,D.bindAll)(e,"__clearStateTarget");var n=e.config,i=n.pStylePrefix;i&&(n.stylePrefix=i+n.stylePrefix),e.builtIn=new mF,e.properties=new Xm([],{em:t,module:e}),e.sectors=e.all;var s=new $t.Kx({targets:[]});e.model=s;var u=dn.I.update,c="component:toggled ".concat(u,":classes change:state change:device frame:resized selector:type");e.upAll=(0,D.debounce)(function(){return e.__upSel()},0),s.listenTo(t,c,e.upAll),s.listenTo(t,"component:toggled",e.__clearStateTarget);var f=(0,D.debounce)(function(){e.__upProps(),e.__trgCustom()},0);s.listenTo(t,"styleable:change undo redo",f);var h=(0,D.debounce)(function(){return e.__trgCustom()},0);return s.listenTo(t,"".concat(o1," ").concat(Vg),h),s.on("change:lastTarget",function(){return t.trigger(Vg,e.getSelected())}),e}return r.prototype.__upSel=function(){this.select(this.em.getSelectedAll())},r.prototype.__trgCustom=function(t){t===void 0&&(t={}),this.__ctn=this.__ctn||t.container,this.em.trigger(this.events.custom,{container:this.__ctn})},r.prototype.__trgEv=function(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];(e=this.em).trigger.apply(e,Qw([t],n,!1))},r.prototype.__clearStateTarget=function(){var t=this,e=this.em,n=this.__getStateTarget();n&&(e==null||e.skip(function(){e.Css.remove(n),t.model.set({stateTarget:null})}))},r.prototype.onLoad=function(){this.sectors.add(this.config.sectors,{silent:!0})},r.prototype.postRender=function(){this.__appendTo()},r.prototype.addSector=function(t,e,n){n===void 0&&(n={});var i=this.getSector(t);return i||(e.id=t,i=this.sectors.add(e,n)),i},r.prototype.getSector=function(t,e){e===void 0&&(e={});var n=this.sectors.where({id:t})[0];return!n&&e.warn&&this._logNoSector(t),n||null},r.prototype.getSectors=function(t){t===void 0&&(t={});var e=this.sectors,n=e&&e.models?t.array?Qw([],e.models,!0):e:[];return t.visible?n.filter(function(i){return i.isVisible()}):n},r.prototype.removeSector=function(t){return this.getSectors().remove(this.getSector(t,{warn:!0}))},r.prototype.addProperty=function(t,e,n){n===void 0&&(n={});var i=this.getSector(t,{warn:!0}),s;return i&&(s=i.addProperty(e,n)),s},r.prototype.getProperty=function(t,e){var n=this.getSector(t,{warn:!0}),i;return n&&(i=n.properties.filter(function(s){return s.get("property")===e||s.get("id")===e})[0]),i},r.prototype.getProperties=function(t){var e,n=this.getSector(t,{warn:!0});return n&&(e=n.properties),e},r.prototype.removeProperty=function(t,e){var n=this.getProperties(t);return n?n.remove(this.getProperty(t,e)):null},r.prototype.select=function(t,e){var n=this;e===void 0&&(e={});var i=this.em,s=(0,D.isArray)(t)?t:[t],u=e.stylable,c=i.Css,f=[];s.filter(Boolean).forEach(function(b){var O=b;if((0,D.isString)(b)){var S=c.getRule(b)||c.setRule(b);!(0,D.isUndefined)(u)&&S.set({stylable:u}),O=S}f.push(O)});var h=e.component||f.filter(function(b){return(0,Mt.isComponent)(b)}).reverse()[0];f=f.map(function(b){return n.getModelToStyle(b)});var g=i.getState(),m=f.slice().reverse()[0],y=this.getParentRules(m,{state:g,component:h}),w=this.__getStateTarget();return i.skip(function(){var b;if(g&&(!((b=m==null?void 0:m.getState)===null||b===void 0)&&b.call(m))){var O=m.getStyle();w?w.setStyle(O):w=c.getAll().add({selectors:"gjs-selected",style:O,shallow:!0,important:!0})}else w&&(c.remove(w),w=void 0)}),this.model.set({targets:f,lastTarget:m,lastTargetParents:y,stateTarget:w,component:h}),this.__upProps(e),f},r.prototype.getSelected=function(){return this.model.get("lastTarget")},r.prototype.getSelectedAll=function(){return this.model.get("targets")},r.prototype.getSelectedParents=function(){return this.model.get("lastTargetParents")||[]},r.prototype.__getStateTarget=function(){return this.model.get("stateTarget")},r.prototype.addStyleTargets=function(t,e){this.getSelectedAll().map(function(s){return s.addStyle(t,e)});var n=this.getSelected();n&&this.__emitCmpStyleUpdate(t);var i=this.__getStateTarget();n&&(i==null||i.setStyle(n.getStyle(),e))},r.prototype.getBuiltIn=function(t){return this.builtIn.get(t)},r.prototype.getBuiltInAll=function(){return this.builtIn.props},r.prototype.addBuiltIn=function(t,e){return this.builtIn.add(t,e)},r.prototype.getModelToStyle=function(t,e){e===void 0&&(e={});var n=this.em,i=e.skipAdd;if(n&&(t!=null&&t.toHTML)){var s=n.getConfig(),u=n.UndoManager,c=n.Css,f=n.Selectors,h=f?f.getConfig():{},g=s.devicePreviewMode?"":n.get("state"),m=t.get("classes"),y=m.getStyleable(),w=y.length,b=!h.componentFirst||e.useClasses,O={noCount:1},S={state:g,addOpts:O};u.skip(function(){var P;if(w&&b){var T=n.getCurrentMedia();P=c.get(y,g,T),!P&&!i&&(P=c.add(y,g,T,{},O))}else if(s.avoidInlineStyle){var j=t.getId();P=c.getIdRule(j,S),!P&&!i&&(P=c.setIdRule(j,{},S)),t.is("wrapper")&&P.set("wrapper",1,O)}P&&(t=P)})}return t},r.prototype.getParentRules=function(t,e){var n=e===void 0?{}:e,i=n.state,s=n.component,u=this.em,c=[];if(u&&t){var f=s,h=u.Css,g=u.CodeManager.getGenerator("css"),m=t.toHTML?t:t.getComponent(),y={array:!0},w=[],b=[],O=[],S=[],P=[],T=function(Q){return Q.length?h.getRules().filter(function(K){var rt=K.getSelectors().map(function(H){return H.getFullName()});return rt.length===0?!1:rt.every(function(H){return Q.indexOf(H)>=0})}):[]},j=function(Q){return Q?h.getRules().filter(function(K){return K.selectorsToString()===Q}):[]};if(m)w=h.getRules("#".concat(m.getId())),b=j(m.get("tagName")),S=f?T(f.getSelectors().getFullName(y)):[],P=S.concat(b).concat(w);else{w=f?h.getRules("#".concat(f.getId())):[],b=j((f==null?void 0:f.get("tagName"))||"");var X=(f==null?void 0:f.getSelectors().getFullName(y))||[],at=X.filter(function(Q){return t.getSelectors().getFullName(y).findIndex(function(K){return K===Q})===-1});O=T(at.concat(t.getSelectors().getFullName(y))),P=b.concat(w).concat(O)}var ft=P.filter(function(Q){return(0,D.isUndefined)(i)?1:Q.get("state")===i}).sort(g.sortRules).reverse();c=ft.slice(ft.indexOf(t)+1)}return c},r.prototype.addType=function(t,e){this.properties.addType(t,e)},r.prototype.getType=function(t){return this.properties.getType(t)},r.prototype.getTypes=function(){return this.properties.getTypes()},r.prototype.createType=function(t,e){var n=e===void 0?{}:e,i=n.model,s=i===void 0?{}:i,u=n.view,c=u===void 0?{}:u,f=this.config,h=this.getType(t);if(h)return new h.view(ra({model:new h.model(s),config:f},c))},r.prototype.render=function(){var t=this,e=t.config,n=t.em,i=t.SectView,s=i&&i.el;return this.SectView=new SF({el:s,em:n,config:e,module:this,collection:this.sectors}),this.SectView.render().el},r.prototype._logNoSector=function(t){var e=this.em;e&&e.logWarning("'".concat(t,"' sector not found"))},r.prototype.__emitCmpStyleUpdate=function(t,e){e===void 0&&(e={});var n=this.em;if(!t.__p){var i=this.getSelectedAll(),s=e.components||n.getSelectedAll(),u=Array.isArray(s)?s:[s],c=ra({},t);delete c.__p,u.forEach(function(f){return!i.includes(f)&&f.__onStyleChange(c)})}},r.prototype.__upProps=function(t){var e=this;t===void 0&&(t={});var n=this.getSelected();if(n){var i=this.sectors,s=this.model.get("component"),u=this.getSelectedParents(),c=n.getStyle(),f=u.map(function(h){return{target:h,style:h.getStyle()}});i.map(function(h){h.getProperties().map(function(g){e.__upProp(g,c,f,t)})}),i.forEach(function(h){var g=h.getProperties();g.forEach(function(y){var w=y.__checkVisibility({target:n,component:s,sectors:i});y.set("visible",w)});var m=g.some(function(y){return y.isVisible()});h.set("visible",m)})}},r.prototype.__upProp=function(t,e,n,i){var s=this,u=t.getName(),c=e[u],f=tC(c),h=t.getType()==="stack",g=t.getType()==="composite",m=ra(ra({},i),{__up:!0}),y=!g&&!h,w=t,b=t,O=h?w.__getLayersFromStyle(e):[],S=g?b.__getPropsFromStyle(e):{},P=f?c:null,T=null;if(h&&O===null||g&&S===null){var j=h?"__getLayersFromStyle":"__getPropsFromStyle",X=n.filter(function(rt){return w[j](rt.style)!==null})[0];if(X){P=X.style[u],T=X.target;var at=w[j](X.style);h?O=at:S=at}}else if(!f){P=null;var X=n.filter(function(H){return tC(H.style[u])})[0];X&&(P=X.style[u],T=X.target)}if(t.__setParentTarget(T),y&&t.__getFullValue()!==P&&t.upValue(P,m),h&&w.__setLayers(O||[],{isEmptyValue:w.isEmptyValueStyle(e)}),g){var ft=b.getProperties();if(b.isDetached()){var Q=b.__getPropsFromStyle(e,{byName:!0})||{},K=n.map(function(rt){return ra(ra({},rt),{style:b.__getPropsFromStyle(rt.style,{byName:!0})||{}})});ft.map(function(rt){return s.__upProp(rt,Q,K,i)})}else b.__setProperties(S||{},m),b.getProperties().map(function(rt){return rt.__setParentTarget(T)})}},r.prototype.destroy=function(){var t;[this.properties,this.sectors].forEach(function(e){e.reset(),e.stopListening()}),(t=this.SectView)===null||t===void 0||t.remove(),this.model.stopListening(),this.upAll.cancel()},r}(Sa);const NF=jF;var IF=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),cn=function(){return cn=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},cn.apply(this,arguments)},mv=function(o,r,t,e){function n(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function u(h){try{f(e.next(h))}catch(g){s(g)}}function c(h){try{f(e.throw(h))}catch(g){s(g)}}function f(h){h.done?i(h.value):n(h.value).then(u,c)}f((e=e.apply(o,r||[])).next())})},yv=function(o,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,n,i,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(f){return function(h){return c([f,h])}}function c(f){if(e)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(e=1,n&&(i=f[0]&2?n.return:f[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,f[1])).done)return i;switch(n=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,n=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=r.call(o,t)}catch(h){f=[6,h],n=0}finally{e=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},RF=function(o,r){var t={};for(var e in o)Object.prototype.hasOwnProperty.call(o,e)&&r.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,e=Object.getOwnPropertySymbols(o);n<e.length;n++)r.indexOf(e[n])<0&&Object.prototype.propertyIsEnumerable.call(o,e[n])&&(t[e[n]]=o[e[n]]);return t},FF=function(o,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,i;e<n;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return o.concat(i||Array.prototype.slice.call(r))};ik().$=sr.default;var VF=[hN,rN,MN,BI,bD,Ak,sD,NF,q2,BN,jI,fI,tR,qD,mj,XA,sj,L2],UF=[Uj,g2,Xj,t2];ak({$:sr.default});var eC={debug:console.log,info:console.info,warning:console.warn,error:console.error},HF=function(o){IF(r,o);function r(t){t===void 0&&(t={});var e=o.call(this)||this;e.__skip=!1,e.defaultRunning=!1,e.destroyed=!1,e._config=t;var n=e.config;e.set("Config",t),e.set("modules",[]),e.set("toLoad",[]),e.set("storables",[]),e.set("selected",new uk),e.set("dmode",n.dragMode);var i=n.el,s=n.log,u=s===!0?(0,D.keys)(eC):(0,D.isArray)(s)?s:[];return(0,D.bindAll)(e,"initBaseColorPicker"),i&&n.fromElement&&(n.components=i.innerHTML),e.attrsOrig=i?(0,D.toArray)(i.attributes).reduce(function(c,f){return c[f.nodeName]=f.nodeValue,c},{}):"",n.components&&!n.pageManager&&(n.pageManager={pages:[{component:n.components}]}),VF.forEach(function(c){return e.loadModule(c)}),UF.forEach(function(c){return e.loadStorableModule(c)}),e.on("change:componentHovered",e.componentHovered,e),e.on("change:changesCount",e.updateChanges,e),e.on("change:readyLoad change:readyCanvas",e._checkReady,e),u.forEach(function(c){return e.listenLog(c)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(c){var f=c.from,h=c.to;e.listenTo(e,f,function(){for(var g=[],m=0;m<arguments.length;m++)g[m]=arguments[m];e.trigger.apply(e,FF([h],g,!1)),e.logWarning("The event '".concat(f,"' is deprecated, replace it with '").concat(h,"'"))})}),e}return r.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(r.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"I18n",{get:function(){return this.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Utils",{get:function(){return this.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Commands",{get:function(){return this.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Keymaps",{get:function(){return this.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Modal",{get:function(){return this.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Panels",{get:function(){return this.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"CodeManager",{get:function(){return this.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"UndoManager",{get:function(){return this.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"RichTextEditor",{get:function(){return this.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Canvas",{get:function(){return this.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Editor",{get:function(){return this.get("Editor")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Components",{get:function(){return this.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Css",{get:function(){return this.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Blocks",{get:function(){return this.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Selectors",{get:function(){return this.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Storage",{get:function(){return this.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Traits",{get:function(){return this.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Parser",{get:function(){return this.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Layers",{get:function(){return this.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Assets",{get:function(){return this.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Devices",{get:function(){return this.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Pages",{get:function(){return this.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"Styles",{get:function(){return this.get("StyleManager")},enumerable:!1,configurable:!0}),r.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},r.prototype.getContainer=function(){return this.config.el},r.prototype.listenLog=function(t){this.listenTo(this,"log:".concat(t),eC[t])},Object.defineProperty(r.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),r.prototype.getConfig=function(t){var e=this.config;return(0,D.isUndefined)(t)?e:e[t]},r.prototype.loadOnStart=function(){var t=this,e=this.config,n=e.projectData,i=e.headless,s=this.Storage;this.toLoad.reverse().forEach(function(f){return f.onLoad()});var u=function(){t.modules.forEach(function(f){return f.postLoad&&f.postLoad(t)}),t.set("readyLoad",1)};i?(n&&this.loadData(n),u()):this._storageTimeout=setTimeout(function(){return mv(t,void 0,void 0,function(){var f;return yv(this,function(h){switch(h.label){case 0:return n?(this.loadData(n),[3,5]):[3,1];case 1:if(!(s!=null&&s.canAutoload()))return[3,5];h.label=2;case 2:return h.trys.push([2,4,,5]),[4,this.load()];case 3:return h.sent(),[3,5];case 4:return f=h.sent(),this.logError(f),[3,5];case 5:return u(),[2]}})})});var c=new r({noticeOnUnload:!1,storageManager:!1,undoManager:!1});c.Pages.onLoad(),c.Canvas.postLoad(),this.set("shallow",c)},r.prototype.updateChanges=function(t,e,n){var i=this,s=this.Storage,u=this.getDirtyCount();n.isClear||(this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return i.trigger("update")})),this.config.noticeOnUnload&&(window.onbeforeunload=u?function(){return!0}:null),s.isAutosave()&&u>=s.getStepsBeforeSave()&&this.store().catch(function(c){return i.logError(c)})},r.prototype.loadModule=function(t){var e=new t(this);return this.set(e.name,e),e.onLoad&&this.toLoad.push(e),this.modules.push(e),e},r.prototype.loadStorableModule=function(t){var e=this.loadModule(t);return this.storables.push(e),e},r.prototype.init=function(t,e){e===void 0&&(e={}),this.destroyed&&(this.initialize(e),this.destroyed=!1),this.set("Editor",t)},r.prototype.getEditor=function(){return this.get("Editor")},r.prototype.handleUpdates=function(t,e,n){var i=this;n===void 0&&(n={}),!(this.__skip||n.temporary||n.noCount||n.avoidStore||!this.get("ready"))&&(this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var s=i.getDirtyCount()||0;n.unset;var u=RF(n,["unset"]);i.set("changesCount",s+1,u)},0))},r.prototype.changesUp=function(t){this.handleUpdates(0,0,t)},r.prototype.componentHovered=function(t,e,n){var i=this.previous("componentHovered");i&&this.trigger("component:unhovered",i,n),e&&this.trigger("component:hovered",e,n)},r.prototype.getSelected=function(){return this.selected.lastComponent()},r.prototype.getSelectedAll=function(){return this.selected.allComponents()},r.prototype.setSelected=function(t,e){var n=this;e===void 0&&(e={});var i=e.event,s=i&&(i.ctrlKey||i.metaKey),u=(i||{}).shiftKey,c=((0,D.isArray)(t)?t:[t]).map(function(m){var y,w;return((w=(y=m==null?void 0:m.delegate)===null||y===void 0?void 0:y.select)===null||w===void 0?void 0:w.call(y,m))||m}).filter(Boolean),f=this.getSelectedAll(),h=this.getConfig().multipleSelection,g=(0,D.isArray)(t);(g||!t)&&this.removeSelected(f.filter(function(m){return!(0,D.contains)(c,m)})),c.forEach(function(m){if(m&&(n.trigger("component:select:before",m,e),!m.get("selectable")||e.abort))if(e.useValid){for(var y=m.parent();y&&!y.get("selectable");)y=y.parent();m=y}else return;if(s&&h)return n.toggleSelected(m);if(u&&h){n.clearSelection(n.Canvas.getWindow());var w=m.collection,b=m.index(),O,S;if(n.getSelectedAll().forEach(function(P){var T=P.collection,j=P.index();T===w&&(j<b?O=(0,D.isUndefined)(O)?j:Math.max(O,j):j>b&&(S=(0,D.isUndefined)(S)?j:Math.min(S,j)))}),!(0,D.isUndefined)(O))for(;O!==b;)n.addSelected(w.at(O)),O++;if(!(0,D.isUndefined)(S))for(;S!==b;)n.addSelected(w.at(S)),S--;return n.addSelected(m)}!g&&n.removeSelected(f.filter(function(P){return P!==m})),n.addSelected(m,e)})},r.prototype.addSelected=function(t,e){var n=this;e===void 0&&(e={});var i=(0,D.isArray)(t)?t:[t];i.forEach(function(s){var u=n.selected;if(!(!s||!s.get("selectable")||s.parents().some(function(f){return u.hasComponent(f)}))){e.forceChange&&n.removeSelected(s,e);var c=u.allComponents().filter(function(f){return(0,D.contains)(f.parents(),s)});c.forEach(function(f){return n.removeSelected(f,e)}),u.addComponent(s,e),n.trigger("component:select",s,e),n.Canvas.addSpot({type:To.F.Select,component:s})}})},r.prototype.removeSelected=function(t,e){var n=this;e===void 0&&(e={}),this.selected.removeComponent(t,e);var i=(0,D.isArray)(t)?t:[t];i.forEach(function(s){return n.Canvas.removeSpots({type:To.F.Select,component:s})})},r.prototype.toggleSelected=function(t,e){var n=this;e===void 0&&(e={});var i=(0,D.isArray)(t)?t:[t];i.forEach(function(s){n.selected.hasComponent(s)?n.removeSelected(s,e):n.addSelected(s,e)})},r.prototype.setHovered=function(t,e){var n=this;e===void 0&&(e={});var i=function(c,f){var h=n,g=h.config,m=h.Canvas,y=n.getHovered(),w=n.getSelectedAll(),b=To.F.Hover,O=To.F.Spacing;n.set("componentHovered",c||null,f),y&&(m.removeSpots({type:b,component:y}),m.removeSpots({type:O,component:y})),c&&(m.addSpot({type:b,component:c}),(!w.includes(c)||g.showOffsetsSelected)&&m.addSpot({type:O,component:c}))};if(!t)return i();var s="component:hover";if(e.forceChange&&i(),this.trigger("".concat(s,":before"),t,e),!t.get("hoverable"))if(e.useValid&&!e.abort){for(var u=t.parent();u&&!u.get("hoverable");)u=u.parent();t=u}else return;e.abort||(i(t,e),this.trigger(s,t,e))},r.prototype.getHovered=function(){return this.get("componentHovered")},r.prototype.setComponents=function(t,e){return e===void 0&&(e={}),this.Components.setComponents(t,e)},r.prototype.getComponents=function(){var t=this.Components,e=this.CodeManager;if(!(!t||!e)){var n=t.getComponents();return e.getCode(n,"json")}},r.prototype.setStyle=function(t,e){e===void 0&&(e={});var n=this.Css;return n.clear(e),n.getAll().add(t,e),this},r.prototype.addStyle=function(t,e){e===void 0&&(e={});var n=this.getStyle().add(t,e);return(0,D.isArray)(n)?n:[n]},r.prototype.getStyle=function(){return this.Css.getAll()},r.prototype.setState=function(t){return this.set("state",t),this},r.prototype.getState=function(){return this.get("state")||""},r.prototype.getHtml=function(t){t===void 0&&(t={});var e=this.config,n=e.optsHtml,i=e.jsInHtml?this.getJs(t):"",s=t.component||this.Components.getComponent(),u=s?this.CodeManager.getCode(s,"html",cn(cn({},n),t)):"";return u+=i?"<script>".concat(i,"<\/script>"):"",u},r.prototype.getCss=function(t){t===void 0&&(t={});var e=this.config,n=e.optsCss,i=t.avoidProtected,s=(0,D.isUndefined)(t.keepUnusedStyles)?e.keepUnusedStyles:t.keepUnusedStyles,u=this.Css,c=t.component||this.Components.getComponent(),f=i?"":e.protectedCss,h=c&&this.CodeManager.getCode(c,"css",cn(cn({cssc:u,keepUnusedStyles:s},n),t));return c?t.json?h:f+h:""},r.prototype.getJs=function(t){t===void 0&&(t={});var e=t.component||this.Components.getWrapper();return e?this.CodeManager.getCode(e,"js").trim():""},r.prototype.store=function(t){return mv(this,void 0,void 0,function(){var e;return yv(this,function(n){switch(n.label){case 0:return e=this.storeData(),[4,this.Storage.store(e,t)];case 1:return n.sent(),this.clearDirtyCount(),[2,e]}})})},r.prototype.load=function(t){return mv(this,arguments,void 0,function(e,n){var i;return n===void 0&&(n={}),yv(this,function(s){switch(s.label){case 0:return[4,this.Storage.load(e)];case 1:return i=s.sent(),this.loadData(i),[4,(0,Mt.wait)()];case 2:return s.sent(),n.clear&&(this.UndoManager.clear(),this.clearDirtyCount()),[2,i]}})})},r.prototype.storeData=function(){var t={},e=this.getEditing();return e&&e.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(n){t=cn(cn({},t),n.store(1))}),JSON.parse(JSON.stringify(t))},r.prototype.loadData=function(t){return t===void 0&&(t={}),(0,Mt.isEmptyObj)(t)||(this.storables.forEach(function(e){return e.clear()}),this.storables.forEach(function(e){return e.load(t)})),t},r.prototype.getDeviceModel=function(){var t=this.get("device");return this.Devices.get(t)},r.prototype.runDefault=function(t){t===void 0&&(t={});var e=this.get("Commands").get(this.config.defaultCommand);!e||this.defaultRunning||(e.stop(this,this,t),e.run(this,this,t),this.defaultRunning=!0)},r.prototype.stopDefault=function(t){t===void 0&&(t={});var e=this.get("Commands");if(e){var n=e.get(this.config.defaultCommand);!n||!this.defaultRunning||(n.stop(this,this,t),this.defaultRunning=!1)}},r.prototype.refreshCanvas=function(t){t===void 0&&(t={}),this.Canvas.refresh({spots:t.tools})},r.prototype.clearSelection=function(t){var e,n=t||window;(e=n.getSelection())===null||e===void 0||e.removeAllRanges()},r.prototype.getCurrentMedia=function(){var t=this.config,e=this.getDeviceModel(),n=t.mediaCondition,i=t.devicePreviewMode,s=e&&e.get("widthMedia");return e&&s&&!i?"(".concat(n,": ").concat(s,")"):""},r.prototype.getWrapper=function(){return this.Components.getWrapper()},r.prototype.setCurrentFrame=function(t){return this.set("currentFrame",t)},r.prototype.getCurrentFrame=function(){return this.get("currentFrame")},r.prototype.getCurrentFrameModel=function(){var t;return(t=this.getCurrentFrame()||{})===null||t===void 0?void 0:t.model},r.prototype.getIcon=function(t){var e=this.config.icons||{};return e[t]||""},r.prototype.getDirtyCount=function(){return this.get("changesCount")},r.prototype.clearDirtyCount=function(){return this.set({changesCount:0},{isClear:!0})},r.prototype.getZoomDecimal=function(){return this.Canvas.getZoomDecimal()},r.prototype.getZoomMultiplier=function(){return this.Canvas.getZoomMultiplier()},r.prototype.setDragMode=function(t){return this.set("dmode",t)},r.prototype.getDragMode=function(t){var e=(t==null?void 0:t.getDragMode())||this.get("dmode");return e||""},r.prototype.t=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.get("I18n");return n==null?void 0:n.t.apply(n,t)},r.prototype.inAbsoluteMode=function(t){return this.getDragMode(t)==="absolute"},r.prototype.destroyAll=function(){var t=this,e=this,n=e.config,i=e.view,s=this.getEditor(),u=(n.grapesjs||{}).editors,c=u===void 0?[]:u,f=this.get("shallow");this._storageTimeout&&clearTimeout(this._storageTimeout),f==null||f.destroyAll(),this.stopListening(),this.stopDefault(),(this.modules||[]).slice().reverse().forEach(function(h){return h.destroy()}),i!=null&&i.remove&&i.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(h){return t[h]={}}),c.splice(c.indexOf(s),1),(0,Mt.hasWin)()&&(0,sr.default)(n.el).empty().attr(this.attrsOrig)},r.prototype.getEditing=function(){var t=this.get("editing");return t&&t.model||void 0},r.prototype.setEditing=function(t){return this.set("editing",t),this},r.prototype.isEditing=function(){return!!this.get("editing")},r.prototype.log=function(t,e){e===void 0&&(e={});var n=e.ns,i=e.level,s=i===void 0?"debug":i;if(this.trigger("log",t,e),s&&this.trigger("log:".concat(s),t,e),n){var u="log-".concat(n);this.trigger(u,t,e),s&&this.trigger("".concat(u,":").concat(s),t,e)}},r.prototype.logInfo=function(t,e){this.log(t,cn(cn({},e),{level:"info"}))},r.prototype.logWarning=function(t,e){this.log(t,cn(cn({},e),{level:"warning"}))},r.prototype.logError=function(t,e){this.log(t,cn(cn({},e),{level:"error"}))},r.prototype.initBaseColorPicker=function(t,e){e===void 0&&(e={});var n=this.config,i=n.colorPicker,s=i===void 0?{}:i,u=n.el,c=n.stylePrefix;return(0,sr.default)(t).spectrum(cn(cn({containerClassName:"".concat(c,"one-bg ").concat(c,"two-color"),appendTo:u||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"⨯"},e),s))},r.prototype.skip=function(t){this.__skip=!0;var e=this.UndoManager;e?e.skip(t):t(),this.__skip=!1},r.prototype.data=function(t,e,n){var i="_gjs-data";if(t[i]||(t[i]={}),(0,D.isUndefined)(n))return t[i][e];t[i][e]=n},r}($t.Kx);const BF=HF;var zF=function(){var o=function(r,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},o(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");o(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),WF=function(o){zF(r,o);function r(t){var e=o.call(this,{model:t})||this,n=t.Panels,i=t.UndoManager;return t.view=e,t.once("change:ready",function(){n.active(),n.disableButtons(),i.clear(),setTimeout(function(){t.trigger("load",t.Editor),t.clearDirtyCount()})}),e}return r.prototype.render=function(){var t=this,e=this,n=e.$el,i=e.model,s=i.Panels,u=i.Canvas,c=i.config,f=i.modules,h=c.stylePrefix,g=["".concat(h,"editor")];!c.customUI&&g.push("".concat(h,"one-bg ").concat(h,"two-color"));var m=(0,sr.default)(c.el||"body ".concat(c.container));c.cssIcons&&(0,Mt.appendStyles)(c.cssIcons,{unique:!0,prepand:!0}),n.empty(),c.width&&m.css("width",c.width),c.height&&m.css("height",c.height),n.append(u.render()),n.append(s.render());var y=i.shallow,w=y.Canvas.render();return w.style.display="none",n.append(w),n.attr("class",g.join(" ")),m.addClass("".concat(h,"editor-cont")).empty().append(n),f.forEach(function(b){var O;return(O=b.postRender)===null||O===void 0?void 0:O.call(b,t)}),this},r}($t.Ss);const KF=WF;var zu=function(){return zu=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},zu.apply(this,arguments)},rC=function(o,r,t,e){function n(i){return i instanceof t?i:new t(function(s){s(i)})}return new(t||(t=Promise))(function(i,s){function u(h){try{f(e.next(h))}catch(g){s(g)}}function c(h){try{f(e.throw(h))}catch(g){s(g)}}function f(h){h.done?i(h.value):n(h.value).then(u,c)}f((e=e.apply(o,r||[])).next())})},nC=function(o,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,n,i,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(f){return function(h){return c([f,h])}}function c(f){if(e)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(t=0)),t;)try{if(e=1,n&&(i=f[0]&2?n.return:f[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,f[1])).done)return i;switch(n=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,n=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=r.call(o,t)}catch(h){f=[6,h],n=0}finally{e=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},$F=function(o,r,t){if(t||arguments.length===2)for(var e=0,n=r.length,i;e<n;e++)(i||!(e in r))&&(i||(i=Array.prototype.slice.call(r,0,e)),i[e]=r[e]);return o.concat(i||Array.prototype.slice.call(r))},GF=function(){function o(r,t){r===void 0&&(r={}),t===void 0&&(t={});var e;this.html=Wn,this.config=zu(zu(zu({},U_),r),{pStylePrefix:(e=r.stylePrefix)!==null&&e!==void 0?e:U_.stylePrefix}),this.em=new BF(this.config),this.$=t.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(o.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"I18n",{get:function(){return this.em.I18n},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Utils",{get:function(){return this.em.Utils},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Commands",{get:function(){return this.em.Commands},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Keymaps",{get:function(){return this.em.Keymaps},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Modal",{get:function(){return this.em.Modal},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Panels",{get:function(){return this.em.Panels},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Canvas",{get:function(){return this.em.Canvas},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Parser",{get:function(){return this.em.Parser},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"CodeManager",{get:function(){return this.em.CodeManager},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"UndoManager",{get:function(){return this.em.UndoManager},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"RichTextEditor",{get:function(){return this.em.RichTextEditor},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Pages",{get:function(){return this.em.Pages},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Components",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"DomComponents",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Layers",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"LayerManager",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Css",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"CssComposer",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Storage",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"StorageManager",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Assets",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"AssetManager",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Blocks",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"BlockManager",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Traits",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"TraitManager",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Selectors",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"SelectorManager",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Styles",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"StyleManager",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"Devices",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"DeviceManager",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"EditorModel",{get:function(){return this.em},enumerable:!1,configurable:!0}),o.prototype.getConfig=function(r){return this.em.getConfig(r)},o.prototype.getHtml=function(r){return this.em.getHtml(r)},o.prototype.getCss=function(r){return this.em.getCss(r)},o.prototype.getJs=function(r){return this.em.getJs(r)},o.prototype.getComponents=function(){return this.Components.getComponents()},o.prototype.getWrapper=function(){return this.Components.getWrapper()},o.prototype.setComponents=function(r,t){return t===void 0&&(t={}),this.em.setComponents(r,t),this},o.prototype.addComponents=function(r,t){return this.getWrapper().append(r,t)},o.prototype.getStyle=function(){return this.em.Css.getAll()},o.prototype.setStyle=function(r,t){return t===void 0&&(t={}),this.em.setStyle(r,t),this},o.prototype.addStyle=function(r,t){return t===void 0&&(t={}),this.em.addStyle(r,t)},o.prototype.getSelected=function(){return this.em.getSelected()},o.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},o.prototype.getSelectedToStyle=function(){var r=this.em.getSelected();if(r)return this.StyleManager.getModelToStyle(r)},o.prototype.select=function(r,t){return this.em.setSelected(r,t),this},o.prototype.selectAdd=function(r){return this.em.addSelected(r),this},o.prototype.selectRemove=function(r){return this.em.removeSelected(r),this},o.prototype.selectToggle=function(r){return this.em.toggleSelected(r),this},o.prototype.getEditing=function(){return this.em.getEditing()},o.prototype.setDevice=function(r){return this.em.set("device",r),this},o.prototype.getDevice=function(){return this.em.get("device")},o.prototype.runCommand=function(r,t){return t===void 0&&(t={}),this.Commands.run(r,t)},o.prototype.stopCommand=function(r,t){return t===void 0&&(t={}),this.Commands.stop(r,t)},o.prototype.store=function(r){return rC(this,void 0,void 0,function(){return nC(this,function(t){switch(t.label){case 0:return[4,this.em.store(r)];case 1:return[2,t.sent()]}})})},o.prototype.load=function(r){return rC(this,arguments,void 0,function(t,e){return e===void 0&&(e={}),nC(this,function(n){switch(n.label){case 0:return[4,this.em.load(t,e)];case 1:return[2,n.sent()]}})})},o.prototype.getProjectData=function(){return this.em.storeData()},o.prototype.loadProjectData=function(r){return this.em.loadData(r)},o.prototype.storeData=function(){return this.em.storeData()},o.prototype.loadData=function(r){return this.em.loadData(r)},o.prototype.getContainer=function(){return this.config.el},o.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},o.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},o.prototype.refresh=function(r){this.em.refreshCanvas(r)},o.prototype.setCustomRte=function(r){this.RichTextEditor.customRte=r},o.prototype.setCustomParserCss=function(r){return this.Parser.getConfig().parserCss=r,this},o.prototype.setDragMode=function(r){return this.em.setDragMode(r),this},o.prototype.log=function(r,t){return t===void 0&&(t={}),this.em.log(r,t),this},o.prototype.t=function(){for(var r,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(r=this.em).t.apply(r,t)},o.prototype.on=function(r,t){return this.em.on(r,t),this},o.prototype.once=function(r,t){return this.em.once(r,t),this},o.prototype.off=function(r,t){return this.em.off(r,t),this},o.prototype.trigger=function(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return this.em.trigger.apply(this.em,$F([r],t,!0)),this},o.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},o.prototype.getEl=function(){var r;return(r=this.editorView)===null||r===void 0?void 0:r.el},o.prototype.getModel=function(){return this.em},o.prototype.render=function(){var r;return(r=this.editorView)===null||r===void 0||r.remove(),this.editorView=new KF(this.em),this.editorView.render().el},o.prototype.onReady=function(r){this.em.get("ready")?r(this):this.em.on("load",r)},o}();const YF=GF;var XF=function(o,r){var t=r.get(o);if(!t){var e=(0,Mt.getGlobal)()[o];t=(e==null?void 0:e.default)||e}return t},i1=function(o,r){return(0,D.isString)(o)?XF(o,r):(o==null?void 0:o.default)||o},a1=function(o,r){o.getModel().logWarning("Plugin ".concat(r," not found"),{context:"plugins",plugin:r})},qF=function(){function o(){this.plugins={}}return o.prototype.add=function(r,t){var e=this.get(r);return e||(this.plugins[r]=t,t)},o.prototype.get=function(r){return this.plugins[r]},o.prototype.getAll=function(){return this.plugins},o}();const JF=qF,ZF=function(){var o=function(){for(var t,e=window.navigator.userAgent,n=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],i=0;i<n.length;i++){var s=n[i];if(t=s[1].exec(e),t)break}return!!t};if((0,Mt.hasWin)()&&o()){var r=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(t){return t||(t=""),r.apply(document.implementation,[t])}}};var hp=function(){return hp=Object.assign||function(o){for(var r,t=1,e=arguments.length;t<e;t++){r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(o[n]=r[n])}return o},hp.apply(this,arguments)};ZF();var Ug=new JF,oC=[],s1=function(o,r){var t=i1(o,Ug);return function(e){t?t(e,r||{}):a1(e,o)}},l1={$:sr.default,editors:oC,plugins:Ug,usePlugin:s1,version:"0.21.13",init:function(o){o===void 0&&(o={});var r=o.headless,t=o.container;if(!t&&!r)throw new Error("'container' is required");var e=hp(hp({autorender:!0,plugins:[],pluginsOpts:{}},o),{grapesjs:this,el:r?void 0:(0,D.isElement)(t)?t:document.querySelector(t)}),n=new YF(e,{$:sr.default}),i=n.getModel();return e.plugins.forEach(function(s){var u=i1(s,Ug),c=e.pluginsOpts[s]||{};u?u(n,c):a1(n,s)}),i.loadOnStart(),e.autorender&&!r&&n.render(),oC.push(n),n}};const QF=l1;var tV=Mx.Ay;const eV=`
  .panel__right.gjs-pn-panel.gjs-pn-layers {
    display: none !important;
  }
`,rV={container:"#gjs",height:"600px",storageManager:!1,draggable:!0,resizable:!0,wrapper:{removable:!1,copyable:!1,draggable:!1,style:{"min-height":"100%",height:"100%",margin:"0",padding:"0",position:"relative"}},deviceManager:{devices:[{name:"Desktop",width:""},{name:"Mobile",width:"320px",widthMedia:"480px"}]},canvas:{styles:["https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css",{selectors:["body"],style:{"min-height":"100%",height:"100%",margin:"0",padding:"0",position:"relative"}}],scripts:["https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"],customBadgeLabel:!1,enableSelection:!0,enableDragging:!0,enableResizing:!0,dragMode:"absolute"},layerManager:{appendTo:".layers-container",container:".panel__right",wrapper:!1,panel:!1},panels:{defaults:[{id:"layers",el:".panel__right",buttons:[],appendTo:".panel__right",visible:!0,header:!1,resizable:!1,panel:!1}]},assetManager:{upload:"/api/upload-image",uploadName:"files",uploadPath:"/static/uploads/",assets:[]},styleManager:{appendTo:"#style",sectors:[{name:"Dimension",open:!1,buildProps:["width","height","min-width","min-height","padding","margin"]},{name:"Typography",open:!1,buildProps:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-decoration","text-shadow"]},{name:"Background",open:!1,buildProps:["background-color","background-image","background-repeat","background-position","background-size","background-attachment"]},{name:"Decorations",open:!1,buildProps:["border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,buildProps:["opacity","transition","transform"]},{name:"Position",open:!1,buildProps:["position","top","right","left","bottom","z-index"]},{name:"Alignment",open:!1,buildProps:["display","flex-direction","justify-content","align-items","text-align"]}]},blockManager:{appendTo:"#blocks",blocks:[{id:"bib",label:"Bib Number",content:'<span data-placeholder="bib">{{bib}}</span>'},{id:"name",label:"Name",content:'<span data-placeholder="name">{{name}}</span>'},{id:"city",label:"City/State",content:'<span data-placeholder="city">{{city}}</span>'},{id:"image",label:"Image",content:{type:"image"},attributes:{class:"gjs-block",title:"Drag Image"}},{id:"custom-message",label:"Custom Message",content:'<span data-placeholder="message">{{message}}</span>',attributes:{class:"gjs-block",title:"Drag Custom Message"}}]}},nV=o=>Math.round(parseInt(o)/20)*20,iC=o=>{if(!o||typeof o.getStyle!="function")return;const r=o.getStyle();r&&["top","left","width","height"].forEach(t=>{const e=parseInt(r[t]);isNaN(e)||o.addStyle({[t]:nV(e)+"px"})})};function oV(){const o=Gt.useRef(null),[r,t]=Gt.useState([]);Gt.useEffect(()=>{if(!o.current){const c=tV.init({...rV,dragMode:"absolute",blockManager:{appendTo:"#blocks",blocks:[{id:"bib",label:"Bib Number",content:'<span data-placeholder="bib">{{bib}}</span>'},{id:"name",label:"Name",content:'<span data-placeholder="name">{{name}}</span>'},{id:"city",label:"City/State",content:'<span data-placeholder="city">{{city}}</span>'},{id:"custom-message",label:"Custom Message",content:'<span data-placeholder="custom_message">{{custom_message}}</span>'},{id:"image",label:"Image",content:{type:"image"},category:"Images",attributes:{class:"gjs-block",title:"Drag Image"}},{id:"background",label:"Background",content:`<div style="min-height:100px; background-image:url(''); background-size: cover; background-position: center;"></div>`,category:"Layout",attributes:{class:"gjs-block",title:"Drag Background"}}]}});o.current=c;const f=document.createElement("style");f.textContent=eV,document.head.appendChild(f);const h=()=>{const m=document.querySelector(".panel__right.gjs-pn-panel.gjs-pn-layers");m&&m.remove()};h(),setTimeout(h,100);const g=c.getWrapper();c.StyleManager.addSector("page-background",{name:"Page Background",open:!0,buildProps:["background-color","background-image","background-size","background-position","background-repeat"]}),c.StyleManager.addProperty("page-background",{property:"background-image",type:"asset",full:!0,functionName:"url",default:"none"}),c.on("load",()=>c.select(g)),c.on("component:drag:end",iC),c.on("component:resize:end",iC),c.on("component:selected",n),c.on("component:add",m=>{m.set({draggable:!0,resizable:{handles:["tl","tr","bl","br","ml","mr","mt","mb"],minWidth:20,minHeight:20},style:{position:"absolute",cursor:"move","user-select":"none"}}),m.set("traits",[{type:"number",name:"top",label:"Top",default:0},{type:"number",name:"left",label:"Left",default:0}])}),i(c),c.Commands.add("show-layers",{run:m=>{const y=m.Panels.getPanel("layers");y&&y.set("visible",!0)},stop:m=>{const y=m.Panels.getPanel("layers");y&&y.set("visible",!1)}}),c.Commands.add("show-styles",{run:m=>{const y=m.Panels.getPanel("styles");y&&y.set("visible",!0)},stop:m=>{const y=m.Panels.getPanel("styles");y&&y.set("visible",!1)}}),c.Commands.add("align-center",{run:m=>{const y=m.getSelected();y&&y.addStyle({display:"flex","justify-content":"center","align-items":"center","text-align":"center"})}}),c.Commands.add("align-left",{run:m=>{const y=m.getSelected();y&&y.addStyle({display:"flex","justify-content":"flex-start","align-items":"center","text-align":"left"})}}),c.Commands.add("align-right",{run:m=>{const y=m.getSelected();y&&y.addStyle({display:"flex","justify-content":"flex-end","align-items":"center","text-align":"right"})}}),c.on("load",()=>{const m=c.getWrapper();if(!m.components().length){const y=m.append(`
            <div class="layout-root" 
                 style="position:relative;width:100%;height:100%;
                        display:flex;align-items:center;justify-content:center;">
            </div>
          `)[0];y.set({draggable:!0,resizable:!0,selectable:!0,hoverable:!0,removable:!1,copyable:!1,style:{"min-height":"100%",height:"100%",margin:"0",padding:"0",position:"relative"}}),c.select(y)}try{const y=c.getDocument();y&&y.body&&(y.body.style.minHeight="100%",y.body.style.height="100%",y.body.style.margin="0",y.body.style.padding="0",y.body.style.position="relative")}catch(y){console.warn("Could not access editor document:",y)}})}},[]),Gt.useEffect(()=>{e()},[]);const e=async()=>{try{const f=await(await fetch("/api/templates")).json();t(f)}catch(c){console.error("Failed to fetch templates:",c)}},n=c=>{const f=[...c.get("toolbar")||[]],h=(g,m,y)=>{f.find(w=>w.id===g)||f.push({id:g,command:m,label:y})};h("duplicate","core:clone","Dup"),h("delete","core:delete","Del"),h("align-l","align-left","L"),h("align-c","align-center","C"),h("align-r","align-right","R"),c.getAttributes&&c.getAttributes()["data-placeholder"]==="custom_message"&&h("edit-msg","edit-custom-message","✎"),c.set("toolbar",f),c.set("draggable",!0),c.set("resizable",{handles:["tl","tr","bl","br","ml","mr","mt","mb"],minWidth:20,minHeight:20}),c.set("movable",!0),c.addStyle({cursor:"move","user-select":"none"})},i=c=>{c.Commands.add("save-template",{run:s}),c.Commands.add("fullscreen",{run(f){f.getContainer().classList.add("gjs-fullscreen")},stop(f){f.getContainer().classList.remove("gjs-fullscreen")}}),c.Commands.add("align-left",{run(f){const h=f.getSelected();h&&h.addStyle({"text-align":"left"})}}),c.Commands.add("align-center",{run(f){const h=f.getSelected();h&&h.addStyle({"text-align":"center"})}}),c.Commands.add("align-right",{run(f){const h=f.getSelected();h&&h.addStyle({"text-align":"right"})}}),c.Commands.add("edit-custom-message",{run(f){const h=f.getSelected();if(!h)return;const g=h.getAttributes&&h.getAttributes(),m=g&&g["data-messages"]||"",y=prompt("Custom messages (comma separated)",m);y!==null&&h.addAttributes({"data-messages":y})}})},s=async()=>{const c=prompt("Template name");if(c)try{const f=o.current.getHtml(),g=`<style>${o.current.getCss()}</style>${f}`;await fetch("/api/templates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:c,html:g})}),await e()}catch(f){console.error("Failed to save template:",f)}},u=async c=>{const f=c.target.value;if(f)try{const g=await(await fetch(`/api/templates/${f}`)).json();if(o.current){const m=document.createElement("div");m.innerHTML=g.html||"";const y=m.querySelector("style"),w=y?y.innerHTML:"";y&&y.remove(),o.current.setComponents(m.innerHTML),o.current.setStyle(w)}}catch(h){console.error("Failed to load template:",h)}};return ye.jsxs("div",{className:"canvas-builder",children:[ye.jsxs("div",{className:"canvas-builder__toolbar",children:[ye.jsx("button",{className:"btn btn-secondary me-2",onClick:()=>o.current.runCommand("core:undo"),children:"Undo"}),ye.jsx("button",{className:"btn btn-secondary me-2",onClick:()=>o.current.runCommand("core:redo"),children:"Redo"}),ye.jsx("button",{className:"btn btn-secondary me-2",onClick:()=>o.current.runCommand("open-assets"),children:"Images"}),ye.jsx("button",{className:"btn btn-secondary me-2",onClick:()=>o.current.runCommand("fullscreen"),children:"Fullscreen"}),ye.jsx("button",{className:"btn btn-primary me-2",onClick:()=>o.current.runCommand("save-template"),children:"Save Template"}),ye.jsxs("select",{className:"form-select d-inline w-auto",onChange:u,children:[ye.jsx("option",{value:"",children:"Load Template..."}),r.map(c=>ye.jsx("option",{value:c,children:c},c))]})]}),ye.jsxs("div",{className:"canvas-builder__workspace",children:[ye.jsx("div",{id:"blocks",className:"canvas-builder__blocks"}),ye.jsx("div",{id:"gjs",className:"canvas-builder__editor"}),ye.jsxs("div",{className:"canvas-builder__right-panel",children:[ye.jsx("div",{className:"panel__right"}),ye.jsx("div",{id:"style",className:"canvas-builder__styles"})]})]})]})}function iV(){return ye.jsx("div",{className:"container-fluid p-3",children:ye.jsx("div",{children:ye.jsx("div",{className:"display-container",children:ye.jsx(oV,{})})})})}function aV(){const[o,r]=Gt.useState(null),[t,e]=Gt.useState([]),[n,i]=Gt.useState(""),[s,u]=Gt.useState(""),[c,f]=Gt.useState(!1),h=Gt.useRef(null),g=Gt.useRef([]),m=Gt.useRef(0);return Gt.useEffect(()=>{(async()=>{try{const b=await(await fetch("/api/templates")).json();b.length===0?(e(["Default"]),i("Default"),u(`<div class="text-center p-4">
  <h1 data-placeholder="name">{{name}}</h1>
  <h3 data-placeholder="city">{{city}}</h3>
  <p data-placeholder="message">{{message}}</p>
</div>`)):(e(b),i(b[0]))}catch(w){console.error("Failed to fetch templates:",w)}})()},[]),Gt.useEffect(()=>{if(!n)return;(async()=>{try{const b=await(await fetch(`/api/templates/${n}`)).json();u(b.html||"")}catch(w){console.error("Failed to load template:",w)}})()},[n]),Gt.useEffect(()=>{if(h.current){h.current.innerHTML=s;const y=h.current.querySelector('[data-placeholder="custom_message"]');if(y){const w=y.getAttribute("data-messages")||"";g.current=w.split(",").map(b=>b.trim()).filter(b=>b),m.current=0}else g.current=[],m.current=0}},[s]),Gt.useEffect(()=>{if(!o||!h.current)return;const y=h.current,w=(b,O)=>{const S=y.querySelector("."+b);S&&(S.textContent=O||"")};w("runner-name",o.name),w("runner-city",o.city),w("runner-message",o.message),w("bib-number",o.bib),y.querySelectorAll("[data-placeholder]").forEach(b=>{const O=b.getAttribute("data-placeholder");let S=o[O];O==="custom_message"&&(g.current.length?(S=g.current[m.current%g.current.length],m.current+=1):S=""),S!==void 0&&(b.tagName==="IMG"?b.src=S:b.textContent=S||"")})},[o,s]),Gt.useEffect(()=>{const y=new EventSource("/stream");return y.onmessage=w=>{try{const b=JSON.parse(w.data);b.keepalive||r(b)}catch{}},y.onerror=()=>y.close(),()=>y.close()},[]),ye.jsxs("div",{className:"runner-display-container",children:[ye.jsx("button",{className:"settings-btn btn btn-light",onClick:()=>f(!c),children:"⚙️"}),ye.jsx("div",{ref:h,className:"runner-template"}),c&&ye.jsxs("div",{className:"settings-panel",children:[ye.jsx("h5",{children:"Display Settings"}),ye.jsx("select",{className:"form-select mb-3",value:n,onChange:y=>i(y.target.value),children:t.map(y=>ye.jsx("option",{value:y,children:y},y))}),ye.jsx(tk,{to:"/builder",className:"btn btn-secondary w-100",children:"Open Builder"})]})]})}function sV(){return ye.jsx("div",{className:"container-fluid p-0",children:ye.jsx(aV,{})})}function lV(){return ye.jsxs(WP,{children:[ye.jsx(Hf,{path:"/",element:ye.jsx(rk,{})}),ye.jsx(Hf,{path:"/display",element:ye.jsx(sV,{})}),ye.jsx(Hf,{path:"/builder",element:ye.jsx(iV,{})})]})}_v.createRoot(document.getElementById("root")).render(ye.jsx(gC.StrictMode,{children:ye.jsx(JP,{children:ye.jsx(lV,{})})}));
